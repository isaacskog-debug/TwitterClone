/*! For license information please see main.0259e8a9.js.LICENSE.txt */
!function(){var e={4647:function(){},3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ae}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,k=0,b="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function _(){return k=g>0?l(b,--g):0,m--,10===k&&(m=1,v--),k}function I(){return k=g<y?l(b,g++):0,m++,10===k&&(m=1,v++),k}function E(){return l(b,g)}function S(){return g}function T(e,t){return f(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return v=m=1,y=h(b=e),g=0,[]}function N(e){return b="",e}function D(e){return u(T(g-1,P(91===e?e+2:40===e?e+1:e)))}function O(e){for(;(k=E())&&k<33;)I();return C(e)>2||C(k)>3?"":" "}function R(e,t){for(;--t&&I()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return T(e,S()+(t<6&&32==E()&&32==I()))}function P(e){for(;I();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&P(k);break;case 40:41===e&&P(e);break;case 92:I()}return g}function L(e,t){for(;I()&&e+k!==57&&(e+k!==84||47!==E()););return"/*"+T(t,g-1)+"*"+a(47===e?e:I())}function M(e){for(;!C(E());)I();return T(e,g)}var F="-ms-",V="-moz-",U="-webkit-",j="comm",B="rule",z="decl",Z="@import",q="@keyframes";function K(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case Z:case z:return e.return=e.return||e.value;case j:return"";case q:return e.return=e.value+"{"+K(e.children,r)+"}";case B:e.value=e.props.join(",")}return h(n=K(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return N(H("",null,null,null,[""],e=A(e),0,[0],e))}function H(e,t,n,r,i,o,u,f,d){for(var v=0,m=0,y=u,g=0,k=0,b=0,w=1,x=1,T=1,C=0,A="",N=i,P=o,F=r,V=A;x;)switch(b=C,C=I()){case 40:if(108!=b&&58==l(V,y-1)){-1!=c(V+=s(D(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:V+=D(C);break;case 9:case 10:case 13:case 32:V+=O(b);break;case 92:V+=R(S()-1,7);continue;case 47:switch(E()){case 42:case 47:p($(L(I(),S()),t,n),d);break;default:V+="/"}break;case 123*w:f[v++]=h(V)*T;case 125*w:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+m:k>0&&h(V)-y&&p(k>32?Y(V+";",r,n,y-1):Y(s(V," ","")+";",r,n,y-2),d);break;case 59:V+=";";default:if(p(F=Q(V,t,n,v,m,i,f,A,N=[],P=[],y),o),123===C)if(0===m)H(V,t,F,F,N,o,y,f,P);else switch(99===g&&110===l(V,3)?100:g){case 100:case 109:case 115:H(e,F,F,r&&p(Q(e,F,F,0,0,i,f,A,i,N=[],y),P),i,P,y,f,r?N:P);break;default:H(V,F,F,F,[""],P,0,f,P)}}v=m=k=0,w=T=1,A=V="",y=u;break;case 58:y=1+h(V),k=b;default:if(w<1)if(123==C)--w;else if(125==C&&0==w++&&125==_())continue;switch(V+=a(C),C*w){case 38:T=m>0?1:(V+="\f",-1);break;case 44:f[v++]=(h(V)-1)*T,T=1;break;case 64:45===E()&&(V+=D(I())),g=E(),m=y=h(A=V+=M(S())),C++;break;case 45:45===b&&2==h(V)&&(w=0)}}return o}function Q(e,t,n,r,a,o,c,l,h,p,v){for(var m=a-1,y=0===a?o:[""],g=d(y),k=0,b=0,x=0;k<r;++k)for(var _=0,I=f(e,m+1,m=i(b=c[k])),E=e;_<g;++_)(E=u(b>0?y[_]+" "+I:s(I,/&\f/g,y[_])))&&(h[x++]=E);return w(e,t,n,0===a?B:l,h,p,v)}function $(e,t,n){return w(e,t,n,j,a(k),f(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,z,f(e,0,r),f(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,i=0;r=i,i=E(),38===r&&12===i&&(t[n]=1),!C(i);)I();return T(e,g)},J=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=X(g-1,t,n);break;case 2:e[n]+=D(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=I());return e}(A(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=J(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function re(e,t){switch(function(e,t){return 45^l(e,0)?(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+V+e+F+e+e;case 6828:case 4268:return U+e+F+e+e;case 6165:return U+e+F+"flex-"+e+e;case 5187:return U+e+s(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return U+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return U+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+F+s(e,"shrink","negative")+e;case 5292:return U+e+F+s(e,"basis","preferred-size")+e;case 6060:return U+"box-"+s(e,"-grow","")+U+e+F+s(e,"grow","positive")+e;case 4554:return U+s(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+V+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?re(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":"+U)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===l(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return U+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+F+e+e}return e}var ie=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=re(e.value,e.length);break;case q:return K([x(e,{value:s(e.value,"@","@"+U)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return K([x(e,{props:[s(t,/:(read-\w+)/,":"+V+"$1")]})],r);case"::placeholder":return K([x(e,{props:[s(t,/:(plac\w+)/,":"+U+"input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":"+V+"$1")]}),x(e,{props:[s(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ae=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||ie;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[W,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){c=n,K(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(9797),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o}});var i=n(2791),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()};a||i.useLayoutEffect},91:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"}),"BookmarkBorder");t.Z=o},3164:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}),"ChatBubbleOutline");t.Z=o},7488:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=o},7541:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=o},1992:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=o},2129:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.Z=o},2094:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.Z=o},2:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}),"NotificationsNone");t.Z=o},5232:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity");t.Z=o},8401:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.Z=o},9627:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}),"Repeat");t.Z=o},5403:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},4668:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e,n&&n.set(e,r)}(n(2791));var i=r(n(5649)),a=n(184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var u=(0,i.default)((0,a.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");t.Z=u},9930:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"VerifiedUser");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(1055)},4591:function(e,t,n){"use strict";n.d(t,{Z:function(){return q}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(7416),c=n(104),l=n(4942);function f(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,l.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,l.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var h=n(2065),d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},k={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},w=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function I(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,h.$n)(e.main,i):"dark"===t&&(e.dark=(0,h._j)(e.main,a)))}function E(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,l=void 0===c?.2:c,f=(0,i.Z)(e,w),E=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(n),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[500],light:m[300],dark:m[700]}:{main:m[700],light:m[400],dark:m[800]}}(n),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:k[400],light:k[300],dark:k[700]}:{main:k[700],light:k[500],dark:k[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:"#ed6c02",light:y[500],dark:y[900]}}(n);function D(e){return(0,h.mi)(e,_.text.primary)>=s?_.text.primary:x.text.primary}var O=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,f=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return I(t,"light",s,l),I(t,"dark",f,l),t.contrastText||(t.contrastText=D(t.main)),t},R={dark:_,light:x};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:n,primary:O({color:E,name:"primary"}),secondary:O({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:O({color:T,name:"error"}),warning:O({color:N,name:"warning"}),info:O({color:C,name:"info"}),success:O({color:A,name:"success"}),grey:p,contrastThreshold:s,getContrastText:D,augmentColor:O,tonalOffset:l},R[n]),f)}var S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var T={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function A(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?C:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,S);var _=c/14,I=w||function(e){return"".concat(e/k*_,"rem")},E=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:I(t),lineHeight:n},u===C?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},A={h1:E(f,96,1.167,-1.5),h2:E(f,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(v,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(v,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(v,14,1.75,.4,T),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,T)};return(0,o.Z)((0,r.Z)({htmlFontSize:k,pxToRem:I,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},A),x,{clone:!1})}var N=.2,D=.14,O=.12;function R(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(N,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(D,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(O,")")].join(",")}var P=["none",R(0,2,1,-1,0,1,1,0,0,1,3,0),R(0,3,1,-2,0,2,2,0,0,1,5,0),R(0,3,3,-2,0,3,4,0,0,1,8,0),R(0,2,4,-1,0,4,5,0,0,1,10,0),R(0,3,5,-1,0,5,8,0,0,1,14,0),R(0,3,5,-1,0,6,10,0,0,1,18,0),R(0,4,5,-2,0,7,10,1,0,2,16,1),R(0,5,5,-3,0,8,10,1,0,3,14,2),R(0,5,6,-3,0,9,12,1,0,3,16,2),R(0,6,6,-3,0,10,14,1,0,4,18,3),R(0,6,7,-4,0,11,15,1,0,4,20,3),R(0,7,8,-4,0,12,17,2,0,5,22,4),R(0,7,8,-4,0,13,19,2,0,5,24,4),R(0,7,9,-4,0,14,21,2,0,5,26,4),R(0,8,9,-5,0,15,22,2,0,6,28,5),R(0,8,10,-5,0,16,24,2,0,6,30,5),R(0,8,11,-5,0,17,26,2,0,6,32,5),R(0,9,11,-5,0,18,28,2,0,7,34,6),R(0,9,12,-6,0,19,29,2,0,7,36,6),R(0,10,13,-6,0,20,31,3,0,8,38,7),R(0,10,13,-6,0,21,33,3,0,8,40,7),R(0,10,14,-6,0,22,35,3,0,8,42,7),R(0,11,14,-7,0,23,36,3,0,9,44,8),R(0,11,15,-7,0,24,38,3,0,9,46,8)],L=["duration","easing","delay"],M={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},F={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function V(e){return"".concat(Math.round(e),"ms")}function U(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function j(e){var t=(0,r.Z)({},M,e.easing),n=(0,r.Z)({},F,e.duration);return(0,r.Z)({getAutoHeightDuration:U,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,L);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:V(o)," ").concat(s," ").concat("string"===typeof l?l:V(l))})).join(",")}},e,{easing:t,duration:n})}var B={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},z=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,l=e.palette,h=void 0===l?{}:l,d=e.transitions,p=void 0===d?{}:d,v=e.typography,m=void 0===v?{}:v,y=(0,i.Z)(e,z);if(e.vars)throw new Error((0,a.Z)(18));var g=E(h),k=(0,u.Z)(e),b=(0,o.Z)(k,{mixins:f(k.breakpoints,n),palette:g,shadows:P.slice(),typography:A(g,m),transitions:j(p),zIndex:(0,r.Z)({},B)});b=(0,o.Z)(b,y);for(var w=arguments.length,x=new Array(w>1?w-1:0),_=1;_<w;_++)x[_-1]=arguments[_];return(b=x.reduce((function(e,t){return(0,o.Z)(e,t)}),b)).unstable_sxConfig=(0,r.Z)({},s.Z,null==y?void 0:y.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},b}var q=Z()},9359:function(e,t,n){"use strict";n.d(t,{ZP:function(){return K},FO:function(){return Z}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),u=n(2791),s=n(9797),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,s.Z)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(3361),h=n(9140),d=n(2561),p=(0,u.createContext)("undefined"!==typeof HTMLElement?(0,f.Z)({key:"css"}):null);p.Provider;var v=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(p);return e(t,r,n)}))},m=(0,u.createContext)({});var y=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},g=l,k=function(e){return"theme"!==e},b=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?g:k},w=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},x=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;y(t,n,r);(0,d.L)((function(){return function(e,t,n){y(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},_=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=w(t,n,a),l=c||b(s),f=!l("as");return function(){var d=arguments,p=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{0,p.push(d[0][0]);for(var y=d.length,g=1;g<y;g++)p.push(d[g],d[0][g])}var k=v((function(e,t,n){var r=f&&e.as||s,a="",o=[],d=e;if(null==e.theme){for(var v in d={},e)d[v]=e[v];d.theme=(0,u.useContext)(m)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var y=(0,h.O)(p.concat(o),t.registered,d);a+=t.key+"-"+y.name,void 0!==i&&(a+=" "+i);var g=f&&void 0===c?b(r):l,k={};for(var w in e)f&&"as"===w||g(w)&&(k[w]=e[w]);return k.className=a,k.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(x,{cache:t,serialized:y,isStringTag:"string"===typeof r}),(0,u.createElement)(r,k))}));return k.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=s,k.__emotion_styles=p,k.__emotion_forwardProp=c,Object.defineProperty(k,"toString",{value:function(){return"."+i}}),k.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:w(k,r,!0)})).apply(void 0,p)},k}},I=_.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){I[e]=I(e)}));var E=I;var S=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},T=n(5080),C=n(7312),A=["variant"];function N(e){return 0===e.length}function D(e){var t=e.variant,n=(0,a.Z)(e,A),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?N(r)?e[t]:(0,C.Z)(e[t]):"".concat(N(r)?t:(0,C.Z)(t)).concat((0,C.Z)(e[t].toString()))})),r}var O=n(104),R=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],P=["theme"],L=["theme"];function M(e){return 0===Object.keys(e).length}var F=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},V=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=D(e.props);r[t]=e.style})),r},U=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[D(n.props)])})),s};function j(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var B=(0,T.Z)();var z=n(4591),Z=function(e){return j(e)&&"classes"!==e},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?B:t,u=e.rootShouldForwardProp,s=void 0===u?j:u,c=e.slotShouldForwardProp,l=void 0===c?j:c,f=function(e){var t=M(e.theme)?n:e.theme;return(0,O.Z)((0,o.Z)({},e,{theme:t}))};return f.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u=t.name,c=t.slot,h=t.skipVariantsResolver,d=t.skipSx,p=t.overridesResolver,v=(0,a.Z)(t,R),m=void 0!==h?h:c&&"Root"!==c||!1,y=d||!1;var g=j;"Root"===c?g=s:c?g=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var k=function(e,t){return E(e,t)}(e,(0,o.Z)({shouldForwardProp:g,label:undefined},v)),b=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),c=1;c<t;c++)s[c-1]=arguments[c];var l=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,a.Z)(t,P);return e((0,o.Z)({theme:M(r)?n:r},i))}:e})):[],h=e;u&&p&&l.push((function(e){var t=M(e.theme)?n:e.theme,r=F(u,t);if(r){var a={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),p(e,a)}return null})),u&&!m&&l.push((function(e){var t=M(e.theme)?n:e.theme;return U(e,V(u,t),t,u)})),y||l.push(f);var d=l.length-s.length;if(Array.isArray(e)&&d>0){var v=new Array(d).fill("");(h=[].concat((0,r.Z)(e),(0,r.Z)(v))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(v))}else"function"===typeof e&&e.__emotion_real!==e&&(h=function(t){var r=t.theme,i=(0,a.Z)(t,L);return e((0,o.Z)({theme:M(r)?n:r},i))});return k.apply(void 0,[h].concat((0,r.Z)(l)))};return k.withConfig&&(b.withConfig=k.withConfig),b}}({defaultTheme:z.Z,rootShouldForwardProp:Z}),K=q},2507:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5735);var i=n(5080),a=n(2791);var o=a.createContext(null);var u=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=a.useContext(o);return n&&(e=n,0!==Object.keys(e).length)?n:t},s=(0,i.Z)();var c=function(){return u(arguments.length>0&&void 0!==arguments[0]?arguments[0]:s)};function l(e){var t=e.props,n=e.name,i=e.defaultTheme,a=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:c(i),name:n,props:t});return a}var f=n(4591);function h(e){return l({props:e.props,name:e.name,defaultTheme:f.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(4036),c=n(2507),l=n(9359),f=n(5878),h=n(1217);function d(e){return(0,h.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),y=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,h=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,_=void 0!==x&&x,I=n.titleAccess,E=n.viewBox,S=void 0===E?"0 0 24 24":E,T=(0,a.Z)(n,v),C=(0,r.Z)({},n,{color:h,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:S}),A={};_||(A.viewBox=S);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,d,r)}(C);return(0,p.jsxs)(m,(0,r.Z)({as:g,className:(0,o.Z)(N.root,l),focusable:"false",color:w,"aria-hidden":!I||void 0,role:I?"img":void 0,ref:t},A,T,{ownerState:C,children:[i,I?(0,p.jsx)("title",{children:I}):null]}))}));y.muiName="SvgIcon";var g=y;function k(e,t){function n(n,i){return(0,p.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},1055:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return f},ownerDocument:function(){return d},ownerWindow:function(){return p},requirePropFactory:function(){return v},setRef:function(){return m},unstable_ClassNameGenerator:function(){return T},unstable_useEnhancedEffect:function(){return y},unstable_useId:function(){return w},unsupportedProp:function(){return x},useControlled:function(){return _},useEventCallback:function(){return I.Z},useForkRef:function(){return E.Z},useIsFocusVisible:function(){return S.Z}});var r=n(5902),i=n(4036);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},o=n(9201);var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var s=function(e,t){return function(){return null}},c=n(2791),l=n.t(c,2);var f=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function h(e){return e&&e.ownerDocument||document}var d=h;var p=function(e){return h(e).defaultView||window};n(7462);var v=function(e,t){return function(){return null}},m=n(2971).Z,y=n(5721).Z,g=n(9439),k=0;var b=l.useId;var w=function(e){if(void 0!==b){var t=b();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(k+=1))}),[r]),a}(e)};var x=function(e,t,n,r,i){return null};var _=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,c.useRef(void 0!==t).current),i=c.useState(n),a=(0,g.Z)(i,2),o=a[0],u=a[1];return[r?t:o,c.useCallback((function(e){r||u(e)}),[])]},I=n(6868),E=n(4843),S=n(3031),T={configure:function(e){r.Z.configure(e)}}},6868:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);var a=function(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},4843:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,i.Z)(t,e)}))}}),t)}},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type||"hsla"===e.type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})};var c={borderRadius:4},l=n(5682);var f=n(104),h=n(7416),d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,p=void 0===o?{}:o,v=e.spacing,m=e.shape,y=void 0===m?{}:m,g=(0,i.Z)(e,d),k=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,o=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=s(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(o,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(o,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},f)}(n),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(v),w=(0,a.Z)({breakpoints:k,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},p),spacing:b,shape:(0,r.Z)({},c,y)},g),x=arguments.length,_=new Array(x>1?x-1:0),I=1;I<x;I++)_[I-1]=arguments[I];return(w=_.reduce((function(e,t){return(0,a.Z)(e,t)}),w)).unstable_sxConfig=(0,r.Z)({},h.Z,null==g?void 0:g.unstable_sxConfig),w.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},w}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return m},e6:function(){return k},o3:function(){return b}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.DW)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return o},Jq:function(){return u}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(5682),i=n(8529),a=n(8247);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,a.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},u=n(1184);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,i.ZP)({prop:"border",themeKey:"borders",transform:s}),l=(0,i.ZP)({prop:"borderTop",themeKey:"borders",transform:s}),f=(0,i.ZP)({prop:"borderRight",themeKey:"borders",transform:s}),h=(0,i.ZP)({prop:"borderBottom",themeKey:"borders",transform:s}),d=(0,i.ZP)({prop:"borderLeft",themeKey:"borders",transform:s}),p=(0,i.ZP)({prop:"borderColor",themeKey:"palette"}),v=(0,i.ZP)({prop:"borderTopColor",themeKey:"palette"}),m=(0,i.ZP)({prop:"borderRightColor",themeKey:"palette"}),y=(0,i.ZP)({prop:"borderBottomColor",themeKey:"palette"}),g=(0,i.ZP)({prop:"borderLeftColor",themeKey:"palette"}),k=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,r.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["borderRadius"];o(c,l,f,h,d,p,v,m,y,g,k);var b=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,r.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,r.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["gap"];var w=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,r.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,r.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["columnGap"];var x=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,r.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,r.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["rowGap"];o(b,w,x,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function _(e,t){return"grey"===t?t:e}o((0,i.ZP)({prop:"color",themeKey:"palette",transform:_}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:_}));function I(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var E=(0,i.ZP)({prop:"width",transform:I}),S=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||u.VO[t]||I(t)}}))}return null};S.filterProps=["maxWidth"];var T=(0,i.ZP)({prop:"minWidth",transform:I}),C=(0,i.ZP)({prop:"height",transform:I}),A=(0,i.ZP)({prop:"maxHeight",transform:I}),N=(0,i.ZP)({prop:"minHeight",transform:I}),D=((0,i.ZP)({prop:"size",cssProperty:"width",transform:I}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:I}),o(E,S,T,C,A,N,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:s},borderTop:{themeKey:"borders",transform:s},borderRight:{themeKey:"borders",transform:s},borderBottom:{themeKey:"borders",transform:s},borderLeft:{themeKey:"borders",transform:s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:k},color:{themeKey:"palette",transform:_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_},backgroundColor:{themeKey:"palette",transform:_},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:b},rowGap:{style:x},columnGap:{style:w},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:I},maxWidth:{style:S},minWidth:{transform:I},height:{transform:I},maxHeight:{transform:I},minHeight:{transform:I},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:function(e,t,n){"use strict";var r=n(4942),i=n(7312),a=n(8247),o=n(8529),u=n(1184),s=n(7416);var c=function(){function e(e,t,n,a){var s,c=(s={},(0,r.Z)(s,e,t),(0,r.Z)(s,"theme",n),s),l=a[e];if(!l)return(0,r.Z)({},e,t);var f=l.cssProperty,h=void 0===f?e:f,d=l.themeKey,p=l.transform,v=l.style;if(null==t)return null;var m=(0,o.DW)(n,d)||{};if(v)return v(c);return(0,u.k9)(c,t,(function(t){var n=(0,o.Jq)(m,p,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(m,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===h?n:(0,r.Z)({},h,n)}))}return function t(n){var i,o=n||{},c=o.sx,l=o.theme,f=void 0===l?{}:l;if(!c)return null;var h=null!=(i=f.unstable_sxConfig)?i:s.Z;function d(n){var i=n;if("function"===typeof n)i=n(f);else if("object"!==typeof n)return n;if(!i)return null;var o=(0,u.W8)(f.breakpoints),s=Object.keys(o),c=o;return Object.keys(i).forEach((function(n){var o,s,l=(o=i[n],s=f,"function"===typeof o?o(s):o);if(null!==l&&void 0!==l)if("object"===typeof l)if(h[n])c=(0,a.Z)(c,e(n,l,f,h));else{var d=(0,u.k9)({theme:f},l,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,l)?c=(0,a.Z)(c,d):c[n]=t({sx:l,theme:f})}else c=(0,a.Z)(c,e(n,l,f,h))})),(0,u.L7)(s,c)}return Array.isArray(c)?c.map(d):d(c)}}();c.filterProps=["sx"],t.Z=c},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=a(e[n])})),t}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},u=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?u[r]=o(e[r],t[r],n):n.clone?u[r]=i(t[r])?a(t[r]):t[r]:u[r]=t[r])})),u}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(a){if(a.toString().match(/^(components|slots)$/))n[a]=(0,r.Z)({},e[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){var o=e[a]||{},u=t[a];n[a]={},u&&Object.keys(u)?o&&Object.keys(o)?(n[a]=(0,r.Z)({},u),Object.keys(o).forEach((function(e){n[a][e]=i(o[e],u[e])}))):n[a]=u:n[a]=o}else void 0===n[a]&&(n[a]=e[a])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in a=Object(arguments[s]))n.call(a,c)&&(u[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(u[o[l]]=a[o[l]])}}return u}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,E=60108,S=60114,T=60109,C=60110,A=60112,N=60113,D=60120,O=60115,R=60116,P=60121,L=60128,M=60129,F=60130,V=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),I=U("react.fragment"),E=U("react.strict_mode"),S=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),D=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),P=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),V=U("react.legacy_hidden")}var j,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function Z(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var q=!1;function K(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Z(e):""}function W(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case P:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ce(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ce=null;function Ae(e){if(e=ni(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Se(e.stateNode,e.type,t))}}function Ne(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function De(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Le=Oe,Me=!1,Fe=!1;function Ve(){null===Te&&null===Ce||(Pe(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){je=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){je=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ze=!1,qe=null,Ke=!1,We=null,Ge={onError:function(e){Ze=!0,qe=e}};function He(e,t,n,r,i,a,o,u,s){Ze=!1,qe=null,ze.apply(Ge,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ye(i),e;if(a===r)return Ye(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,ut=null,st=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function kt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==ut&&yt(ut)&&(ut=null),null!==st&&yt(st)&&(st=null),ct.forEach(gt),lt.forEach(gt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function wt(e){function t(t){return bt(t,e)}if(0<at.length){bt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==ut&&bt(ut,e),null!==st&&bt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},It={},Et={};function St(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return It[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Tt=St("animationend"),Ct=St("animationiteration"),At=St("animationstart"),Nt=St("transitionend"),Dt=new Map,Ot=new Map,Rt=["abort","abort",Tt,"animationEnd",Ct,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Dt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Lt):0!==(u&=a)&&(r=Mt(u),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Zt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ut(10,t):e;case 10:return 0===(e=jt(192&~t))?Ut(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Zt(t)]=n}var Zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Kt|0)|0},qt=Math.log,Kt=Math.LN2;var Wt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Ht=!0;function Qt(e,t,n,r){Me||Pe();var i=Yt,a=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=a)||Ve()}}function $t(e,t,n,r){Gt(Wt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Ht)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return st=vt(st,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ee(r);if(null!==(i=ti(i))){var a=Qe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),dn=i({},fn,{view:0,detail:0}),pn=un(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=un(vn),yn=un(i({},vn,{dataTransfer:0})),gn=un(i({},dn,{relatedTarget:0})),kn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(bn),xn=un(i({},fn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var Cn=i({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Cn),Nn=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=un(Rn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Vn=f&&"TextEvent"in window&&!Fn,Un=f&&(!Mn||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function $n(e){Cr(e,0)}function Yn(e){if(Y(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Jn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Hn&&(Hn.detachEvent("onpropertychange",ir),Qn=Hn=null)}function ir(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];if(Gn(t,Qn,e,Ee(e)),e=$n,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Ve()}}}}function ar(e,t,n){"focusin"===e?(rr(),Qn=n,(Hn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function ur(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,kr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Mr(kr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Ot.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(He.apply(this,arguments),Ze){if(!Ze)throw Error(o(198));var l=qe;Ze=!1,qe=null,Ke||(Ke=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}}}if(Ke)throw e=We,Ke=!1,We=null,e}function Ar(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Nr]||(e[Nr]=!0,u.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=$t;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ti(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=a,i=Ee(n),o=[];e:{var u=Dt.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case Tt:case Ct:case At:s=kn;break;case Nt:s=On;break;case"scroll":s=pn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Jr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ri(s),d=null==c?u:ri(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ri(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Wn(u))if(Jn)m=sr;else{m=or;var y=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ur);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ri(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,kr=r,br=null);break;case"focusout":br=kr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Zn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var jr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var $r=Math.random().toString(36).slice(2),Yr="__reactFiber$"+$r,Xr="__reactProps$"+$r,Jr="__reactContainer$"+$r,ei="__reactEvents$"+$r;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Hr(e);null!==e;){if(n=e[Yr])return n;e=Hr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Xr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ui=-1;function si(e){return{current:e}}function ci(e){0>ui||(e.current=oi[ui],oi[ui]=null,ui--)}function li(e,t){ui++,oi[ui]=e.current,e.current=t}var fi={},hi=si(fi),di=si(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(o(168));li(hi,t),li(di,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var xi=null,_i=null,Ii=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ai=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Di=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ci?Ci:function(){},Vi=null,Ui=null,ji=!1,Bi=Ai(),zi=1e4>Bi?Ai:function(){return Ai()-Bi};function Zi(){switch(Ni()){case Di:return 99;case Oi:return 98;case Ri:return 97;case Pi:return 96;case Li:return 95;default:throw Error(o(332))}}function qi(e){switch(e){case 99:return Di;case 98:return Oi;case 97:return Ri;case 96:return Pi;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=qi(e),Ii(e,t)}function Wi(e,t,n){return e=qi(e),Ei(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,Si(e)}Hi()}function Hi(){if(!ji&&null!==Vi){ji=!0;var e=0;try{var t=Vi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ei(Di,Gi),n}finally{ji=!1}}}var Qi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=si(null),Xi=null,Ji=null,ea=null;function ta(){ea=Ji=Xi=null}function na(e){var t=Yi.current;ci(Yi),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Xi=e,ea=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Xi)throw Error(o(308));Ji=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var oa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),ps(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:hi.current,i.context=vi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case _:return(t=Ys(t,e.mode,n)).return=e,t}if(wa(t)||z(t))return(t=Hs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(wa(n)||z(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Hs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ys(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(wa(a))return v(e,r,a,s);if(z(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Ia(!0),Sa=Ia(!1),Ta={},Ca=si(Ta),Aa=si(Ta),Na=si(Ta);function Da(e){if(e===Ta)throw Error(o(174));return e}function Oa(e,t){switch(li(Na,t),li(Aa,e),li(Ca,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ca),li(Ca,t)}function Ra(){ci(Ca),ci(Aa),ci(Na)}function Pa(e){Da(Na.current);var t=Da(Ca.current),n=de(t,e.type);t!==n&&(li(Aa,e),li(Ca,n))}function La(e){Aa.current===e&&(ci(Ca),ci(Aa))}var Ma=si(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ua=null,ja=!1;function Ba(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Za(e){if(ja){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Gr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,ja=!1,void(Va=e);Ba(Va,n)}Va=e,Ua=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,ja=!1,Va=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ka(e){if(e!==Va)return!1;if(!ja)return qa(e),ja=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Zr(t,e.memoizedProps))for(t=Ua;t;)Ba(e,t),t=Gr(t.nextSibling);if(qa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Va?Gr(e.stateNode.nextSibling):null;return!0}function Wa(){Ua=Va=null,ja=!1}var Ga=[];function Ha(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Qa=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Ya=0,Xa=null,Ja=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if(Ya=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?Oo:Ro,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Ja=null,t.updateQueue=null,Qa.current=Po,e=n(r,i)}while(no)}if(Qa.current=Do,t=null!==Ja&&null!==Ja.next,Ya=0,eo=Ja=Xa=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Xa.memoizedState=eo=e:eo=eo.next=e,eo}function uo(){if(null===Ja){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=Ja.next;var t=null===eo?Xa.memoizedState:eo.next;if(null!==t)eo=t,Ja=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ja=e).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===eo?Xa.memoizedState=eo=e:eo=eo.next=e}return eo}function so(e,t){return"function"===typeof t?t(e):t}function co(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ja,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ya&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Xa.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,cr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);cr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ya&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function ho(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Qa.current,c=s.useState((function(){return fo(i,t,n)})),l=c[1],f=c[0];c=eo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!cr(u,e)){e=n(t._source),cr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Zt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:f}).dispatch=l=No.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=fo(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return ho(uo(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:e}).dispatch=No.bind(null,Xa,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function go(){return uo().memoizedState}function ko(e,t,n,r){var i=oo();Xa.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==Ja){var o=Ja.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}Xa.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return ko(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function So(){}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Zi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function No(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,cr(s,u))return}catch(c){}ps(e,i,r)}}var Do={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Oo={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Xa,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:So,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(ja){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,mo(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:_o,useMemo:Co,useReducer:co,useRef:go,useState:function(){return co(so)},useDebugValue:So,useDeferredValue:function(e){var t=co(so),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=co(so)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(so)[0]},unstable_isNewReconciler:!1},Po={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:_o,useMemo:Co,useReducer:lo,useRef:go,useState:function(){return lo(so)},useDebugValue:So,useDeferredValue:function(e){var t=lo(so),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(so)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(so)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ea(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Zo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Zo(e,t,n,r,i){var a=mi(n)?pi:hi.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function qo(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ka(t,o,r,c),oa=!1;var h=t.memoizedState;o.state=h,ha(t,r,o,i),s=t.memoizedState,u!==r||h!==s||di.current||oa?("function"===typeof l&&(va(t,n,l,r),s=t.memoizedState),(u=oa||ya(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,sa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:$i(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=aa(s):s=vi(t,s=mi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ka(t,o,r,s),oa=!1,h=t.memoizedState,o.state=h,ha(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||di.current||oa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=oa||ya(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Oa(e,t.containerInfo)}var Go,Ho,Qo,$o,Yo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(Ma,1&a),null===e?(void 0!==i.fallback&&Za(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Hs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=Hs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!ja)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Ra(),ci(di),ci(hi),Ha(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ho(t),null;case 5:La(t);var a=Da(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Ca.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Yr]=t,r[Xr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Ar(Er[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Yr]=t,e[Xr]=r,Go(e,t,!1,!1),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Ar(Er[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Na.current),Da(Ca.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ci(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Vu&&(Vu=3):(0!==Vu&&3!==Vu||(Vu=4),null===Ru||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),Ho(t),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(Ma),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Vu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!ja)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ma.current,li(Ma,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),ci(di),ci(hi),Ha(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return ci(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Ma),null;case 4:return Ra(),null;case 10:return na(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(){},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Da(Ca.current);var o,u=null;switch(n){case"input":a=J(e,a),r=J(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Yu=r),lu(0,t)},n}function du(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Iu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ye(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Du=w.ReactCurrentOwner,Ou=0,Ru=null,Pu=null,Lu=0,Mu=0,Fu=si(0),Vu=0,Uu=null,ju=0,Bu=0,zu=0,Zu=0,qu=null,Ku=0,Wu=1/0;function Gu(){Wu=zi()+500}var Hu,Qu=null,$u=!1,Yu=null,Xu=null,Ju=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Zi()?1:2;if(0===ss&&(ss=ju),0!==Qi.transition){0!==cs&&(cs=null!==qu?qu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Zi(),0!==(4&Ou)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ru&&(zu|=t,4===Vu&&gs(e,Lu));var r=Zi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),Gi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),qu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Zt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Ru?Lu:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],Ui=Ei(Di,Hi)):Vi.push(n),n=Mi):14===t?n=Wi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Wi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Ss();for(Ru===e&&Lu===r||(Gu(),Is(e,r));;)try{As();break}catch(s){Es(e,s)}if(ta(),Nu.current=a,Ou=i,null!==Pu?r=0:(Ru=null,Lu=0,r=Vu),0!==(ju&zu))Is(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Vt(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Is(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Zt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=qr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~Zu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(ju&zu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Vt(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Is(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,zi()),null}function bs(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Gi())}}function ws(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Gi())}}function xs(e,t){li(Fu,Mu),Mu|=t,ju|=t}function _s(){Mu=Fu.current,ci(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ra(),ci(di),ci(hi),Ha();break;case 5:La(r);break;case 4:Ra();break;case 13:case 19:ci(Ma);break;case 10:na(r);break;case 23:case 24:_s()}n=n.return}Ru=e,Pu=Ws(e.current,null),Lu=Mu=ju=t,Vu=0,Uu=null,Zu=zu=Bu=0}function Es(e,t){for(;;){var n=Pu;try{if(ta(),Qa.current=Do,to){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Ya=0,eo=Ja=Xa=null,no=!1,Du.current=null,null===n||null===n.return){Vu=1,Uu=t,Pu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=ca(-1,1);g.tag=2,la(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Vu&&(Vu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,fa(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,fa(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ds(n)}catch(_){t=_,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Do,null===e?Do:e}function Ts(e,t){var n=Ou;Ou|=16;var r=Ss();for(Ru===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Es(e,i)}if(ta(),Ou=n,Nu.current=r,null!==Pu)throw Error(o(261));return Ru=null,Lu=0,Vu}function Cs(){for(;null!==Pu;)Ns(Pu)}function As(){for(;null!==Pu&&!Ti();)Ns(Pu)}function Ns(e){var t=Hu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Ds(e):Pu=t,Du.current=null}function Ds(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Pu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Pu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Vu&&(Vu=5)}function Os(e){var t=Zi();return Ki(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Zt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Pu=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Du.current=null,jr=Ht,mr(u=vr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Ht=!1,ls=null,fs=!1,Qu=r;do{try{Ps()}catch(S){if(null===Qu)throw Error(o(330));js(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ye(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Su(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Su(Qu.alternate,Qu);break;case 4:Su(Qu.alternate,Qu);break;case 8:Eu(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));js(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);if(w=Br,b=vr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&pr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=dr(k,x),a=dr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ht=!!jr,Br=jr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var _=Qu.flags;if(36&_&&yu(k,Qu.alternate,Qu),128&_){b=void 0;var I=Qu.ref;if(null!==I){var E=Qu.stateNode;Qu.tag,b=E,"function"===typeof I?I(b):I.current=b}}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));js(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Fi(),Ou=i}else e.current=n;if(Ju)Ju=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((_=Qu).sibling=null,_.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,zi()),$u)throw $u=!1,e=Yu,Yu=null,e;return 0!==(8&Ou)||Gi(),null}function Ps(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?Je(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&Je(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Ju||(Ju=!0,Wi(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Vs)}return!1}function Ms(e,t){ns.push(t,e),Ju||(Ju=!0,Wi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Ju||(Ju=!0,Wi(97,(function(){return Ls(),null})))}function Vs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Gi(),!0}function Us(e,t,n){la(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(la(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===Vu||3===Vu&&(62914560&Lu)===Lu&&500>zi()-Ku?Is(e,0):Zu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Zi()?1:2:(0===ss&&(ss=ju),0===(t=jt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function Zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new Zs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=qs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Hs(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case S:return(e=qs(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=qs(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case D:return(e=qs(19,n,t,i)).elementType=D,e.lanes=a,e;case F:return Qs(n,i,a,t);case V:return(e=qs(24,n,t,i)).elementType=V,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e;case P:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hs(e,t,n,r){return(e=qs(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=qs(23,e,r,t)).elementType=F,e.lanes=n,e}function $s(e,t,n){return(e=qs(6,e,null,t)).lanes=n,e}function Ys(e,t,n){return(t=qs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Js(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=ki(n,c,s);break e}}n=s}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),ps(i,u,a),u}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=qs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[Jr]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}Js(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}ws((function(){Js(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Hu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Wo(t),Wa();break;case 5:Pa(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(li(Ma,1&Ma.current),null!==(t=au(e,t,n))?t.sibling:null);li(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&va(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Zo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Zo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,sa(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Wa(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Gr(t.stateNode.containerInfo.firstChild),Va=t,a=ja=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Wa();t=t.child}return t;case 5:return Pa(t),null===e&&Za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==a&&Zr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Za(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(li(Yi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=cr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!di.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=ca(-1,n&-n)).tag=2,la(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ra(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Uo(e,t,i,a=$i(i.type,a),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ia(t,n),ga(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Js(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Js(null,e,null,(function(){t[Jr]=null}))},et=function(e){13===e.tag&&(ps(e,4,hs()),nc(e,4))},tt=function(e){13===e.tag&&(ps(e,67108864,hs()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,Re=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),Gi())}},Pe=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Gi()}(),Ls())},Le=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Gi())}};var uc={Events:[ni,ri,ii,Ne,De,Ls,{current:!1}]},sc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(cc),_i=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ou=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function D(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,A=null,N=3,D=!1,O=!1,R=!1;function P(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(R=!1,P(e),!O)if(null!==_(S))O=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,R&&(R=!1,i()),D=!0;var a=N;try{for(P(n),A=_(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(S)&&I(S),P(n)}else I(S);A=_(S)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,D=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||D||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),O||D||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},8675:function(e,t,n){var r,i,a;a=function(){var e,t,n=document,r=n.getElementsByTagName("head")[0],i=!1,a="push",o="readyState",u="onreadystatechange",s={},c={},l={},f={};function h(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return i;return 1}function d(e,t){h(e,(function(e){return t(e),1}))}function p(t,n,r){t=t[a]?t:[t];var i=n&&n.call,o=i?n:r,u=i?t.join(""):n,m=t.length;function y(e){return e.call?e():s[e]}function g(){if(!--m)for(var e in s[u]=1,o&&o(),l)h(e.split("|"),y)&&!d(l[e],y)&&(l[e]=[])}return setTimeout((function(){d(t,(function t(n,r){return null===n?g():(r||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),f[n]?(u&&(c[u]=1),2==f[n]?g():setTimeout((function(){t(n,!0)}),0)):(f[n]=1,u&&(c[u]=1),void v(n,g)))}))}),0),p}function v(e,i){var a,s=n.createElement("script");s.onload=s.onerror=s[u]=function(){s[o]&&!/^c|loade/.test(s[o])||a||(s.onload=s[u]=null,a=1,f[e]=2,i())},s.async=1,s.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,r.insertBefore(s,r.lastChild)}return p.get=v,p.order=function(e,t,n){!function r(i){i=e.shift(),e.length?p(i,r):p(i,t,n)}()},p.path=function(t){e=t},p.urlArgs=function(e){t=e},p.ready=function(e,t,n){e=e[a]?e:[e];var r,i=[];return!d(e,(function(e){s[e]||i[a](e)}))&&h(e,(function(e){return s[e]}))?t():(r=e.join("|"),l[r]=l[r]||[],l[r][a](t),n&&n(i)),p},p.done=function(e){p([null],e)},p},e.exports?e.exports=a():void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ft},SDK_VERSION:function(){return In},_DEFAULT_ENTRY_NAME:function(){return fn},_addComponent:function(){return vn},_addOrOverwriteComponent:function(){return mn},_apps:function(){return dn},_clearComponents:function(){return bn},_components:function(){return pn},_getProvider:function(){return gn},_registerComponent:function(){return yn},_removeServiceInstance:function(){return kn},deleteApp:function(){return Cn},getApp:function(){return Sn},getApps:function(){return Tn},initializeApp:function(){return En},onLog:function(){return Dn},registerVersion:function(){return Nn},setLogLevel:function(){return On}});var t=n(2791),r=n(4164),i=n(4668),a=n(184);function o(e){var t=e.active,n=e.text,r=e.Icon;return(0,a.jsxs)("div",{className:"sidebarOption ".concat(t&&"sidebarOption--active"),children:[(0,a.jsx)(r,{}),(0,a.jsx)("h2",{children:n})]})}var u=n(7541),s=n(5403),c=n(2),l=n(2129),f=n(91),h=n(1992),d=n(5232),p=n(2094),v=n(4942),m=n(3366),y=n(7462),g=n(8182),k=n(5735),b=n(4419),w=n(2065),x=n(9359),_=n(2507),I=n(9439),E=n(4843),S=n(6868),T=n(3031),C=n(3433);function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}var O=t.createContext(null);function R(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function P(e,t,n){return null!=n[t]?n[t]:e.props[t]}function L(e,n,r){var i=R(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:P(u,"exit",e),enter:P(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:P(u,"exit",e),enter:P(u,"enter",e)})}})),a}var M=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},F=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(N(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,D(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,R(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:P(e,"appear",r),enter:P(e,"enter",r),exit:P(e,"exit",r)})}))):L(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=R(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,y.Z)({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,m.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=M(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(O.Provider,{value:a},o):t.createElement(O.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);F.propTypes={},F.defaultProps={component:"div",childFactory:function(e){return e}};var V=F,U=(n(3361),n(2110),n(9140));n(2561);function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,U.O)(t)}var B=function(){var e=j.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var z=function(e){var n=e.className,r=e.classes,i=e.pulsate,o=void 0!==i&&i,u=e.rippleX,s=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=t.useState(!1),p=(0,I.Z)(d,2),v=p[0],m=p[1],y=(0,g.Z)(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),k={width:c,height:c,top:-c/2+s,left:-c/2+u},b=(0,g.Z)(r.child,v&&r.childLeaving,o&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,a.jsx)("span",{className:y,style:k,children:(0,a.jsx)("span",{className:b})})},Z=n(5878);var q,K,W,G,H,Q,$,Y,X=(0,Z.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),J=["center","classes","className"],ee=80,te=B(H||(H=q||(q=A(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),ne=B(Q||(Q=K||(K=A(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),re=B($||($=W||(W=A(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),ie=(0,x.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ae=(0,x.ZP)(z,{name:"MuiTouchRipple",slot:"Ripple"})(Y||(Y=G||(G=A(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),X.rippleVisible,te,550,(function(e){return e.theme.transitions.easing.easeInOut}),X.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),X.child,X.childLeaving,ne,550,(function(e){return e.theme.transitions.easing.easeInOut}),X.childPulsate,re,(function(e){return e.theme.transitions.easing.easeInOut})),oe=t.forwardRef((function(e,n){var r=(0,_.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,o=void 0!==i&&i,u=r.classes,s=void 0===u?{}:u,c=r.className,l=(0,m.Z)(r,J),f=t.useState([]),h=(0,I.Z)(f,2),d=h[0],p=h[1],v=t.useRef(0),k=t.useRef(null);t.useEffect((function(){k.current&&(k.current(),k.current=null)}),[d]);var b=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),E=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var S=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;p((function(e){return[].concat((0,C.Z)(e),[(0,a.jsx)(ae,{classes:{ripple:(0,g.Z)(s.ripple,X.ripple),rippleVisible:(0,g.Z)(s.rippleVisible,X.rippleVisible),ripplePulsate:(0,g.Z)(s.ripplePulsate,X.ripplePulsate),child:(0,g.Z)(s.child,X.child),childLeaving:(0,g.Z)(s.childLeaving,X.childLeaving),childPulsate:(0,g.Z)(s.childPulsate,X.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,k.current=o}),[s]),T=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,a=t.center,u=void 0===a?o||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&b.current)b.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(b.current=!0);var l,f,h,d=c?null:E.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(k,2))}null!=e&&e.touches?null===x.current&&(x.current=function(){S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),ee)):S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[o,S]),A=t.useCallback((function(){T({},{pulsate:!0})}),[T]),N=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){N(e,t)})));x.current=null,p((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:A,start:T,stop:N}}),[A,T,N]),(0,a.jsx)(ie,(0,y.Z)({className:(0,g.Z)(X.root,s.root,c),ref:E},l,{children:(0,a.jsx)(V,{component:null,exit:!0,children:d})}))})),ue=oe,se=n(1217);function ce(e){return(0,se.Z)("MuiButtonBase",e)}var le,fe=(0,Z.Z)("MuiButtonBase",["root","disabled","focusVisible"]),he=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],de=(0,x.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((le={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,v.Z)(le,"&.".concat(fe.disabled),{pointerEvents:"none",cursor:"default"}),(0,v.Z)(le,"@media print",{colorAdjust:"exact"}),le)),pe=t.forwardRef((function(e,n){var r=(0,_.Z)({props:e,name:"MuiButtonBase"}),i=r.action,o=r.centerRipple,u=void 0!==o&&o,s=r.children,c=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,d=void 0!==h&&h,p=r.disableRipple,v=void 0!==p&&p,k=r.disableTouchRipple,w=void 0!==k&&k,x=r.focusRipple,C=void 0!==x&&x,A=r.LinkComponent,N=void 0===A?"a":A,D=r.onBlur,O=r.onClick,R=r.onContextMenu,P=r.onDragLeave,L=r.onFocus,M=r.onFocusVisible,F=r.onKeyDown,V=r.onKeyUp,U=r.onMouseDown,j=r.onMouseLeave,B=r.onMouseUp,z=r.onTouchEnd,Z=r.onTouchMove,q=r.onTouchStart,K=r.tabIndex,W=void 0===K?0:K,G=r.TouchRippleProps,H=r.touchRippleRef,Q=r.type,$=(0,m.Z)(r,he),Y=t.useRef(null),X=t.useRef(null),J=(0,E.Z)(X,H),ee=(0,T.Z)(),te=ee.isFocusVisibleRef,ne=ee.onFocus,re=ee.onBlur,ie=ee.ref,ae=t.useState(!1),oe=(0,I.Z)(ae,2),se=oe[0],le=oe[1];d&&se&&le(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){le(!0),Y.current.focus()}}}),[]);var fe=t.useState(!1),pe=(0,I.Z)(fe,2),ve=pe[0],me=pe[1];t.useEffect((function(){me(!0)}),[]);var ye=ve&&!v&&!d;function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return(0,S.Z)((function(r){return t&&t(r),!n&&X.current&&X.current[e](r),!0}))}t.useEffect((function(){se&&C&&!v&&ve&&X.current.pulsate()}),[v,C,se,ve]);var ke=ge("start",U),be=ge("stop",R),we=ge("stop",P),xe=ge("stop",B),_e=ge("stop",(function(e){se&&e.preventDefault(),j&&j(e)})),Ie=ge("start",q),Ee=ge("stop",z),Se=ge("stop",Z),Te=ge("stop",(function(e){re(e),!1===te.current&&le(!1),D&&D(e)}),!1),Ce=(0,S.Z)((function(e){Y.current||(Y.current=e.currentTarget),ne(e),!0===te.current&&(le(!0),M&&M(e)),L&&L(e)})),Ae=function(){var e=Y.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},Ne=t.useRef(!1),De=(0,S.Z)((function(e){C&&!Ne.current&&se&&X.current&&" "===e.key&&(Ne.current=!0,X.current.stop(e,(function(){X.current.start(e)}))),e.target===e.currentTarget&&Ae()&&" "===e.key&&e.preventDefault(),F&&F(e),e.target===e.currentTarget&&Ae()&&"Enter"===e.key&&!d&&(e.preventDefault(),O&&O(e))})),Oe=(0,S.Z)((function(e){C&&" "===e.key&&X.current&&se&&!e.defaultPrevented&&(Ne.current=!1,X.current.stop(e,(function(){X.current.pulsate(e)}))),V&&V(e),O&&e.target===e.currentTarget&&Ae()&&" "===e.key&&!e.defaultPrevented&&O(e)})),Re=f;"button"===Re&&($.href||$.to)&&(Re=N);var Pe={};"button"===Re?(Pe.type=void 0===Q?"button":Q,Pe.disabled=d):($.href||$.to||(Pe.role="button"),d&&(Pe["aria-disabled"]=d));var Le=(0,E.Z)(n,ie,Y);var Me=(0,y.Z)({},r,{centerRipple:u,component:f,disabled:d,disableRipple:v,disableTouchRipple:w,focusRipple:C,tabIndex:W,focusVisible:se}),Fe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,b.Z)(a,ce,i);return n&&r&&(o.root+=" ".concat(r)),o}(Me);return(0,a.jsxs)(de,(0,y.Z)({as:Re,className:(0,g.Z)(Fe.root,c),ownerState:Me,onBlur:Te,onClick:O,onContextMenu:be,onFocus:Ce,onKeyDown:De,onKeyUp:Oe,onMouseDown:ke,onMouseLeave:_e,onMouseUp:xe,onDragLeave:we,onTouchEnd:Ee,onTouchMove:Se,onTouchStart:Ie,ref:Le,tabIndex:d?-1:W,type:Q},Pe,$,{children:[s,ye?(0,a.jsx)(ue,(0,y.Z)({ref:J,center:u},G)):null]}))})),ve=pe,me=n(4036);function ye(e){return(0,se.Z)("MuiButton",e)}var ge=(0,Z.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var ke=t.createContext({}),be=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],we=function(e){return(0,y.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},xe=(0,x.ZP)(ve,{shouldForwardProp:function(e){return(0,x.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,me.Z)(n.color))],t["size".concat((0,me.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,me.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return(0,y.Z)({},i.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":(0,y.Z)({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,w.Fq)(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,w.Fq)(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,w.Fq)(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":(0,y.Z)({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},(0,v.Z)(t,"&.".concat(ge.focusVisible),(0,y.Z)({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),(0,v.Z)(t,"&.".concat(ge.disabled),(0,y.Z)({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat((0,w.Fq)(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,v.Z)(t,"&.".concat(ge.focusVisible),{boxShadow:"none"}),(0,v.Z)(t,"&:active",{boxShadow:"none"}),(0,v.Z)(t,"&.".concat(ge.disabled),{boxShadow:"none"}),t)})),_e=(0,x.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,me.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,y.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},we(t))})),Ie=(0,x.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,me.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,y.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},we(t))})),Ee=t.forwardRef((function(e,n){var r=t.useContext(ke),i=(0,k.Z)(r,e),o=(0,_.Z)({props:i,name:"MuiButton"}),u=o.children,s=o.color,c=void 0===s?"primary":s,l=o.component,f=void 0===l?"button":l,h=o.className,d=o.disabled,p=void 0!==d&&d,v=o.disableElevation,w=void 0!==v&&v,x=o.disableFocusRipple,I=void 0!==x&&x,E=o.endIcon,S=o.focusVisibleClassName,T=o.fullWidth,C=void 0!==T&&T,A=o.size,N=void 0===A?"medium":A,D=o.startIcon,O=o.type,R=o.variant,P=void 0===R?"text":R,L=(0,m.Z)(o,be),M=(0,y.Z)({},o,{color:c,component:f,disabled:p,disableElevation:w,disableFocusRipple:I,fullWidth:C,size:N,type:O,variant:P}),F=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes,u={root:["root",a,"".concat(a).concat((0,me.Z)(t)),"size".concat((0,me.Z)(i)),"".concat(a,"Size").concat((0,me.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,me.Z)(i))],endIcon:["endIcon","iconSize".concat((0,me.Z)(i))]},s=(0,b.Z)(u,ye,o);return(0,y.Z)({},o,s)}(M),V=D&&(0,a.jsx)(_e,{className:F.startIcon,ownerState:M,children:D}),U=E&&(0,a.jsx)(Ie,{className:F.endIcon,ownerState:M,children:E});return(0,a.jsxs)(xe,(0,y.Z)({ownerState:M,className:(0,g.Z)(r.className,F.root,h),component:f,disabled:p,focusRipple:!I,focusVisibleClassName:(0,g.Z)(F.focusVisible,S),ref:n,type:O},L,{classes:F,children:[V,u,U]}))})),Se=Ee;function Te(){return(0,a.jsxs)("div",{className:"sidebar",children:[(0,a.jsx)(i.Z,{className:"sidebar__twitterIcon"}),(0,a.jsx)(o,{active:!0,Icon:u.Z,text:"Home"}),(0,a.jsx)(o,{Icon:s.Z,text:"Explore"}),(0,a.jsx)(o,{Icon:c.Z,text:"Notifications"}),(0,a.jsx)(o,{Icon:l.Z,text:"Messages"}),(0,a.jsx)(o,{Icon:f.Z,text:"Bookmarks"}),(0,a.jsx)(o,{Icon:h.Z,text:"Lists"}),(0,a.jsx)(o,{Icon:d.Z,text:"Profile"}),(0,a.jsx)(o,{Icon:p.Z,text:"More"}),(0,a.jsx)(Se,{variant:"outlined",className:"sidebar__tweet",fullWidth:!0,children:"Tweet"})]})}var Ce=(0,n(9201).Z)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Ae(e){return(0,se.Z)("MuiAvatar",e)}(0,Z.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Ne=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],De=(0,x.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,y.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,y.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),Oe=(0,x.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Re=(0,x.ZP)(Ce,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Pe=t.forwardRef((function(e,n){var r=(0,_.Z)({props:e,name:"MuiAvatar"}),i=r.alt,o=r.children,u=r.className,s=r.component,c=void 0===s?"div":s,l=r.imgProps,f=r.sizes,h=r.src,d=r.srcSet,p=r.variant,v=void 0===p?"circular":p,k=(0,m.Z)(r,Ne),w=null,x=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=t.useState(!1),u=(0,I.Z)(o,2),s=u[0],c=u[1];return t.useEffect((function(){if(i||a){c(!1);var e=!0,t=new Image;return t.onload=function(){e&&c("loaded")},t.onerror=function(){e&&c("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),s}((0,y.Z)({},l,{src:h,srcSet:d})),E=h||d,S=E&&"error"!==x,T=(0,y.Z)({},r,{colorDefault:!S,component:c,variant:v}),C=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,b.Z)(n,Ae,t)}(T);return w=S?(0,a.jsx)(Oe,(0,y.Z)({alt:i,src:h,srcSet:d,sizes:f,ownerState:T,className:C.img},l)):null!=o?o:E&&i?i[0]:(0,a.jsx)(Re,{className:C.fallback}),(0,a.jsx)(De,(0,y.Z)({as:c,ownerState:T,className:(0,g.Z)(C.root,u),ref:n},k,{children:w}))})),Le=Pe;function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Fe=n(9142);function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,Fe.Z)(r.key),r)}}function Ue(e,t,n){return t&&Ve(e.prototype,t),n&&Ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var je=n(181);function Be(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,je.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ze(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}function qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Ke=n(1002);function We(e){var t=qe();return function(){var n,r=Ze(e);if(t){var i=Ze(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,Ke.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,n)}}function Ge(e,t,n){return Ge=qe()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&D(i,n.prototype),i},Ge.apply(null,arguments)}function He(e){var t="function"===typeof Map?new Map:void 0;return He=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ge(e,arguments,Ze(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),D(n,e)},He(e)}var Qe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ye=function(e){return function(e){var t=Qe(e);return $e.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xe=function(e){try{return $e.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Je(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Je(e[n],t[n]));return e}var et=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},tt=function(){try{return et()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Xe(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},nt=function(){var e;return null===(e=tt())||void 0===e?void 0:e.config},rt=function(){function e(){var t=this;Me(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ue(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function it(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function at(){var e,t=null===(e=tt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ot(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ut(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function st(){var e=it();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ct(){try{return"object"===typeof indexedDB}catch(e){return!1}}var lt="FirebaseError",ft=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=lt,Object.setPrototypeOf(N(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(N(a),ht.prototype.create),a}return Ue(n)}(He(Error)),ht=function(){function e(t,n,r){Me(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ue(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(dt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ft(n,a,t)}}]),e}();var dt=/\{\$([^}]+)}/g;function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(mt(u)&&mt(s)){if(!vt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function mt(e){return null!==e&&"object"===typeof e}function yt(e){for(var t=[],n=function(){var e=(0,I.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function gt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,I.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function kt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function bt(e,t){var n=new wt(e,t);return n.subscribe.bind(n)}var wt=function(){function e(t,n){var r=this;Me(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ue(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Be(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=xt),void 0===r.error&&(r.error=xt),void 0===r.complete&&(r.complete=xt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function xt(){}function _t(e){return e&&e._delegate?e._delegate:e}function It(){It=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,Ke.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Et(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function St(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Et(a,r,i,o,u,"next",e)}function u(e){Et(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Tt=function(){function e(t,n,r){Me(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ue(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ct="[DEFAULT]",At=function(){function e(t,n){Me(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ue(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new rt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ct})}catch(s){}var t,n=Be(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,I.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,C.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,C.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Be(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,I.Z)(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Be(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(jI){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ct?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(jI){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;return this.component?this.component.multipleInstances?e:Ct:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Nt,Dt,Ot=function(){function e(t){Me(this,e),this.name=t,this.providers=new Map}return Ue(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new At(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Rt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dt||(Dt={}));var Pt={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Lt=Dt.INFO,Mt=(Nt={},(0,v.Z)(Nt,Dt.DEBUG,"log"),(0,v.Z)(Nt,Dt.VERBOSE,"log"),(0,v.Z)(Nt,Dt.INFO,"info"),(0,v.Z)(Nt,Dt.WARN,"warn"),(0,v.Z)(Nt,Dt.ERROR,"error"),Nt),Ft=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Mt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Vt=function(){function e(t){Me(this,e),this.name=t,this._logLevel=Lt,this._logHandler=Ft,this._userLogHandler=null,Rt.push(this)}return Ue(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Dt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Pt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Dt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Dt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.INFO].concat(t)),this._logHandler.apply(this,[this,Dt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.WARN].concat(t)),this._logHandler.apply(this,[this,Dt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.ERROR].concat(t)),this._logHandler.apply(this,[this,Dt.ERROR].concat(t))}}]),e}();function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt,zt,Zt=function(e,t){return t.some((function(t){return e instanceof t}))};var qt=new WeakMap,Kt=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Ht=new WeakMap;var Qt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zt||(zt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jt(this),n),Xt(qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xt(e.apply(Jt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Jt(this),t].concat(r));return Wt.set(a,t.sort?t.sort():[t]),Xt(a)}}function Yt(e){return"function"===typeof e?$t(e):(e instanceof IDBTransaction&&function(e){if(!Kt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Kt.set(e,t)}}(e),Zt(e,Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qt):e)}function Xt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Xt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qt.set(t,e)})).catch((function(){})),Ht.set(t,e),t}(e);if(Gt.has(e))return Gt.get(e);var t=Yt(e);return t!==e&&(Gt.set(e,t),Ht.set(t,e)),t}var Jt=function(e){return Ht.get(e)};var en,tn,nn=["get","getKey","getAll","getAllKeys","count"],rn=["put","add","delete","clear"],an=new Map;function on(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(an.get(t))return an.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=rn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||nn.includes(n))){var a=function(){var e=St(It().mark((function e(t){var a,o,u,s,c,l,f=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return an.set(t,a),a}}}Qt=function(e){return jt(jt({},e),{},{get:function(t,n,r){return on(t,n)||e.get(t,n,r)},has:function(t,n){return!!on(t,n)||e.has(t,n)}})}(Qt);var un=function(){function e(t){Me(this,e),this.container=t}return Ue(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var sn="@firebase/app",cn="0.9.3",ln=new Vt("@firebase/app"),fn="[DEFAULT]",hn=(en={},(0,v.Z)(en,sn,"fire-core"),(0,v.Z)(en,"@firebase/app-compat","fire-core-compat"),(0,v.Z)(en,"@firebase/analytics","fire-analytics"),(0,v.Z)(en,"@firebase/analytics-compat","fire-analytics-compat"),(0,v.Z)(en,"@firebase/app-check","fire-app-check"),(0,v.Z)(en,"@firebase/app-check-compat","fire-app-check-compat"),(0,v.Z)(en,"@firebase/auth","fire-auth"),(0,v.Z)(en,"@firebase/auth-compat","fire-auth-compat"),(0,v.Z)(en,"@firebase/database","fire-rtdb"),(0,v.Z)(en,"@firebase/database-compat","fire-rtdb-compat"),(0,v.Z)(en,"@firebase/functions","fire-fn"),(0,v.Z)(en,"@firebase/functions-compat","fire-fn-compat"),(0,v.Z)(en,"@firebase/installations","fire-iid"),(0,v.Z)(en,"@firebase/installations-compat","fire-iid-compat"),(0,v.Z)(en,"@firebase/messaging","fire-fcm"),(0,v.Z)(en,"@firebase/messaging-compat","fire-fcm-compat"),(0,v.Z)(en,"@firebase/performance","fire-perf"),(0,v.Z)(en,"@firebase/performance-compat","fire-perf-compat"),(0,v.Z)(en,"@firebase/remote-config","fire-rc"),(0,v.Z)(en,"@firebase/remote-config-compat","fire-rc-compat"),(0,v.Z)(en,"@firebase/storage","fire-gcs"),(0,v.Z)(en,"@firebase/storage-compat","fire-gcs-compat"),(0,v.Z)(en,"@firebase/firestore","fire-fst"),(0,v.Z)(en,"@firebase/firestore-compat","fire-fst-compat"),(0,v.Z)(en,"fire-js","fire-js"),(0,v.Z)(en,"firebase","fire-js-all"),en),dn=new Map,pn=new Map;function vn(e,t){try{e.container.addComponent(t)}catch(n){ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function mn(e,t){e.container.addOrOverwriteComponent(t)}function yn(e){var t=e.name;if(pn.has(t))return ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;pn.set(t,e);var n,r=Be(dn.values());try{for(r.s();!(n=r.n()).done;){vn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fn;gn(e,t).clearInstance(n)}function bn(){pn.clear()}var wn=(tn={},(0,v.Z)(tn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,v.Z)(tn,"bad-app-name","Illegal App name: '{$appName}"),(0,v.Z)(tn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,v.Z)(tn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,v.Z)(tn,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,v.Z)(tn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,v.Z)(tn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,v.Z)(tn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,v.Z)(tn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,v.Z)(tn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,v.Z)(tn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),tn),xn=new ht("app","Firebase",wn),_n=function(){function e(t,n,r){var i=this;Me(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",(function(){return i}),"PUBLIC"))}return Ue(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}]),e}(),In="9.17.1";function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xn.create("bad-app-name",{appName:String(i)});if(n||(n=nt()),!n)throw xn.create("no-options");var a=dn.get(i);if(a){if(vt(n,a.options)&&vt(r,a.config))return a;throw xn.create("duplicate-app",{appName:i})}var o,u=new Ot(i),s=Be(pn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new _n(n,r,u);return dn.set(i,l),l}function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=dn.get(e);if(!t&&e===fn)return En();if(!t)throw xn.create("no-app",{appName:e});return t}function Tn(){return Array.from(dn.values())}function Cn(e){return An.apply(this,arguments)}function An(){return(An=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!dn.has(n)){e.next=6;break}return dn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t,n){var r,i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ln.warn(u.join(" "))}yn(new Tt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Dn(e,t){if(null!==e&&"function"!==typeof e)throw xn.create("invalid-log-argument");!function(e,t){var n,r=Be(Rt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Pt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Dt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function On(e){var t;t=e,Rt.forEach((function(e){e.setLogLevel(t)}))}var Rn="firebase-heartbeat-database",Pn=1,Ln="firebase-heartbeat-store",Mn=null;function Fn(){return Mn||(Mn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Xt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Xt(u.result),e.oldVersion,e.newVersion,Xt(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Rn,Pn,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ln)}}).catch((function(e){throw xn.create("idb-open",{originalErrorMessage:e.message})}))),Mn}function Vn(e){return Un.apply(this,arguments)}function Un(){return Un=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fn();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ln).objectStore(Ln).get(zn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ft?ln.warn(e.t0.message):(r=xn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ln.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Un.apply(this,arguments)}function jn(e,t){return Bn.apply(this,arguments)}function Bn(){return Bn=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fn();case 3:return r=e.sent,i=r.transaction(Ln,"readwrite"),a=i.objectStore(Ln),e.next=8,a.put(n,zn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ft?ln.warn(e.t0.message):(o=xn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ln.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Bn.apply(this,arguments)}function zn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Zn=1024,qn=function(){function e(t){var n=this;Me(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Qn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ue(e,[{key:"triggerHeartbeat",value:function(){var e=St(It().mark((function e(){var t,n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Kn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=St(It().mark((function e(){var t,n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Kn(),n=Wn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ye(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kn(){return(new Date).toISOString().substring(0,10)}function Wn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zn,r=[],i=e.slice(),a=Be(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$n(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$n(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Gn,Hn,Qn=function(){function e(t){Me(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ue(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ct()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Vn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",jn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",jn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,C.Z)(r.heartbeats),(0,C.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $n(e){return Ye(JSON.stringify({version:2,heartbeats:e})).length}Gn="",yn(new Tt("platform-logger",(function(e){return new un(e)}),"PRIVATE")),yn(new Tt("heartbeat",(function(e){return new qn(e)}),"PRIVATE")),Nn(sn,cn,Gn),Nn(sn,cn,"esm2017"),Nn("fire-js","");var Yn=function(){function e(t,n){var r=this;Me(this,e),this._delegate=t,this.firebase=n,vn(t,new Tt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ue(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Cn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){vn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){mn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Xn=(Hn={},(0,v.Z)(Hn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,v.Z)(Hn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Hn),Jn=new ht("app-compat","Firebase",Xn);var er=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=En(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Nn,setLogLevel:On,onLog:Dn,apps:null,SDK_VERSION:In,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(yn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Jn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Je(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pt(n,e=e||fn))throw Jn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Yn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Je(n,e)},createSubscribe:bt,ErrorFactory:ht,deepExtend:Je}),n}(),tr=new Vt("@firebase/app-compat"),nr="@firebase/app-compat",rr="0.2.3";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){tr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ir=self.firebase.SDK_VERSION;ir&&ir.indexOf("LITE")>=0&&tr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ar=er;!function(e){Nn(nr,rr,e)}();ar.registerVersion("firebase","9.17.1","app-compat");var or=n(3878),ur=n(9199),sr=n(5267);function cr(){return cr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ze(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cr.apply(this,arguments)}function lr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var fr;Object.create;var hr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},dr={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function pr(){return(0,v.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var vr=function(){var e;return e={},(0,v.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,v.Z)(e,"argument-error",""),(0,v.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,v.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,v.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,v.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,v.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,v.Z)(e,"cors-unsupported","This browser is not supported."),(0,v.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,v.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,v.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,v.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,v.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,v.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,v.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,v.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,v.Z)(e,"expired-action-code","The action code has expired."),(0,v.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,v.Z)(e,"internal-error","An internal AuthError has occurred."),(0,v.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,v.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,v.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,v.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,v.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,v.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,v.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,v.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,v.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,v.Z)(e,"invalid-email","The email address is badly formatted."),(0,v.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,v.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,v.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,v.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,v.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,v.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,v.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,v.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,v.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,v.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,v.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,v.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,v.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,v.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,v.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,v.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,v.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,v.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,v.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,v.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,v.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,v.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,v.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,v.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,v.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,v.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,v.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,v.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,v.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,v.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,v.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,v.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,v.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,v.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,v.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,v.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,v.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,v.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,v.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,v.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,v.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,v.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,v.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,v.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,v.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,v.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,v.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,v.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,v.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,v.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,v.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,v.Z)(e,"timeout","The operation has timed out."),(0,v.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,v.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,v.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,v.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,v.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,v.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,v.Z)(e,"unverified-email","The operation requires a verified email."),(0,v.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,v.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,v.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,v.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,v.Z)(e,"user-signed-out",""),(0,v.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,v.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,v.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},mr=pr,yr=new ht("auth","Firebase",pr()),gr=new Vt("@firebase/auth");function kr(e){if(gr.logLevel<=Dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gr.error.apply(gr,["Auth (".concat(In,"): ").concat(e)].concat(n))}}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ir.apply(void 0,[e].concat(n))}function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ir.apply(void 0,[e].concat(n))}function xr(e,t,n){var r=Object.assign(Object.assign({},mr()),(0,v.Z)({},t,n));return new ht("auth","Firebase",r).create(t,{appName:e.name})}function _r(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&br(e,"argument-error"),xr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ir(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,C.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,C.Z)(o)))}return yr.create.apply(yr,[e].concat(n))}function Er(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ir.apply(void 0,[t].concat(r))}}function Sr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw kr(t),new Error(t)}function Tr(e,t){e||Sr(t)}var Cr=new Map;function Ar(e){Tr(e instanceof Function,"Expected a class definition");var t=Cr.get(e);return t?(Tr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cr.set(e,t),t)}function Nr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Dr(){return"http:"===Or()||"https:"===Or()}function Or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Rr=function(){function e(t,n){Me(this,e),this.shortDelay=t,this.longDelay=n,Tr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())||ut()}return Ue(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Dr()||ot()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Pr(e,t){Tr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Lr=function(){function e(){Me(this,e)}return Ue(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Mr=(fr={},(0,v.Z)(fr,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,v.Z)(fr,"MISSING_CUSTOM_TOKEN","internal-error"),(0,v.Z)(fr,"INVALID_IDENTIFIER","invalid-email"),(0,v.Z)(fr,"MISSING_CONTINUE_URI","internal-error"),(0,v.Z)(fr,"INVALID_PASSWORD","wrong-password"),(0,v.Z)(fr,"MISSING_PASSWORD","internal-error"),(0,v.Z)(fr,"EMAIL_EXISTS","email-already-in-use"),(0,v.Z)(fr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,v.Z)(fr,"INVALID_IDP_RESPONSE","invalid-credential"),(0,v.Z)(fr,"INVALID_PENDING_TOKEN","invalid-credential"),(0,v.Z)(fr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,v.Z)(fr,"MISSING_REQ_TYPE","internal-error"),(0,v.Z)(fr,"EMAIL_NOT_FOUND","user-not-found"),(0,v.Z)(fr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,v.Z)(fr,"EXPIRED_OOB_CODE","expired-action-code"),(0,v.Z)(fr,"INVALID_OOB_CODE","invalid-action-code"),(0,v.Z)(fr,"MISSING_OOB_CODE","internal-error"),(0,v.Z)(fr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,v.Z)(fr,"INVALID_ID_TOKEN","invalid-user-token"),(0,v.Z)(fr,"TOKEN_EXPIRED","user-token-expired"),(0,v.Z)(fr,"USER_NOT_FOUND","user-token-expired"),(0,v.Z)(fr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,v.Z)(fr,"INVALID_CODE","invalid-verification-code"),(0,v.Z)(fr,"INVALID_SESSION_INFO","invalid-verification-id"),(0,v.Z)(fr,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,v.Z)(fr,"MISSING_SESSION_INFO","missing-verification-id"),(0,v.Z)(fr,"SESSION_EXPIRED","code-expired"),(0,v.Z)(fr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,v.Z)(fr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,v.Z)(fr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,v.Z)(fr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,v.Z)(fr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,v.Z)(fr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,v.Z)(fr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,v.Z)(fr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,v.Z)(fr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,v.Z)(fr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,v.Z)(fr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),fr),Fr=new Rr(3e4,6e4);function Vr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ur(e,t,n,r){return jr.apply(this,arguments)}function jr(){return jr=St(It().mark((function e(t,n,r,i){var a,o=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Br(t,a,St(It().mark((function e(){var a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=yt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Lr.fetch()(Kr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Br(e,t,n){return zr.apply(this,arguments)}function zr(){return(zr=St(It().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Mr),n),e.prev=2,a=new Wr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Gr(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,I.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Gr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Gr(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Gr(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw xr(t,d,h);case 34:br(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ft)){e.next=41;break}throw e.t0;case 41:br(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Zr(e,t,n,r){return qr.apply(this,arguments)}function qr(){return qr=St(It().mark((function e(t,n,r,i){var a,o,u=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ur(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&br(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Kr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Pr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Wr=function(){function e(t){var n=this;Me(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(wr(n.auth,"network-request-failed"))}),Fr.get())}))}return Ue(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=wr(e,t,r);return i.customData._tokenResponse=n,i}function Hr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(e,t){return Yr.apply(this,arguments)}function Yr(){return(Yr=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return(Jr=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ti(){return ti=St(It().mark((function e(t){var n,r,i,a,o,u,s=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=_t(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Er((a=ri(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ei(ni(a.auth_time)),issuedAtTime:ei(ni(a.iat)),expirationTime:ei(ni(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e){return 1e3*Number(e)}function ri(e){var t=e.split("."),n=(0,I.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return kr("JWT malformed, contained fewer than 3 sections"),null;try{var o=Xe(i);return o?JSON.parse(o):(kr("Failed to decode base64 JWT payload"),null)}catch(u){return kr("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=St(It().mark((function e(t,n){var r=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ft&&oi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ai.apply(this,arguments)}function oi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ui=function(){function e(t){Me(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ue(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),si=function(){function e(t,n){Me(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ue(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ci(e){return li.apply(this,arguments)}function li(){return li=St(It().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ii(t,Xr(r,{idToken:i}));case 6:Er(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=lr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=hi(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new si(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function fi(){return(fi=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_t(t),e.next=3,ci(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,C.Z)(n),(0,C.Z)(t))}function di(e,t){return pi.apply(this,arguments)}function pi(){return(pi=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(t,{},St(It().mark((function e(){var r,i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Kr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Lr.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vi=function(){function e(){Me(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ue(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Er(e.idToken,"internal-error"),Er("undefined"!==typeof e.idToken,"internal-error"),Er("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ri(e);return Er(t,"internal-error"),Er("undefined"!==typeof t.exp,"internal-error"),Er("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=St(It().mark((function e(t){var n,r=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Er(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Sr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Er("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Er("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Er("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function mi(e,t){Er("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yi=function(){function e(t){Me(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=lr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ui(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,C.Z)(a.providerData):[],this.metadata=new si(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ue(e,[{key:"getIdToken",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Er(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ti.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return fi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Er(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=St(It().mark((function e(t){var n,r,i=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ci(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ii(this,Hr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Er(k&&_,t,"internal-error");var I=vi.fromJSON(this.name,_);Er("string"===typeof k,t,"internal-error"),mi(f,t.name),mi(h,t.name),Er("boolean"===typeof b,t,"internal-error"),Er("boolean"===typeof w,t,"internal-error"),mi(d,t.name),mi(p,t.name),mi(v,t.name),mi(m,t.name),mi(y,t.name),mi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=St(It().mark((function t(n,r){var i,a,o,u=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new vi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ci(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),gi=function(){function e(){Me(this,e),this.type="NONE",this.storage={}}return Ue(e,[{key:"_isAvailable",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();gi.type="NONE";var ki=gi;function bi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var wi=function(){function e(t,n,r){Me(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bi(this.userKey,a.apiKey,o),this.fullPersistenceKey=bi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ue(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=St(It().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ar(ki),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ar(ki),u=bi(i,n.config.apiKey,n.name),s=null,c=Be(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=yi._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function xi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Si(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_i(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ci(t))return"Blackberry";if(Ai(t))return"Webos";if(Ii(t))return"Safari";if((t.includes("chrome/")||Ei(t))&&!t.includes("edge/"))return"Chrome";if(Ti(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/firefox\//i.test(e)}function Ii(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:it()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/crios\//i.test(e)}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/iemobile/i.test(e)}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/android/i.test(e)}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/blackberry/i.test(e)}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/webos/i.test(e)}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return Ni(e)||Ti(e)||Ai(e)||Ci(e)||/windows phone/i.test(e)||Si(e)}function Oi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xi(it());break;case"Worker":t="".concat(xi(it()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(In,"/").concat(r)}var Ri=function(){function e(t){Me(this,e),this.auth=t,this.queue=[]}return Ue(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=St(It().mark((function e(t){var n,r,i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Be(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Be(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pi=function(){function e(t,n,r){Me(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ue(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(St(It().mark((function r(){var i,a;return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,wi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=St(It().mark((function e(t){var n,r,i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Er(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ci(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?_t(t):null)&&Er(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=St(It().mark((function e(t){var n,r=this,i=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Er(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(St(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ar(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ht("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Er(n=t&&Ar(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,wi.create(this,[Ar(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=St(It().mark((function e(t){var n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Er(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Er(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Oi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=St(It().mark((function e(){var t,n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Li(e){return _t(e)}var Mi=function(){function e(t){var n=this;Me(this,e),this.auth=t,this.observer=null,this.addObserver=bt((function(e){return n.observer=e}))}return Ue(e,[{key:"next",get:function(){return Er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Fi(e,t,n){var r=Li(e);Er(r._canInitEmulator,r,"emulator-config-failed"),Er(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Vi(t),o=function(e){var t=Vi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ui(r.substr(a.length+1))}}var o=r.split(":"),u=(0,I.Z)(o,2);return{host:u[0],port:Ui(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ui(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ji=function(){function e(t,n){Me(this,e),this.providerId=t,this.signInMethod=n}return Ue(e,[{key:"toJSON",value:function(){return Sr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Sr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Sr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Sr("not implemented")}}]),e}();function Bi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:resetPassword",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gi(e,t){return Hi.apply(this,arguments)}function Hi(){return(Hi=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr(t,"POST","/v1/accounts:signInWithPassword",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t){return $i.apply(this,arguments)}function $i(){return($i=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:sendOobCode",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t){return ea.apply(this,arguments)}function ea(){return(ea=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return(ia=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e,t){return sa.apply(this,arguments)}function sa(){return(sa=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ca=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Me(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ue(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Gi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",aa(t,{email:this._email,oobCode:this._password}));case 5:br(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ua(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:br(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ji);function la(e,t){return fa.apply(this,arguments)}function fa(){return(fa=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr(t,"POST","/v1/accounts:signInWithIdp",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ha=function(e){ze(n,e);var t=We(n);function n(){var e;return Me(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ue(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return la(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,la(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,la(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=lr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ji);function da(e,t){return pa.apply(this,arguments)}function pa(){return(pa=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:sendVerificationCode",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(){return(va=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(){return(ma=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zr(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ya=(0,v.Z)({},"USER_NOT_FOUND","user-not-found");function ga(){return(ga=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Zr(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,r),ya));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ka=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ue(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return va.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ma.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ga.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ji);var ba=function(){function e(t){var n,r,i,a,o,u;Me(this,e);var s=gt(kt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Er(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ue(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=gt(kt(e)).link,n=t?gt(kt(t)).deep_link_id:null,r=gt(kt(e)).deep_link_id;return(r?gt(kt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(jI){return null}}}]),e}();var wa=function(){function e(){Me(this,e),this.providerId=e.PROVIDER_ID}return Ue(e,null,[{key:"credential",value:function(e,t){return ca._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ba.parseLink(t);return Er(n,"argument-error"),ca._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();wa.PROVIDER_ID="password",wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var xa=function(){function e(t){Me(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ue(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),_a=function(e){ze(n,e);var t=We(n);function n(){var e;return Me(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ue(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,C.Z)(this.scopes)}}]),n}(xa),Ia=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Er(e.idToken||e.accessToken,"argument-error"),ha._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Er("providerId"in t&&"signInMethod"in t,"argument-error"),ha._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(_a),Ea=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.call(this,"facebook.com")}return Ue(n,null,[{key:"credential",value:function(e){return ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(jI){return null}}}]),n}(_a);Ea.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ea.PROVIDER_ID="facebook.com";var Sa=function(e){ze(n,e);var t=We(n);function n(){var e;return Me(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ue(n,null,[{key:"credential",value:function(e,t){return ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(jI){return null}}}]),n}(_a);Sa.GOOGLE_SIGN_IN_METHOD="google.com",Sa.PROVIDER_ID="google.com";var Ta=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.call(this,"github.com")}return Ue(n,null,[{key:"credential",value:function(e){return ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(jI){return null}}}]),n}(_a);Ta.GITHUB_SIGN_IN_METHOD="github.com",Ta.PROVIDER_ID="github.com";var Ca=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ue(n,[{key:"_getIdTokenResponse",value:function(e){return la(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,la(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,la(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ji),Aa="saml.",Na=function(e){ze(n,e);var t=We(n);function n(e){return Me(this,n),Er(e.startsWith(Aa),"argument-error"),t.call(this,e)}return Ue(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ca.fromJSON(e);return Er(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ca._create(r,n)}catch(i){return null}}}]),n}(xa),Da=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.call(this,"twitter.com")}return Ue(n,null,[{key:"credential",value:function(e,t){return ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(jI){return null}}}]),n}(_a);function Oa(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr(t,"POST","/v1/accounts:signUp",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Da.TWITTER_SIGN_IN_METHOD="twitter.com",Da.PROVIDER_ID="twitter.com";var Pa=function(){function e(t){Me(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ue(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=St(It().mark((function t(n,r,i){var a,o,u,s,c=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,yi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=La(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=St(It().mark((function t(n,r,i){var a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=La(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function La(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ma(){return Ma=St(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Pa({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Oa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Pa._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}var Fa=function(e){ze(n,e);var t=We(n);function n(e,r,i,a){var o,u;return Me(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(N(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ue(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ft);function Va(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fa._fromErrorAndOperation(e,n,t,r);throw n}))}function Ua(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ja(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,qa(!0,r,n);case 3:return e.t0=$r,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ua(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function za(e,t){return Za.apply(this,arguments)}function Za(){return Za=St(It().mark((function e(t,n){var r,i,a=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ii,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Pa._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function qa(e,t,n){return Ka.apply(this,arguments)}function Ka(){return(Ka=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(n);case 2:i=Ua(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Er(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wa(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=St(It().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ii(t,Va(i,a,n,t),r);case 6:return Er((o=e.sent).idToken,i,"internal-error"),Er(u=ri(o.idToken),i,"internal-error"),s=u.sub,Er(t.uid===s,i,"user-mismatch"),e.abrupt("return",Pa._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&br(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ga.apply(this,arguments)}function Ha(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=St(It().mark((function e(t,n){var r,i,a,o,u=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Va(t,i,n);case 4:return a=e.sent,e.next=7,Pa._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function $a(e,t){return Ya.apply(this,arguments)}function Ya(){return(Ya=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(Li(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return(Ja=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,qa(!1,r,n.providerId);case 3:return e.abrupt("return",za(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return(to=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wa(_t(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return(ro=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr(t,"POST","/v1/accounts:signInWithCustomToken",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(){return(io=St(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,no(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Pa._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ao=function(){function e(t,n){Me(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ue(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?oo._fromServerResponse(e,t):br(e,"internal-error")}}]),e}(),oo=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ue(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ao);function uo(e,t,n){var r;Er((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Er("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Er(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Er(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function so(){return(so=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),a={requestType:"PASSWORD_RESET",email:n},r&&uo(i,a,r),e.next=5,Ji(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(){return(co=St(It().mark((function e(t,n,r){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(_t(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(){return(lo=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki(_t(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return(ho=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,Bi(r,{oobCode:n});case 3:i=e.sent,Er(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Er(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Er(i.mfaInfo,r,"internal-error");case 13:Er(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ao._fromServerResponse(Li(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(){return(po=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fo(_t(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,t,n){return mo.apply(this,arguments)}function mo(){return(mo=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,Oa(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Pa._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(){return(yo=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),a={requestType:"EMAIL_SIGNIN",email:n},Er(r.handleCodeInApp,i,"argument-error"),r&&uo(i,a,r),e.next=6,ta(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(){return(go=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),Er((a=wa.credentialWithLink(n,r||Nr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",$a(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return(bo=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:createAuthUri",Vr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(){return(wo=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dr()?Nr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ko(_t(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(){return(xo=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&uo(r.auth,a,n),e.next=8,Yi(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(){return(_o=St(It().mark((function e(t,n,r){var i,a,o,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&uo(i.auth,o,r),e.next=8,ra(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(){return(So=St(It().mark((function e(t,n){var r,i,a,o,u,s,c;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=_t(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ii(a,Io(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t,n){return Co.apply(this,arguments)}function Co(){return(Co=St(It().mark((function e(t,n,r){var i,a,o,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ii(t,Zi(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ao=Ue((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Me(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),No=function(e){ze(n,e);var t=We(n);function n(e,r,i,a){var o;return Me(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ue(n)}(Ao),Do=function(e){ze(n,e);var t=We(n);function n(e,r){return Me(this,n),t.call(this,e,"facebook.com",r)}return Ue(n)}(Ao),Oo=function(e){ze(n,e);var t=We(n);function n(e,r){return Me(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ue(n)}(No),Ro=function(e){ze(n,e);var t=We(n);function n(e,r){return Me(this,n),t.call(this,e,"google.com",r)}return Ue(n)}(Ao),Po=function(e){ze(n,e);var t=We(n);function n(e,r,i){return Me(this,n),t.call(this,e,"twitter.com",r,i)}return Ue(n)}(No);function Lo(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ri(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ao(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Do(a,i);case"github.com":return new Oo(a,i);case"google.com":return new Ro(a,i);case"twitter.com":return new Po(a,i,e.screenName||null);case"custom":case"anonymous":return new Ao(a,null);default:return new Ao(a,r,i)}}(n)}var Mo=function(){function e(t,n,r){Me(this,e),this.type=t,this.credential=n,this.auth=r}return Ue(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,v.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Fo=function(){function e(t,n,r){Me(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ue(e,[{key:"resolveSignIn",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Li(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ao._fromServerResponse(r,e)}));Er(i.mfaPendingCredential,r,"internal-error");var o=Mo._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=St(It().mark((function e(t){var a,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Pa._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Er(n.user,r,"internal-error"),e.abrupt("return",Pa._forOperation(n.user,n.operationType,u));case 17:br(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Vo(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:start",Vr(e,t))}var Uo=function(){function e(t){var n=this;Me(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ao._fromServerResponse(t.auth,e)})))}))}return Ue(e,[{key:"getSession",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Mo,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=St(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ii(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=St(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,ii(this.user,Ur(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Vr(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),jo=new WeakMap;var Bo="__sak",zo=function(){function e(t,n){Me(this,e),this.storageRetriever=t,this.type=n}return Ue(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Bo,"1"),this.storage.removeItem(Bo),Promise.resolve(!0)):Promise.resolve(!1)}catch(jI){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Zo=10,qo=function(e){ze(n,e);var t=We(n);function n(){var e;return Me(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=it();return Ii(e)||Ni(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Di(),e._shouldAllowMigration=!0,e}return Ue(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);st()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Zo):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=St(It().mark((function e(t,r){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr(Ze(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=St(It().mark((function e(t){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr(Ze(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr(Ze(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zo);qo.type="LOCAL";var Ko=qo,Wo=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ue(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(zo);Wo.type="SESSION";var Go=Wo;function Ho(e){return Promise.all(e.map(function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Qo=function(){function e(t){Me(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ue(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=St(It().mark((function e(t){var n,r,i,a,o,u,s,c;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ho(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function $o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qo.receivers=[];var Yo=function(){function e(t){Me(this,e),this.target=t,this.handlers=new Set}return Ue(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=St(It().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=$o("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Xo(){return window}function Jo(){return"undefined"!==typeof Xo().WorkerGlobalScope&&"function"===typeof Xo().importScripts}function eu(){return tu.apply(this,arguments)}function tu(){return(tu=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function nu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ru="firebaseLocalStorageDb",iu=1,au="firebaseLocalStorage",ou="fbase_key",uu=function(){function e(t){Me(this,e),this.request=t}return Ue(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function su(e,t){return e.transaction([au],t?"readwrite":"readonly").objectStore(au)}function cu(){var e=indexedDB.deleteDatabase(ru);return new uu(e).toPromise()}function lu(){var e=indexedDB.open(ru,iu);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(au,{keyPath:ou})}catch(r){n(r)}})),e.addEventListener("success",St(It().mark((function n(){var r;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(au)){n.next=12;break}return r.close(),n.next=5,cu();case 5:return n.t0=t,n.next=8,lu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function fu(e,t,n){return hu.apply(this,arguments)}function hu(){return hu=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=su(t,!0).put((i={},(0,v.Z)(i,ou,n),(0,v.Z)(i,"value",r),i)),e.abrupt("return",new uu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=su(t,!1).get(n),e.next=3,new uu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){var n=su(e,!0).delete(t);return new uu(n).toPromise()}var mu=function(){function e(){Me(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ue(e,[{key:"_openDb",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,lu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=St(It().mark((function e(){var t=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Qo._getInstance(Jo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=St(It().mark((function e(n,r){var i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=St(It().mark((function e(){var t,n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Yo(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&nu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,lu();case 5:return t=e.sent,e.next=8,fu(t,Bo,"1");case 8:return e.next=10,vu(t,Bo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=St(It().mark((function e(t,n){var r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return fu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return du(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=St(It().mark((function e(t){var n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return vu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=St(It().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=su(e,!1).getAll();return new uu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Be(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();mu.type="LOCAL";var yu=mu;function gu(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:start",Vr(e,t))}function ku(e){return bu.apply(this,arguments)}function bu(){return(bu=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=wr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function xu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _u=1e12,Iu=function(){function e(t){Me(this,e),this.auth=t,this.counter=_u,this._widgets=new Map}return Ue(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Eu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_u;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_u;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_u,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Eu=function(){function e(t,n,r){var i=this;Me(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Er(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ue(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Su=xu("rcb"),Tu=new Rr(3e4,6e4),Cu="https://www.google.com/recaptcha/api.js?",Au=function(){function e(){var t;Me(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Xo().grecaptcha)||void 0===t?void 0:t.render)}return Ue(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Er(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Xo().grecaptcha):new Promise((function(r,i){var a=Xo().setTimeout((function(){i(wr(e,"network-request-failed"))}),Tu.get());Xo()[Su]=function(){Xo().clearTimeout(a),delete Xo()[Su];var o=Xo().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(wr(e,"internal-error"))},wu("".concat(Cu,"?").concat(yt({onload:Su,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(wr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Xo().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Nu=function(){function e(){Me(this,e)}return Ue(e,[{key:"load",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Iu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Du="recaptcha",Ou={theme:"light",type:"image"},Ru=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ou),r=arguments.length>2?arguments[2]:void 0;Me(this,e),this.parameters=n,this.type=Du,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Li(r),this.isInvisible="invisible"===this.parameters.size,Er("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Er(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nu:new Au,this.validateStartingState()}return Ue(e,[{key:"verify",value:function(){var e=St(It().mark((function e(){var t,n,r,i=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Er(!this.parameters.sitekey,this.auth,"argument-error"),Er(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Er("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Xo()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Er(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=St(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er(Dr()&&!Jo(),this.auth,"internal-error"),e.next=3,Pu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ku(this.auth);case 8:Er(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Er(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Pu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Lu=function(){function e(t,n){Me(this,e),this.verificationId=t,this.onConfirmation=n}return Ue(e,[{key:"confirm",value:function(e){var t=ka._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Mu(){return(Mu=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,ju(i,n,_t(r));case 3:return a=e.sent,e.abrupt("return",new Lu(a,(function(e){return $a(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t,n){return Vu.apply(this,arguments)}function Vu(){return(Vu=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),e.next=3,qa(!1,i,"phone");case 3:return e.next=5,ju(i.auth,n,_t(r));case 5:return a=e.sent,e.abrupt("return",new Lu(a,(function(e){return Xa(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(){return(Uu=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),e.next=3,ju(i.auth,n,_t(r));case 3:return a=e.sent,e.abrupt("return",new Lu(a,(function(e){return eo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t,n){return Bu.apply(this,arguments)}function Bu(){return Bu=St(It().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Er("string"===typeof a,t,"argument-error"),Er(r.type===Du,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Er("enroll"===u.type,t,"internal-error"),e.next=13,Vo(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Er("signin"===u.type,t,"internal-error"),Er(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,gu(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,da(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Bu.apply(this,arguments)}function zu(){return(zu=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,za(_t(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zu=function(){function e(t){Me(this,e),this.providerId=e.PROVIDER_ID,this.auth=Li(t)}return Ue(e,[{key:"verifyPhoneNumber",value:function(e,t){return ju(this.auth,e,_t(t))}}],[{key:"credential",value:function(e,t){return ka._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ka._fromTokenResponse(n,r):null}}]),e}();function qu(e,t){return t?Ar(t):(Er(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zu.PROVIDER_ID="phone",Zu.PHONE_SIGN_IN_METHOD="phone";var Ku=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ue(n,[{key:"_getIdTokenResponse",value:function(e){return la(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return la(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return la(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ji);function Wu(e){return Ha(e.auth,new Ku(e),e.bypassAuthState)}function Gu(e){var t=e.auth,n=e.user;return Er(n,t,"internal-error"),Wa(n,new Ku(e),e.bypassAuthState)}function Hu(e){return Qu.apply(this,arguments)}function Qu(){return(Qu=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Er(r=t.user,n,"internal-error"),e.abrupt("return",za(r,new Ku(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $u=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Me(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ue(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=St(It().mark((function t(n,r){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=St(It().mark((function e(t){var n,r,i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wu;case"linkViaPopup":case"linkViaRedirect":return Hu;case"reauthViaPopup":case"reauthViaRedirect":return Gu;default:br(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Yu=new Rr(2e3,1e4);function Xu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return(Ju=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),_r(t,n,xa),a=qu(i,r),o=new rs(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(){return(es=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _r((i=_t(t)).auth,n,xa),a=qu(i.auth,r),o=new rs(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t,n){return ns.apply(this,arguments)}function ns(){return(ns=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _r((i=_t(t)).auth,n,xa),a=qu(i.auth,r),o=new rs(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rs=function(e){ze(n,e);var t=We(n);function n(e,r,i,a,o){var u;return Me(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=N(u),u}return Ue(n,[{key:"executeNotNull",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Er(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=St(It().mark((function e(){var t,n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr(1===this.filter.length,"Popup operations only handle one event"),t=$o(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(wr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(wr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(wr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Yu.get())}()}}]),n}($u);rs.currentPopupAction=null;var is="pendingRedirect",as=new Map,os=function(e){ze(n,e);var t=We(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Me(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ue(n,[{key:"execute",value:function(){var e=St(It().mark((function e(){var t,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=as.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,us(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,cr(Ze(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:as.set(this.auth._key(),t);case 21:return this.bypassAuthState||as.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=St(It().mark((function e(t){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",cr(Ze(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",cr(Ze(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}($u);function us(e,t){return ss.apply(this,arguments)}function ss(){return(ss=St(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ds(n),i=hs(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return(ls=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t)._set(ds(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){as.set(e._key(),t)}function hs(e){return Ar(e._redirectPersistence)}function ds(e){return bi(is,e.config.apiKey,e.name)}function ps(e,t,n){return function(e,t,n){return vs.apply(this,arguments)}(e,t,n)}function vs(){return(vs=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),_r(t,n,xa),e.next=4,i._initializationPromise;case 4:return a=qu(i,r),e.next=7,cs(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e,t,n){return function(e,t,n){return ys.apply(this,arguments)}(e,t,n)}function ys(){return(ys=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _r((i=_t(t)).auth,n,xa),e.next=4,i.auth._initializationPromise;case 4:return a=qu(i.auth,r),e.next=7,cs(a,i.auth);case 7:return e.next=9,Is(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t,n){return function(e,t,n){return ks.apply(this,arguments)}(e,t,n)}function ks(){return(ks=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _r((i=_t(t)).auth,n,xa),e.next=4,i.auth._initializationPromise;case 4:return a=qu(i.auth,r),e.next=7,qa(!1,i,n.providerId);case 7:return e.next=9,cs(a,i.auth);case 9:return e.next=11,Is(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e,t){return ws.apply(this,arguments)}function ws(){return(ws=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(t)._initializationPromise;case 2:return e.abrupt("return",xs(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xs(e,t){return _s.apply(this,arguments)}function _s(){return _s=St(It().mark((function e(t,n){var r,i,a,o,u,s=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Li(t),a=qu(i,n),o=new os(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Is(e){return Es.apply(this,arguments)}function Es(){return(Es=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$o("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ss=function(){function e(t){Me(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ue(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Cs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ts(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ts(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ts(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Cs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function As(e){return Ns.apply(this,arguments)}function Ns(){return Ns=St(It().mark((function e(t){var n,r=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ur(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}var Ds=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Os=/^https?/;function Rs(){return(Rs=St(It().mark((function e(t){var n,r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,As(t);case 4:n=e.sent,r=n.authorizedDomains,i=Be(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ps(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:br(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Ps(e){var t=Nr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Os.test(r))return!1;if(Ds.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ls=new Rr(3e4,6e4);function Ms(){var e=Xo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,C.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Fs=null;function Vs(e){return Fs=Fs||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ms(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ms(),n(wr(e,"network-request-failed"))},timeout:Ls.get()})}if(null===(i=null===(r=Xo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Xo().gapi)||void 0===a?void 0:a.load)){var u=xu("iframefcb");return Xo()[u]=function(){gapi.load?o():n(wr(e,"network-request-failed"))},wu("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Fs=null,e}))}(e),Fs}var Us=new Rr(5e3,15e3),js="__/auth/iframe",Bs="emulator/auth/iframe",zs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qs(e){var t=e.config;Er(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Pr(t,Bs):"https://".concat(e.config.authDomain,"/").concat(js),r={apiKey:t.apiKey,appName:e.name,v:In},i=Zs.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(yt(r).slice(1))}function Ks(e){return Ws.apply(this,arguments)}function Ws(){return Ws=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(t);case 2:return n=e.sent,Er(r=Xo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:qs(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zs,dontclear:!0},(function(e){return new Promise(function(){var n=St(It().mark((function n(r,i){var a,o,u;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Xo().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=wr(t,"network-request-failed"),o=Xo().setTimeout((function(){i(a)}),Us.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Gs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hs=500,Qs=600,$s="_blank",Ys="http://localhost",Xs=function(){function e(t){Me(this,e),this.window=t,this.associatedEvent=null}return Ue(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Js(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Hs,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qs,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Gs),{width:r.toString(),height:i.toString(),top:a,left:o}),c=it().toLowerCase();n&&(u=Ei(c)?$s:n),_i(c)&&(t=t||Ys,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,I.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ni(arguments.length>0&&void 0!==arguments[0]?arguments[0]:it())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Xs(null);var f=window.open(t||"",u,l);Er(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Xs(f)}var ec="__/auth/handler",tc="emulator/auth/handler";function nc(e,t,n,r,i,a){Er(e.config.authDomain,e,"auth-domain-config-required"),Er(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:In,eventId:i};if(t instanceof xa){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,I.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof _a){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ec);return Pr(t,tc)}(e),"?").concat(yt(d).slice(1))}var rc="webStorageSupport",ic=function(){function e(){Me(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Go,this._completeRedirectFn=xs,this._overrideRedirectResult=fs}return Ue(e,[{key:"_openPopup",value:function(){var e=St(It().mark((function e(t,n,r,i){var a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=nc(t,n,r,Nr(),i),e.abrupt("return",Js(t,o,$o()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=St(It().mark((function e(t,n,r,i){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=nc(t,n,r,Nr(),i),Xo().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Tr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(t);case 2:return n=e.sent,r=new Ss(t),n.register("authEvent",(function(e){return Er(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(rc,{type:rc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[rc];void 0!==i&&t(!!i),br(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rs.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Di()||Ii()||Ni()}}]),e}(),ac=ic,oc=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this,"phone")).credential=e,r}return Ue(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ur(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ur(e,"POST","/v2/accounts/mfaSignIn:finalize",Vr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Me(this,e),this.factorId=t}return Ue(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Sr("unexpected MultiFactorSessionType")}}}]),e}()),uc=function(){function e(){Me(this,e)}return Ue(e,null,[{key:"assertion",value:function(e){return oc._fromCredential(e)}}]),e}();uc.FACTOR_ID="phone";var sc="@firebase/auth",cc="0.21.3",lc=function(){function e(t){Me(this,e),this.auth=t,this.internalListeners=new Map}return Ue(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var fc;!function(e){var t;null===(t=tt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function hc(){return window}fc="Browser",yn(new Tt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Er(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Er(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:fc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oi(fc)},i=new Pi(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yn(new Tt("auth-internal",(function(e){return function(e){return new lc(e)}(Li(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(sc,cc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fc)),Nn(sc,cc,"esm2017");var dc=2e3;function pc(e,t,n){return vc.apply(this,arguments)}function vc(){return vc=St(It().mark((function e(t,n,r){var i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hc(),o=a.BuildInfo,Tr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,wc(n.sessionId);case 4:return u=e.sent,s={},Ni()?s.ibi=o.packageName:Ti()?s.apn=o.packageName:br(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",nc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(){return(mc=St(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hc(),r=n.BuildInfo,i={},Ni()?i.iosBundleId=r.packageName:Ti()?i.androidPackageName=r.packageName:br(t,"operation-not-supported-in-this-environment"),e.next=5,As(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e){var t=hc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gc(e,t,n){return kc.apply(this,arguments)}function kc(){return kc=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(wr(t,"redirect-cancelled-by-user"))}),dc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ti()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),kc.apply(this,arguments)}function bc(e){var t,n,r,i,a,o,u,s,c,l,f=hc();Er("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Er("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Er("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Er("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Er("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function wc(e){return xc.apply(this,arguments)}function xc(){return(xc=St(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_c(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e){if(Tr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ic=20,Ec=function(e){ze(n,e);var t=We(n);function n(){var e;return Me(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ue(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),cr(Ze(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ss);function Sc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Dc(),postBody:null,tenantId:e.tenantId,error:wr(e,"no-auth-event")}}function Tc(e,t){return Oc()._set(Rc(e),t)}function Cc(e){return Ac.apply(this,arguments)}function Ac(){return(Ac=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc()._get(Rc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Oc()._remove(Rc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t){var n,r,i=function(e){var t=Pc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Pc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Pc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Pc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?wr(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Dc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Ic;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Oc(){return Ar(Ko)}function Rc(e){return bi("authEvent",e.config.apiKey,e.name)}function Pc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,or.Z)(t)||(0,ur.Z)(t)||(0,je.Z)(t)||(0,sr.Z)());r[0];return gt(r.slice(1).join("?"))}var Lc=function(){function e(){Me(this,e),this._redirectPersistence=Go,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xs,this._overrideRedirectResult=fs}return Ue(e,[{key:"_initialize",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Ec(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){br(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=St(It().mark((function e(t,n,r,i){var a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),as.clear(),e.next=10,this._originValidation(t);case 10:return o=Sc(t,r,i),e.next=13,Tc(t,o);case 13:return e.next=15,pc(t,o,n);case 15:return u=e.sent,e.next=18,yc(u);case 18:return s=e.sent,e.abrupt("return",gc(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=hc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(St(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Cc(e);case 2:t.onEvent(Fc());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=St(It().mark((function n(r){var i,a;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Cc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Nc(i,r.url)),t.onEvent(a||Fc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");hc().handleOpenURL=function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Mc=Lc;function Fc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wr("no-auth-event")}}var Vc="@firebase/auth-compat",Uc="0.3.3",jc=1e3;function Bc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return!("file:"!==Bc()&&"ionic:"!==Bc()&&"capacitor:"!==Bc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return st()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/Edge\/\d+/.test(e)}(e)}function qc(){try{var e=self.localStorage,t=$o();if(e)return e.setItem(t,"1"),e.removeItem(t),!Zc()||ct()}catch(n){return Kc()&&ct()}return!1}function Kc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Wc(){return("http:"===Bc()||"https:"===Bc()||ot()||zc())&&!(ut()||at())&&qc()&&!Kc()}function Gc(){return zc()&&"undefined"!==typeof document}function Hc(){return Qc.apply(this,arguments)}function Qc(){return(Qc=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),jc);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $c={LOCAL:"local",NONE:"none",SESSION:"session"},Yc=Er,Xc="persistence";function Jc(e,t){Yc(Object.values($c).includes(t),e,"invalid-persistence-type"),ut()?Yc(t!==$c.SESSION,e,"unsupported-persistence-type"):at()?Yc(t===$c.NONE,e,"unsupported-persistence-type"):Kc()?Yc(t===$c.NONE||t===$c.LOCAL&&ct(),e,"unsupported-persistence-type"):Yc(t===$c.NONE||qc(),e,"unsupported-persistence-type")}function el(e){return tl.apply(this,arguments)}function tl(){return(tl=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=nl(),r=bi(Xc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var rl=Er,il=function(){function e(){Me(this,e),this.browserResolver=Ar(ac),this.cordovaResolver=Ar(Mc),this.underlyingResolver=null,this._redirectPersistence=Go,this._completeRedirectFn=xs,this._overrideRedirectResult=fs}return Ue(e,[{key:"_initialize",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=St(It().mark((function e(t,n,r,i){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=St(It().mark((function e(t,n,r,i){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Gc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return rl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function al(e){return e.unwrap()}function ol(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new fl(e,function(e,t){var n,r=_t(e),i=t;return Er(t.customData.operationType,r,"argument-error"),Er(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fo._fromError(r,i)}(e,t));else if(r){var i=ul(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ul(e){var t=(e instanceof ft?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ft)&&"temporaryProof"in t&&"phoneNumber"in t)return Zu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===hr.PASSWORD)return null;switch(r){case hr.GOOGLE:n=Sa;break;case hr.FACEBOOK:n=Ea;break;case hr.GITHUB:n=Ta;break;case hr.TWITTER:n=Da;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ca._create(r,u):ha._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ia(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ft?n.credentialFromError(e):n.credentialFromResult(e)}function sl(e,t){return t.catch((function(t){throw t instanceof ft&&ol(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ul(t)),additionalUserInfo:Lo(e),user:hl.getOrCreate(r)}}))}function cl(e,t){return ll.apply(this,arguments)}function ll(){return(ll=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return sl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fl=function(){function e(t,n){Me(this,e),this.resolver=n,this.auth=t.wrapped()}return Ue(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return sl(al(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),hl=function(){function e(t){Me(this,e),this._delegate=t,this.multiFactor=function(e){var t=_t(e);return jo.has(t)||jo.set(t,Uo._fromUser(t)),jo.get(t)}(t)}return Ue(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this.auth,Xa(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(this.auth,Fu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this.auth,ts(this._delegate,t,il)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(Li(this.auth));case 2:return e.abrupt("return",gs(this._delegate,t,il));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this.auth,eo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return cl(this.auth,function(e,t,n){return Uu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return sl(this.auth,function(e,t,n){return es.apply(this,arguments)}(this._delegate,e,il))}},{key:"reauthenticateWithRedirect",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(Li(this.auth));case 2:return e.abrupt("return",ms(this._delegate,t,il));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return xo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return To(_t(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return To(_t(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return zu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return So.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _o.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();hl.USER_MAP=new WeakMap;var dl=Er,pl=function(){function e(t,n){if(Me(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;dl(r,"invalid-api-key",{appName:t.name}),dl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?il:void 0;this._delegate=n.initialize({options:{persistence:ml(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(vr),this.linkUnderlyingAuth()}return Ue(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?hl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Fi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return lo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return fo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return co.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(this._delegate,vo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return wo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ba.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dl(Wc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,bs(this._delegate,il);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",sl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Li(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=vl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=vl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return yo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return so.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jc(this._delegate,t),e.t0=t,e.next=e.t0===$c.SESSION?4:e.t0===$c.LOCAL?6:e.t0===$c.NONE?11:13;break;case 4:return n=Go,e.abrupt("break",14);case 6:return e.next=8,Ar(yu)._isAvailable();case 8:return r=e.sent,n=r?yu:Ko,e.abrupt("break",14);case 11:return n=ki,e.abrupt("break",14);case 13:return e.abrupt("return",br("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return sl(this._delegate,function(e){return Ma.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return sl(this._delegate,$a(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return sl(this._delegate,function(e,t){return io.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return sl(this._delegate,function(e,t,n){return $a(_t(e),wa.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return sl(this._delegate,function(e,t,n){return go.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return cl(this._delegate,function(e,t,n){return Mu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dl(Wc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",sl(this._delegate,Xu(this._delegate,t,il)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dl(Wc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,el(this._delegate);case 3:return e.abrupt("return",ps(this._delegate,t,il));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return po.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function vl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&hl.getOrCreate(e))},error:t,complete:n}}function ml(e,t){var n=function(e,t){var n=nl();if(!n)return[];var r=bi(Xc,e,t);switch(n.getItem(r)){case $c.NONE:return[ki];case $c.LOCAL:return[yu,Go];case $c.SESSION:return[Go];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(yu)||n.push(yu),"undefined"!==typeof window)for(var r=0,i=[Ko,Go];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ki)||n.push(ki),n}pl.Persistence=$c;var yl=function(){function e(){Me(this,e),this.providerId="phone",this._delegate=new Zu(al(ar.auth()))}return Ue(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Zu.credential(e,t)}}]),e}();yl.PHONE_SIGN_IN_METHOD=Zu.PHONE_SIGN_IN_METHOD,yl.PROVIDER_ID=Zu.PROVIDER_ID;var gl,kl=Er,bl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ar.app();Me(this,e),kl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ru(t,n,i.auth()),this.type=this._delegate.type}return Ue(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),wl="auth-compat";(gl=ar).INTERNAL.registerComponent(new Tt(wl,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new pl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dr.EMAIL_SIGNIN,PASSWORD_RESET:dr.PASSWORD_RESET,RECOVER_EMAIL:dr.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:dr.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:dr.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:dr.VERIFY_EMAIL}},EmailAuthProvider:wa,FacebookAuthProvider:Ea,GithubAuthProvider:Ta,GoogleAuthProvider:Sa,OAuthProvider:Ia,SAMLAuthProvider:Na,PhoneAuthProvider:yl,PhoneMultiFactorGenerator:uc,RecaptchaVerifier:bl,TwitterAuthProvider:Da,Auth:pl,AuthCredential:ji,Error:ft}).setInstantiationMode("LAZY").setMultipleInstances(!1)),gl.registerVersion(Vc,Uc);var xl,_l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Il={},El=El||{},Sl=_l||self;function Tl(){}function Cl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Al(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Nl="closure_uid_"+(1e9*Math.random()>>>0),Dl=0;function Ol(e,t,n){return e.call.apply(e.bind,arguments)}function Rl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pl(e,t,n){return(Pl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ol:Rl).apply(null,arguments)}function Ll(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ml(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Fl(){this.s=this.s,this.o=this.o}Fl.prototype.s=!1,Fl.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Nl)&&e[Nl]||(e[Nl]=++Dl))},Fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ul(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function jl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Cl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Bl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bl.prototype.h=function(){this.defaultPrevented=!0};var zl=function(){if(!Sl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Sl.addEventListener("test",Tl,t),Sl.removeEventListener("test",Tl,t)}catch(n){}return e}();function Zl(e){return/^[\s\xa0]*$/.test(e)}var ql=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kl(e,t){return e<t?-1:e>t?1:0}function Wl(){var e=Sl.navigator;return e&&(e=e.userAgent)?e:""}function Gl(e){return-1!=Wl().indexOf(e)}function Hl(e){return Hl[" "](e),e}Hl[" "]=Tl;var Ql,$l=Gl("Opera"),Yl=Gl("Trident")||Gl("MSIE"),Xl=Gl("Edge"),Jl=Xl||Yl,ef=Gl("Gecko")&&!(-1!=Wl().toLowerCase().indexOf("webkit")&&!Gl("Edge"))&&!(Gl("Trident")||Gl("MSIE"))&&!Gl("Edge"),tf=-1!=Wl().toLowerCase().indexOf("webkit")&&!Gl("Edge");function nf(){var e=Sl.document;return e?e.documentMode:void 0}e:{var rf="",af=function(){var e=Wl();return ef?/rv:([^\);]+)(\)|;)/.exec(e):Xl?/Edge\/([\d\.]+)/.exec(e):Yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):tf?/WebKit\/(\S+)/.exec(e):$l?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(af&&(rf=af?af[1]:""),Yl){var of=nf();if(null!=of&&of>parseFloat(rf)){Ql=String(of);break e}}Ql=rf}var uf,sf={};function cf(){return function(e){var t=sf;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ql(String(Ql)).split("."),n=ql("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Kl(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Kl(0==a[2].length,0==o[2].length)||Kl(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Sl.document&&Yl){var lf=nf();uf=lf||(parseInt(Ql,10)||void 0)}else uf=void 0;var ff=uf;function hf(e,t){if(Bl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ef){e:{try{Hl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:df[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hf.X.h.call(this)}}Ml(hf,Bl);var df={2:"touch",3:"pen",4:"mouse"};hf.prototype.h=function(){hf.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pf="closure_listenable_"+(1e6*Math.random()|0),vf=0;function mf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++vf,this.ba=this.ea=!1}function yf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function gf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kf(e){var t={};for(var n in e)t[n]=e[n];return t}var bf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bf.length;a++)n=bf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xf(e){this.src=e,this.g={},this.h=0}function _f(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Vl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(yf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function If(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}xf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=If(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new mf(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Ef="closure_lm_"+(1e6*Math.random()|0),Sf={};function Tf(e,t,n,r,i){if(r&&r.once)return Af(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Tf(e,t[a],n,r,i);return null}return n=Mf(n),e&&e[pf]?e.N(t,n,Al(r)?!!r.capture:!!r,i):Cf(e,t,n,!1,r,i)}function Cf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Al(i)?!!i.capture:!!i,u=Pf(e);if(u||(e[Ef]=u=new xf(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Rf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Of(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Af(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Af(e,t[a],n,r,i);return null}return n=Mf(n),e&&e[pf]?e.O(t,n,Al(r)?!!r.capture:!!r,i):Cf(e,t,n,!0,r,i)}function Nf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Nf(e,t[a],n,r,i);else r=Al(r)?!!r.capture:!!r,n=Mf(n),e&&e[pf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=If(a=e.g[t],n,r,i))&&(yf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Pf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=If(t,n,r,i)),(n=-1<e?t[e]:null)&&Df(n))}function Df(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[pf])_f(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Of(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pf(t))?(_f(n,e),0==n.h&&(n.src=null,t[Ef]=null)):yf(e)}}}function Of(e){return e in Sf?Sf[e]:Sf[e]="on"+e}function Rf(e,t){if(e.ba)e=!0;else{t=new hf(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Df(e),e=n.call(r,t)}return e}function Pf(e){return(e=e[Ef])instanceof xf?e:null}var Lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mf(e){return"function"===typeof e?e:(e[Lf]||(e[Lf]=function(t){return e.handleEvent(t)}),e[Lf])}function Ff(){Fl.call(this),this.i=new xf(this),this.P=this,this.I=null}function Vf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Bl(t,e);else if(t instanceof Bl)t.target=t.target||e;else{var i=t;wf(t=new Bl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Uf(o,r,!0,t)&&i}if(i=Uf(o=t.g=e,r,!0,t)&&i,i=Uf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Uf(o=t.g=n[a],r,!1,t)&&i}function Uf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&_f(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ml(Ff,Fl),Ff.prototype[pf]=!0,Ff.prototype.removeEventListener=function(e,t,n,r){Nf(this,e,t,n,r)},Ff.prototype.M=function(){if(Ff.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yf(n[r]);delete t.g[e],t.h--}}this.I=null},Ff.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ff.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var jf=Sl.JSON.stringify;function Bf(){var e=Qf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zf,Zf=function(){function e(){Me(this,e),this.h=this.g=null}return Ue(e,[{key:"add",value:function(e,t){var n=qf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qf=new(function(){function e(t,n){Me(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ue(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Kf}),(function(e){return e.reset()})),Kf=function(){function e(){Me(this,e),this.next=this.g=this.h=null}return Ue(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Wf(e){Sl.setTimeout((function(){throw e}),0)}function Gf(e,t){zf||function(){var e=Sl.Promise.resolve(void 0);zf=function(){e.then($f)}}(),Hf||(zf(),Hf=!0),Qf.add(e,t)}var Hf=!1,Qf=new Zf;function $f(){for(var e;e=Bf();){try{e.h.call(e.g)}catch(n){Wf(n)}var t=qf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hf=!1}function Yf(e,t){Ff.call(this),this.h=e||1,this.g=t||Sl,this.j=Pl(this.lb,this),this.l=Date.now()}function Xf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Jf(e,t,n){if("function"===typeof e)n&&(e=Pl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Sl.setTimeout(e,t||0)}function eh(e){e.g=Jf((function(){e.g=null,e.i&&(e.i=!1,eh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ml(Yf,Ff),(xl=Yf.prototype).ca=!1,xl.R=null,xl.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vf(this,"tick"),this.ca&&(Xf(this),this.start()))}},xl.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xl.M=function(){Yf.X.M.call(this),Xf(this),delete this.g};var th=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ue(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:eh(this)}},{key:"M",value:function(){cr(Ze(n.prototype),"M",this).call(this),this.g&&(Sl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Fl);function nh(e){Fl.call(this),this.h=e,this.g={}}Ml(nh,Fl);var rh=[];function ih(e,t,n,r){Array.isArray(n)||(n&&(rh[0]=n.toString()),n=rh);for(var i=0;i<n.length;i++){var a=Tf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ah(e){gf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Df(e)}),e),e.g={}}function oh(){this.g=!0}function uh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return jf(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}nh.prototype.M=function(){nh.X.M.call(this),ah(this)},nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oh.prototype.Aa=function(){this.g=!1},oh.prototype.info=function(){};var sh={},ch=null;function lh(){return ch=ch||new Ff}function fh(e){Bl.call(this,sh.Pa,e)}function hh(e){var t=lh();Vf(t,new fh(t))}function dh(e,t){Bl.call(this,sh.STAT_EVENT,e),this.stat=t}function ph(e){var t=lh();Vf(t,new dh(t,e))}function vh(e,t){Bl.call(this,sh.Qa,e),this.size=t}function mh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Sl.setTimeout((function(){e()}),t)}sh.Pa="serverreachability",Ml(fh,Bl),sh.STAT_EVENT="statevent",Ml(dh,Bl),sh.Qa="timingevent",Ml(vh,Bl);var yh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},gh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function kh(){}function bh(e){return e.h||(e.h=e.i())}function wh(){}kh.prototype.h=null;var xh,_h={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ih(){Bl.call(this,"d")}function Eh(){Bl.call(this,"c")}function Sh(){}function Th(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new nh(this),this.O=Ah,e=Jl?125:void 0,this.T=new Yf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ch}function Ch(){this.i=null,this.g="",this.h=!1}Ml(Ih,Bl),Ml(Eh,Bl),Ml(Sh,kh),Sh.prototype.g=function(){return new XMLHttpRequest},Sh.prototype.i=function(){return{}},xh=new Sh;var Ah=45e3,Nh={},Dh={};function Oh(e,t,n){e.K=1,e.v=Yh(Wh(t)),e.s=n,e.P=!0,Rh(e,null)}function Rh(e,t){e.F=Date.now(),Fh(e),e.A=Wh(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ld(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Ch,e.g=fp(e.l,n?t:null,!e.s),0<e.N&&(e.L=new th(Pl(e.La,e,e.g),e.N)),ih(e.S,e.g,"readystatechange",e.ib),t=e.H?kf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),hh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ph(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Lh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Mh(e,n))==Dh){4==t&&(e.o=4,ph(14),i=!1),uh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nh){e.o=4,ph(15),uh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}uh(e.j,e.m,r,null),zh(e,r)}Ph(e)&&r!=Dh&&r!=Nh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ph(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),rp(t),t.K=!0,ph(11))):(uh(e.j,e.m,n,"[Invalid Chunked Response]"),Bh(e),jh(e))}function Mh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Dh:(n=Number(t.substring(n,r)),isNaN(n)?Nh:(r+=1)+n>t.length?Dh:(t=t.substr(r,n),e.C=r+n,t))}function Fh(e){e.V=Date.now()+e.O,Vh(e,e.O)}function Vh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mh(Pl(e.gb,e),t)}function Uh(e){e.B&&(Sl.clearTimeout(e.B),e.B=null)}function jh(e){0==e.l.G||e.I||op(e.l,e)}function Bh(e){Uh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xf(e.T),ah(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||gd(n.h,e)))if(!e.J&&gd(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ap(n),Qd(n)}np(n),ph(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=mh(Pl(n.cb,n),6e3));if(1>=yd(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else sp(n,11)}else if((e.J||n.g==e)&&ap(n),!Zl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(kd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,$h(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=lp(r,r.H?r.ka:null,r.V),d.J){bd(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Uh(p),Fh(p)),r.g=d}else tp(r);0<n.i.length&&Yd(n)}else"stop"!=a[0]&&"close"!=a[0]||sp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?sp(n,7):Hd(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}hh()}catch(a){}}function Zh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Cl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Cl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Cl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(xl=Th.prototype).setTimeout=function(e){this.O=e},xl.ib=function(e){e=e.target;var t=this.L;t&&3==zd(e)?t.l():this.La(e)},xl.La=function(e){try{if(e==this.g)e:{var t=zd(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Jl||this.g&&(this.h.h||this.g.fa()||Zd(this.g)))){this.I||4!=t||7==n||hh(),Uh(this);var r=this.g.aa();this.Y=r;t:if(Ph(this)){var i=Zd(this.g);e="";var a=i.length,o=4==zd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bh(this),jh(this);var u="";break t}this.h.i=new Sl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zl(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ph(12),Bh(this),jh(this);break e}uh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zh(this,r)}this.P?(Lh(this,t,u),Jl&&this.i&&3==t&&(ih(this.S,this.T,"tick",this.hb),this.T.start())):(uh(this.j,this.m,u,null),zh(this,u)),4==t&&Bh(this),this.i&&!this.I&&(4==t?op(this.l,this):(this.i=!1,Fh(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ph(12)):(this.o=0,ph(13)),Bh(this),jh(this)}}}catch(t){}},xl.hb=function(){if(this.g){var e=zd(this.g),t=this.g.fa();this.C<t.length&&(Uh(this),Lh(this,e,t),this.i&&4!=e&&Fh(this))}},xl.cancel=function(){this.I=!0,Bh(this)},xl.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hh(),ph(17)),Bh(this),this.o=2,jh(this)):Vh(this,this.V-e)};var qh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Kh){this.h=void 0!==t?t:e.h,Gh(this,e.j),this.s=e.s,this.g=e.g,Hh(this,e.m),this.l=e.l,t=e.i;var n=new od;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qh(this,n),this.o=e.o}else e&&(n=String(e).match(qh))?(this.h=!!t,Gh(this,n[1]||"",!0),this.s=Xh(n[2]||""),this.g=Xh(n[3]||"",!0),Hh(this,n[4]),this.l=Xh(n[5]||"",!0),Qh(this,n[6]||"",!0),this.o=Xh(n[7]||"")):(this.h=!!t,this.i=new od(null,this.h))}function Wh(e){return new Kh(e)}function Gh(e,t,n){e.j=n?Xh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qh(e,t,n){t instanceof od?(e.i=t,function(e,t){t&&!e.j&&(ud(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sd(this,t),ld(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Jh(t,id)),e.i=new od(t,e.h))}function $h(e,t,n){e.i.set(t,n)}function Yh(e){return $h(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ed),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ed(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jh(t,td,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jh(t,td,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jh(n,"/"==n.charAt(0)?rd:nd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jh(n,ad)),e.join("")};var td=/[#\/\?@]/g,nd=/[#\?:]/g,rd=/[#\?]/g,id=/[#\?@]/g,ad=/#/g;function od(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ud(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sd(e,t){ud(e),t=fd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function cd(e,t){return ud(e),t=fd(e,t),e.g.has(t)}function ld(e,t,n){sd(e,t),0<n.length&&(e.i=null,e.g.set(fd(e,t),Ul(n)),e.h+=n.length)}function fd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xl=od.prototype).add=function(e,t){ud(this),this.i=null,e=fd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xl.forEach=function(e,t){ud(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xl.oa=function(){ud(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},xl.W=function(e){ud(this);var t=[];if("string"===typeof e)cd(this,e)&&(t=t.concat(this.g.get(fd(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},xl.set=function(e,t){return ud(this),this.i=null,cd(this,e=fd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xl.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},xl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var hd=Ue((function e(t,n){Me(this,e),this.h=t,this.g=n}));function dd(e){this.l=e||vd,Sl.PerformanceNavigationTiming?e=0<(e=Sl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Sl.g&&Sl.g.Ga&&Sl.g.Ga()&&Sl.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pd,vd=10;function md(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yd(e){return e.h?1:e.g?e.g.size:0}function gd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function kd(e,t){e.g?e.g.add(t):e.h=t}function bd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Be(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ul(e.i)}function xd(){}function _d(){this.g=new xd}function Id(e,t,n){var r=n||"";try{Zh(e,(function(e,n){var i=e;Al(e)&&(i=jf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ed(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Sd(e){this.l=e.ac||null,this.j=e.jb||!1}function Td(e,t){Ff.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Cd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dd.prototype.cancel=function(){if(this.i=wd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Be(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},xd.prototype.stringify=function(e){return Sl.JSON.stringify(e,void 0)},xd.prototype.parse=function(e){return Sl.JSON.parse(e,void 0)},Ml(Sd,kh),Sd.prototype.g=function(){return new Td(this.l,this.j)},Sd.prototype.i=(pd={},function(){return pd}),Ml(Td,Ff);var Cd=0;function Ad(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Nd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Dd(e)}function Dd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xl=Td.prototype).open=function(e,t){if(this.readyState!=Cd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Dd(this)},xl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Sl).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},xl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nd(this)),this.readyState=Cd},xl.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dd(this)),this.g&&(this.readyState=3,Dd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Sl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ad(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},xl.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nd(this):Dd(this),3==this.readyState&&Ad(this)}},xl.Va=function(e){this.g&&(this.response=this.responseText=e,Nd(this))},xl.Ua=function(e){this.g&&(this.response=e,Nd(this))},xl.ga=function(){this.g&&Nd(this)},xl.setRequestHeader=function(e,t){this.v.append(e,t)},xl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Od=Sl.JSON.parse;function Rd(e){Ff.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pd,this.K=this.L=!1}Ml(Rd,Ff);var Pd="",Ld=/^https?$/i,Md=["POST","PUT"];function Fd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vd(e),jd(e)}function Vd(e){e.D||(e.D=!0,Vf(e,"complete"),Vf(e,"error"))}function Ud(e){if(e.h&&"undefined"!=typeof El&&(!e.C[1]||4!=zd(e)||2!=e.aa()))if(e.v&&4==zd(e))Jf(e.Ha,0,e);else if(Vf(e,"readystatechange"),4==zd(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(qh)[1]||null;if(!a&&Sl.self&&Sl.self.location){var o=Sl.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ld.test(a?a.toLowerCase():"")}t=i}if(t)Vf(e,"complete"),Vf(e,"success");else{e.m=6;try{var u=2<zd(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Vd(e)}}finally{jd(e)}}}function jd(e,t){if(e.g){Bd(e);var n=e.g,r=e.C[0]?Tl:null;e.g=null,e.C=null,t||Vf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Bd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Sl.clearTimeout(e.A),e.A=null)}function zd(e){return e.g?e.g.readyState:0}function Zd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Pd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Tp){return null}}function qd(e){var t="";return gf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Kd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$h(e,t,n))}function Wd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gd(e){this.Ca=0,this.i=[],this.j=new oh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wd("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wd("baseRetryDelayMs",5e3,e),this.bb=Wd("retryDelaySeedMs",1e4,e),this.$a=Wd("forwardChannelMaxRetries",2,e),this.ta=Wd("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new dd(e&&e.concurrentRequestLimit),this.Fa=new _d,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Hd(e){if($d(e),3==e.G){var t=e.U++,n=Wh(e.F);$h(n,"SID",e.I),$h(n,"RID",t),$h(n,"TYPE","terminate"),Jd(e,n),(t=new Th(e,e.j,t,void 0)).K=2,t.v=Yh(Wh(n)),n=!1,Sl.navigator&&Sl.navigator.sendBeacon&&(n=Sl.navigator.sendBeacon(t.v.toString(),"")),!n&&Sl.Image&&((new Image).src=t.v,n=!0),n||(t.g=fp(t.l,null),t.g.da(t.v)),t.F=Date.now(),Fh(t)}cp(e)}function Qd(e){e.g&&(rp(e),e.g.cancel(),e.g=null)}function $d(e){Qd(e),e.u&&(Sl.clearTimeout(e.u),e.u=null),ap(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Sl.clearTimeout(e.m),e.m=null)}function Yd(e){md(e.h)||e.m||(e.m=!0,Gf(e.Ja,e),e.C=0)}function Xd(e,t){var n;n=t?t.m:e.U++;var r=Wh(e.F);$h(r,"SID",e.I),$h(r,"RID",n),$h(r,"AID",e.T),Jd(e,r),e.o&&e.s&&Kd(r,e.o,e.s),n=new Th(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ep(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),kd(e.h,n),Oh(n,r,t)}function Jd(e,t){e.ia&&gf(e.ia,(function(e,n){$h(t,n,e)})),e.l&&Zh({},(function(e,n){$h(t,n,e)}))}function ep(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Pl(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Id(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function tp(e){e.g||e.u||(e.Z=1,Gf(e.Ia,e),e.A=0)}function np(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=mh(Pl(e.Ia,e),up(e,e.A)),e.A++,!0)}function rp(e){null!=e.B&&(Sl.clearTimeout(e.B),e.B=null)}function ip(e){e.g=new Th(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Wh(e.sa);$h(t,"RID","rpc"),$h(t,"SID",e.I),$h(t,"CI",e.L?"0":"1"),$h(t,"AID",e.T),$h(t,"TYPE","xmlhttp"),Jd(e,t),e.o&&e.s&&Kd(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Yh(Wh(t)),n.s=null,n.P=!0,Rh(n,e)}function ap(e){null!=e.v&&(Sl.clearTimeout(e.v),e.v=null)}function op(e,t){var n=null;if(e.g==t){ap(e),rp(e),e.g=null;var r=2}else{if(!gd(e.h,t))return;n=t.D,bd(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Vf(r=lh(),new vh(r,n)),Yd(e)}else tp(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(yd(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=mh(Pl(e.Ja,e,t),up(e,e.C)),e.C++,!0))}(e,t)||2==r&&np(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:sp(e,5);break;case 4:sp(e,10);break;case 3:sp(e,6);break;default:sp(e,2)}}function up(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function sp(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Pl(e.kb,e);n||(n=new Kh("//www.google.com/images/cleardot.gif"),Sl.location&&"http"==Sl.location.protocol||Gh(n,"https"),Yh(n)),function(e,t){var n=new oh;if(Sl.Image){var r=new Image;r.onload=Ll(Ed,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ll(Ed,n,r,"TestLoadImage: error",!1,t),r.onabort=Ll(Ed,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ll(Ed,n,r,"TestLoadImage: timeout",!1,t),Sl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ph(2);e.G=0,e.l&&e.l.va(t),cp(e),$d(e)}function cp(e){if(e.G=0,e.la=[],e.l){var t=wd(e.h);0==t.length&&0==e.i.length||(jl(e.la,t),jl(e.la,e.i),e.h.i.length=0,Ul(e.i),e.i.length=0),e.l.ua()}}function lp(e,t,n){var r=n instanceof Kh?Wh(n):new Kh(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Hh(r,r.m);else{var i=Sl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Kh(null,void 0);r&&Gh(a,r),t&&(a.g=t),i&&Hh(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&$h(r,n,t),$h(r,"VER",e.ma),Jd(e,r),r}function fp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Rd(new Sd({jb:!0})):new Rd(e.ra)).Ka(e.H),t}function hp(){}function dp(){if(Yl&&!(10<=Number(ff)))throw Error("Environmental error: no available transport.")}function pp(e,t){Ff.call(this),this.g=new Gd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Zl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yp(this)}function vp(e){Ih.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mp(){Eh.call(this),this.status=1}function yp(e){this.g=e}(xl=Rd.prototype).Ka=function(e){this.L=e},xl.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xh.g(),this.C=this.u?bh(this.u):bh(xh),this.g.onreadystatechange=Pl(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Fd(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Be(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Sl.FormData&&e instanceof Sl.FormData,!(0<=Vl(Md,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Be(n);try{for(c.s();!(s=c.n()).done;){var l=(0,I.Z)(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bd(this),0<this.B&&((this.K=function(e){return Yl&&cf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pl(this.qa,this)):this.A=Jf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Fd(this,u)}},xl.qa=function(){"undefined"!=typeof El&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vf(this,"timeout"),this.abort(8))},xl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vf(this,"complete"),Vf(this,"abort"),jd(this))},xl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jd(this,!0)),Rd.X.M.call(this)},xl.Ha=function(){this.s||(this.F||this.v||this.l?Ud(this):this.fb())},xl.fb=function(){Ud(this)},xl.aa=function(){try{return 2<zd(this)?this.g.status:-1}catch(pd){return-1}},xl.fa=function(){try{return this.g?this.g.responseText:""}catch(pd){return""}},xl.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Od(t)}},xl.Ea=function(){return this.m},xl.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xl=Gd.prototype).ma=8,xl.G=1,xl.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Th(this,this.j,e,void 0),n=this.s;if(this.S&&(n?wf(n=kf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ep(this,t,r),$h(i=Wh(this.F),"RID",e),$h(i,"CVER",22),this.D&&$h(i,"X-HTTP-Session-Id",this.D),Jd(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(qd(n)))+"&"+r:this.o&&Kd(i,this.o,n)),kd(this.h,t),this.Ya&&$h(i,"TYPE","init"),this.O?($h(i,"$req",r),$h(i,"SID","null"),t.Z=!0,Oh(t,i,null)):Oh(t,i,r),this.G=2}}else 3==this.G&&(e?Xd(this,e):0==this.i.length||md(this.h)||Xd(this))},xl.Ia=function(){if(this.u=null,ip(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=mh(Pl(this.eb,this),e)}},xl.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ph(10),Qd(this),ip(this))},xl.cb=function(){null!=this.v&&(this.v=null,Qd(this),np(this),ph(19))},xl.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ph(2)):(this.j.info("Failed to ping google.com"),ph(1))},(xl=hp.prototype).xa=function(){},xl.wa=function(){},xl.va=function(){},xl.ua=function(){},xl.Ra=function(){},dp.prototype.g=function(e,t){return new pp(e,t)},Ml(pp,Ff),pp.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ph(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=lp(e,null,e.V),Yd(e)},pp.prototype.close=function(){Hd(this.g)},pp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=jf(e),e=n);t.i.push(new hd(t.ab++,e)),3==t.G&&Yd(t)},pp.prototype.M=function(){this.g.l=null,delete this.j,Hd(this.g),delete this.g,pp.X.M.call(this)},Ml(vp,Ih),Ml(mp,Eh),Ml(yp,hp),yp.prototype.xa=function(){Vf(this.g,"a")},yp.prototype.wa=function(e){Vf(this.g,new vp(e))},yp.prototype.va=function(e){Vf(this.g,new mp)},yp.prototype.ua=function(){Vf(this.g,"b")},dp.prototype.createWebChannel=dp.prototype.g,pp.prototype.send=pp.prototype.u,pp.prototype.open=pp.prototype.m,pp.prototype.close=pp.prototype.close,yh.NO_ERROR=0,yh.TIMEOUT=8,yh.HTTP_ERROR=6,gh.COMPLETE="complete",wh.EventType=_h,_h.OPEN="a",_h.CLOSE="b",_h.ERROR="c",_h.MESSAGE="d",Ff.prototype.listen=Ff.prototype.N,Rd.prototype.listenOnce=Rd.prototype.O,Rd.prototype.getLastError=Rd.prototype.Oa,Rd.prototype.getLastErrorCode=Rd.prototype.Ea,Rd.prototype.getStatus=Rd.prototype.aa,Rd.prototype.getResponseJson=Rd.prototype.Sa,Rd.prototype.getResponseText=Rd.prototype.fa,Rd.prototype.send=Rd.prototype.da,Rd.prototype.setWithCredentials=Rd.prototype.Ka;var gp=Il.createWebChannelTransport=function(){return new dp},kp=Il.getStatEventTarget=function(){return lh()},bp=Il.ErrorCode=yh,wp=Il.EventType=gh,xp=Il.Event=sh,_p=Il.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ip=Il.FetchXmlHttpFactory=Sd,Ep=Il.WebChannel=wh,Sp=Il.XhrIo=Rd,Tp="@firebase/firestore",Cp=function(){function e(t){Me(this,e),this.uid=t}return Ue(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Cp.UNAUTHENTICATED=new Cp(null),Cp.GOOGLE_CREDENTIALS=new Cp("google-credentials-uid"),Cp.FIRST_PARTY=new Cp("first-party-uid"),Cp.MOCK_USER=new Cp("mock-user");var Ap="9.17.1",Np=new Vt("@firebase/firestore");function Dp(){return Np.logLevel}function Op(e){if(Np.logLevel<=Dt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lp);Np.debug.apply(Np,["Firestore (".concat(Ap,"): ").concat(e)].concat((0,C.Z)(i)))}}function Rp(e){if(Np.logLevel<=Dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lp);Np.error.apply(Np,["Firestore (".concat(Ap,"): ").concat(e)].concat((0,C.Z)(i)))}}function Pp(e){if(Np.logLevel<=Dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lp);Np.warn.apply(Np,["Firestore (".concat(Ap,"): ").concat(e)].concat((0,C.Z)(i)))}}function Lp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ap,") INTERNAL ASSERTION FAILED: ")+e;throw Rp(t),new Error(t)}function Fp(e,t){e||Mp()}function Vp(e,t){return e}var Up={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jp=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ue(n)}(ft),Bp=Ue((function e(){var t=this;Me(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zp=Ue((function e(t,n){Me(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Zp=function(){function e(){Me(this,e)}return Ue(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qp=function(){function e(t){Me(this,e),this.token=t,this.changeListener=null}return Ue(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Kp=function(){function e(t){Me(this,e),this.t=t,this.currentUser=Cp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ue(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Bp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Bp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Op("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Op("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Op("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Fp("string"==typeof n.accessToken),new zp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Fp(null===e||"string"==typeof e),new Cp(e)}}]),e}(),Wp=function(){function e(t,n,r,i){Me(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Cp.FIRST_PARTY,this.p=new Map}return Ue(e,[{key:"I",value:function(){return this.g?this.g():(Fp(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Gp=function(){function e(t,n,r,i){Me(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Ue(e,[{key:"getToken",value:function(){return Promise.resolve(new Wp(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hp=Ue((function e(t){Me(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qp=function(){function e(t){Me(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Ue(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Op("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Op("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Op("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Op("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Fp("string"==typeof t.token),e.A=t.token,new Hp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function $p(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Yp=function(){function e(){Me(this,e)}return Ue(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$p(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Xp(e,t){return e<t?-1:e>t?1:0}function Jp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ev(e){return e+"\0"}var tv=function(){function e(t,n){if(Me(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new jp(Up.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jp(Up.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new jp(Up.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jp(Up.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ue(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Xp(this.nanoseconds,e.nanoseconds):Xp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),nv=function(){function e(t){Me(this,e),this.timestamp=t}return Ue(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new tv(0,0))}},{key:"max",value:function(){return new e(new tv(253402300799,999999999))}}]),e}(),rv=function(){function e(t,n,r){Me(this,e),void 0===n?n=0:n>t.length&&Mp(),void 0===r?r=t.length-n:r>t.length-n&&Mp(),this.segments=t,this.offset=n,this.len=r}return Ue(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),iv=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new jp(Up.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,C.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rv),av=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ov=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return av.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new jp(Up.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new jp(Up.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new jp(Up.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new jp(Up.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rv),uv=function(){function e(t){Me(this,e),this.path=t}return Ue(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===iv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(iv.fromString(t))}},{key:"fromName",value:function(t){return new e(iv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(iv.emptyPath())}},{key:"comparator",value:function(e,t){return iv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new iv(t.slice()))}}]),e}(),sv=Ue((function e(t,n,r,i){Me(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function cv(e){return e.fields.find((function(e){return 2===e.kind}))}function lv(e){return e.fields.filter((function(e){return 2!==e.kind}))}sv.UNKNOWN_ID=-1;var fv=Ue((function e(t,n){Me(this,e),this.fieldPath=t,this.kind=n}));var hv=function(){function e(t,n){Me(this,e),this.sequenceNumber=t,this.offset=n}return Ue(e,null,[{key:"empty",value:function(){return new e(0,vv.min())}}]),e}();function dv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=nv.fromTimestamp(1e9===r?new tv(n+1,0):new tv(n,r));return new vv(i,uv.empty(),t)}function pv(e){return new vv(e.readTime,e.key,-1)}var vv=function(){function e(t,n,r){Me(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ue(e,null,[{key:"min",value:function(){return new e(nv.min(),uv.empty(),-1)}},{key:"max",value:function(){return new e(nv.max(),uv.empty(),-1)}}]),e}();function mv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=uv.comparator(e.documentKey,t.documentKey))?n:Xp(e.largestBatchId,t.largestBatchId)}var yv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gv=function(){function e(){Me(this,e),this.onCommittedListeners=[]}return Ue(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function kv(e){return bv.apply(this,arguments)}function bv(){return bv=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Up.FAILED_PRECONDITION&&t.message===yv){e.next=2;break}throw t;case 2:Op("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),bv.apply(this,arguments)}var wv=function(){function e(t){var n=this;Me(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ue(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Be(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),xv=function(){function e(t,n){var r=this;Me(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Bp,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Ev(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Nv(e.target.error);r.P.reject(new Ev(t,n))}}return Ue(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Op("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Tv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ev(n,t)}}}]),e}(),_v=function(){function e(t,n,r){Me(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(it())&&Rp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ue(e,[{key:"F",value:function(){var e=St(It().mark((function e(t){var n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Op("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ev(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new jp(Up.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new jp(Up.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ev(t,n))},i.onupgradeneeded=function(e){Op("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Op("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=St(It().mark((function e(t,n,r,i){var a,o,u,s,c=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=It().mark((function e(){var n,u,s,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=xv.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),wv.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Op("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Op("SimpleDb","Removing database:",e),Cv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ct())return!1;if(e.N())return!0;var t=it(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Iv=function(){function e(t){Me(this,e),this.q=t,this.U=!1,this.K=null}return Ue(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Cv(this.q.delete())}}]),e}(),Ev=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,Up.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ue(n)}(jp);function Sv(e){return"IndexedDbTransactionError"===e.name}var Tv=function(){function e(t){Me(this,e),this.store=t}return Ue(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Op("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Op("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cv(n)}},{key:"add",value:function(e){return Op("SimpleDb","ADD",this.store.name,e,e),Cv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Cv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Op("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Op("SimpleDb","DELETE",this.store.name,e),Cv(this.store.delete(e))}},{key:"count",value:function(){return Op("SimpleDb","COUNT",this.store.name),Cv(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new wv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new wv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Op("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new wv((function(n,r){t.onerror=function(e){var t=Nv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new wv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Iv(i),o=t(i.primaryKey,i.value,a);if(o instanceof wv){var u=o.catch((function(e){return a.done(),wv.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return wv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Cv(e){return new wv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Nv(e.target.error);n(t)}}))}var Av=!1;function Nv(e){var t=_v.D(it());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new jp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Av||(Av=!0,setTimeout((function(){throw r}),0)),r}}return e}var Dv=function(){function e(t,n){Me(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Ue(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Op("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Op,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Sv(e.t4)){e.next=17;break}Op("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,kv(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ov=function(){function e(t,n){Me(this,e),this.localStore=t,this.persistence=n}return Ue(e,[{key:"st",value:function(){var e=St(It().mark((function e(){var t,n=this,r=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return wv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Op("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Op("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=pv(t);mv(r,n)>0&&(n=r)})),new vv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Rv=function(){function e(t,n){var r=this;Me(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Ue(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Rv.at=-1;var Pv=Ue((function e(t,n,r,i,a,o,u,s){Me(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Lv=function(){function e(t,n){Me(this,e),this.projectId=t,this.database=n||"(default)"}return Ue(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Mv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Uv(e){return null==e}function jv(e){return 0===e&&1/e==-1/0}function Bv(e){return"number"==typeof e&&Number.isInteger(e)&&!jv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zv=function(e){function t(e){Me(this,t),this.binaryString=e}return Ue(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Xp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();zv.EMPTY_BYTE_STRING=new zv("");var Zv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qv(e){if(Fp(!!e),"string"==typeof e){var t=0,n=Zv.exec(e);if(Fp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Kv(e.seconds),nanos:Kv(e.nanos)}}function Kv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wv(e){return"string"==typeof e?zv.fromBase64String(e):zv.fromUint8Array(e)}function Gv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hv(e){var t=e.mapValue.fields.__previous_value__;return Gv(t)?Hv(t):t}function Qv(e){var t=qv(e.mapValue.fields.__local_write_time__.timestampValue);return new tv(t.seconds,t.nanos)}var $v={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yv={nullValue:"NULL_VALUE"};function Xv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gv(e)?4:hm(e)?9007199254740991:10:Mp()}function Jv(e,t){if(e===t)return!0;var n=Xv(e);if(n!==Xv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qv(e).isEqual(Qv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qv(e.timestampValue),r=qv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wv(e.bytesValue).isEqual(Wv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Kv(e.geoPointValue.latitude)===Kv(t.geoPointValue.latitude)&&Kv(e.geoPointValue.longitude)===Kv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Kv(e.integerValue)===Kv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Kv(e.doubleValue),r=Kv(t.doubleValue);return n===r?jv(n)===jv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jp(e.arrayValue.values||[],t.arrayValue.values||[],Jv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Mv(n)!==Mv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jv(n[i],r[i])))return!1;return!0}(e,t);default:return Mp()}}function em(e,t){return void 0!==(e.values||[]).find((function(e){return Jv(e,t)}))}function tm(e,t){if(e===t)return 0;var n=Xv(e),r=Xv(t);if(n!==r)return Xp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Kv(e.integerValue||e.doubleValue),r=Kv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nm(e.timestampValue,t.timestampValue);case 4:return nm(Qv(e),Qv(t));case 5:return Xp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Wv(e),r=Wv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Xp(n[i],r[i]);if(0!==a)return a}return Xp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Xp(Kv(e.latitude),Kv(t.latitude));return 0!==n?n:Xp(Kv(e.longitude),Kv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=tm(n[i],r[i]);if(a)return a}return Xp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$v.mapValue&&t===$v.mapValue)return 0;if(e===$v.mapValue)return 1;if(t===$v.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Xp(r[o],a[o]);if(0!==u)return u;var s=tm(n[r[o]],i[a[o]]);if(0!==s)return s}return Xp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mp()}}function nm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xp(e,t);var n=qv(e),r=qv(t),i=Xp(n.seconds,r.seconds);return 0!==i?i:Xp(n.nanos,r.nanos)}function rm(e){return im(e)}function im(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=qv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Wv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,uv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Be(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=im(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Be(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(im(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Mp();var t,n}function am(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function om(e){return!!e&&"integerValue"in e}function um(e){return!!e&&"arrayValue"in e}function sm(e){return!!e&&"nullValue"in e}function cm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lm(e){return!!e&&"mapValue"in e}function fm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Fv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function dm(e){return"nullValue"in e?Yv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?am(Lv.empty(),uv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Mp()}function pm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?am(Lv.empty(),uv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?$v:Mp()}function vm(e,t){var n=tm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function mm(e,t){var n=tm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ym=Ue((function e(t,n){Me(this,e),this.position=t,this.inclusive=n}));function gm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?uv.comparator(uv.fromName(o.referenceValue),n.key):tm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function km(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jv(e.position[n],t.position[n]))return!1;return!0}var bm=Ue((function e(){Me(this,e)})),wm=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ue(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tm(t,this.value)):null!==t&&Xv(this.value)===Xv(t)&&this.matchesComparison(tm(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mp()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Dm(e,t,r):"array-contains"===t?new Lm(e,r):"in"===t?new Mm(e,r):"not-in"===t?new Fm(e,r):"array-contains-any"===t?new Vm(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Om(e,n):new Rm(e,n)}}]),n}(bm),xm=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Ue(n,[{key:"matches",value:function(e){return _m(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Be(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(bm);function _m(e){return"and"===e.op}function Im(e){return"or"===e.op}function Em(e){return Sm(e)&&_m(e)}function Sm(e){var t,n=Be(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof xm)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Tm(e){if(e instanceof wm)return e.field.canonicalString()+e.op.toString()+rm(e.value);if(Em(e))return e.filters.map((function(e){return Tm(e)})).join(",");var t=e.filters.map((function(e){return Tm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Cm(e,t){return e instanceof wm?function(e,t){return t instanceof wm&&e.op===t.op&&e.field.isEqual(t.field)&&Jv(e.value,t.value)}(e,t):e instanceof xm?function(e,t){return t instanceof xm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Cm(n,t.filters[r])}),!0)}(e,t):void Mp()}function Am(e,t){var n=e.filters.concat(t);return xm.create(n,e.op)}function Nm(e){return e instanceof wm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rm(e.value))}(e):e instanceof xm?function(e){return e.op.toString()+" {"+e.getFilters().map(Nm).join(" ,")+"}"}(e):"Filter"}var Dm=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this,e,r,i)).key=uv.fromName(i.referenceValue),a}return Ue(n,[{key:"matches",value:function(e){var t=uv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(wm),Om=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,"in",r)).keys=Pm("in",r),i}return Ue(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wm),Rm=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,"not-in",r)).keys=Pm("not-in",r),i}return Ue(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wm);function Pm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return uv.fromName(e.referenceValue)}))}var Lm=function(e){ze(n,e);var t=We(n);function n(e,r){return Me(this,n),t.call(this,e,"array-contains",r)}return Ue(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return um(t)&&em(t.arrayValue,this.value)}}]),n}(wm),Mm=function(e){ze(n,e);var t=We(n);function n(e,r){return Me(this,n),t.call(this,e,"in",r)}return Ue(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&em(this.value.arrayValue,t)}}]),n}(wm),Fm=function(e){ze(n,e);var t=We(n);function n(e,r){return Me(this,n),t.call(this,e,"not-in",r)}return Ue(n,[{key:"matches",value:function(e){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!em(this.value.arrayValue,t)}}]),n}(wm),Vm=function(e){ze(n,e);var t=We(n);function n(e,r){return Me(this,n),t.call(this,e,"array-contains-any",r)}return Ue(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return em(t.value.arrayValue,e)}))}}]),n}(wm),Um=Ue((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Me(this,e),this.field=t,this.dir=n}));function jm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Bm=function(){function e(t,n){Me(this,e),this.comparator=t,this.root=n||Zm.EMPTY}return Ue(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zm(this.root,e,this.comparator,!0)}}]),e}(),zm=function(){function e(t,n,r,i){Me(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ue(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Zm=function(){function e(t,n,r,i,a){Me(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ue(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mp();if(this.right.isRed())throw Mp();var e=this.left.check();if(e!==this.right.check())throw Mp();return e+(this.isRed()?0:1)}}]),e}();Zm.EMPTY=null,Zm.RED=!0,Zm.BLACK=!1,Zm.EMPTY=new(function(){function e(){Me(this,e),this.size=0}return Ue(e,[{key:"key",get:function(){throw Mp()}},{key:"value",get:function(){throw Mp()}},{key:"color",get:function(){throw Mp()}},{key:"left",get:function(){throw Mp()}},{key:"right",get:function(){throw Mp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Zm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var qm=function(){function e(t){Me(this,e),this.comparator=t,this.data=new Bm(this.comparator)}return Ue(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Km(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Km(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Km=function(){function e(t){Me(this,e),this.iter=t}return Ue(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Wm(e){return e.hasNext()?e.getNext():void 0}var Gm=function(){function e(t){Me(this,e),this.fields=t,t.sort(ov.comparator)}return Ue(e,[{key:"unionWith",value:function(t){var n,r=new qm(ov.comparator),i=Be(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Be(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Be(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Hm=function(){function e(t){Me(this,e),this.value=t}return Ue(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!lm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fm(t)}},{key:"setAll",value:function(e){var t=this,n=ov.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=fm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Jv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];lm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Fv(t,(function(t,n){return e[t]=n}));var r,i=Be(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(fm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Qm(e){var t=[];return Fv(e.fields,(function(e,n){var r=new ov([e]);if(lm(n)){var i=Qm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Be(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Gm(t)}var $m=function(){function e(t,n,r,i,a,o,u){Me(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Ue(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(nv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=nv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,nv.min(),nv.min(),nv.min(),Hm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,nv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,nv.min(),nv.min(),Hm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,nv.min(),nv.min(),Hm.empty(),2)}}]),e}(),Ym=Ue((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Me(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Xm(e){return new Ym(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Jm(e){var t=Vp(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Tm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Uv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return rm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return rm(e)})).join(",")),t.ft=n}return t.ft}function ey(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Cm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!km(e.startAt,t.startAt)&&km(e.endAt,t.endAt)}function ty(e){return uv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ny(e,t){return e.filters.filter((function(e){return e instanceof wm&&e.field.isEqual(t)}))}function ry(e,t,n){var r,i=Yv,a=!0,o=Be(ny(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Yv,c=!0;switch(u.op){case"<":case"<=":s=dm(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Yv}vm({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];vm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function iy(e,t,n){var r,i=$v,a=!0,o=Be(ny(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=$v,c=!0;switch(u.op){case">=":case">":s=pm(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=$v}mm({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];mm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ay=Ue((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Me(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function oy(e,t,n,r,i,a,o,u){return new ay(e,t,n,r,i,a,o,u)}function uy(e){return new ay(e)}function sy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function cy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ly(e){var t,n=Be(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function fy(e){return null!==e.collectionGroup}function hy(e){var t=Vp(e);if(null===t.dt){t.dt=[];var n=ly(t),r=cy(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Um(n)),t.dt.push(new Um(ov.keyField(),"asc"));else{var i,a=!1,o=Be(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Um(ov.keyField(),s))}}}return t.dt}function dy(e){var t=Vp(e);if(!t._t)if("F"===t.limitType)t._t=Xm(t.path,t.collectionGroup,hy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Be(hy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Um(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ym(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ym(t.startAt.position,t.startAt.inclusive):null;t._t=Xm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function py(e,t){t.getFirstInequalityField(),ly(e);var n=e.filters.concat([t]);return new ay(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vy(e,t,n){return new ay(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function my(e,t){return ey(dy(e),dy(t))&&e.limitType===t.limitType}function yy(e){return"".concat(Jm(dy(e)),"|lt:").concat(e.limitType)}function gy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Nm(e)})).join(", "),"]")),Uv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return rm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return rm(e)})).join(",")),"Target(".concat(t,")")}(dy(e)),"; limitType=").concat(e.limitType,")")}function ky(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):uv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Be(hy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Be(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=gm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hy(e),t))&&!(e.endAt&&!function(e,t,n){var r=gm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hy(e),t))}(e,t)}function by(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wy(e){return function(t,n){var r,i=!1,a=Be(hy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=xy(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function xy(e,t,n){var r=e.field.isKeyField()?uv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tm(r,i):Mp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mp()}}function _y(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jv(t)?"-0":t}}function Iy(e){return{integerValue:""+e}}function Ey(e,t){return Bv(t)?Iy(t):_y(e,t)}var Sy=Ue((function e(){Me(this,e),this._=void 0}));function Ty(e,t,n){return e instanceof Ny?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dy?Oy(e,t):e instanceof Ry?Py(e,t):function(e,t){var n=Ay(e,t),r=My(n)+My(e.gt);return om(n)&&om(e.gt)?Iy(r):_y(e.yt,r)}(e,t)}function Cy(e,t,n){return e instanceof Dy?Oy(e,t):e instanceof Ry?Py(e,t):n}function Ay(e,t){return e instanceof Ly?om(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ny=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n)}(Sy),Dy=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this)).elements=e,r}return Ue(n)}(Sy);function Oy(e,t){var n,r=Fy(t),i=Be(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Jv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ry=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this)).elements=e,r}return Ue(n)}(Sy);function Py(e,t){var n,r=Fy(t),i=Be(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Jv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ly=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return Ue(n)}(Sy);function My(e){return Kv(e.integerValue||e.doubleValue)}function Fy(e){return um(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Vy=Ue((function e(t,n){Me(this,e),this.field=t,this.transform=n}));var Uy=Ue((function e(t,n){Me(this,e),this.version=t,this.transformResults=n})),jy=function(){function e(t,n){Me(this,e),this.updateTime=t,this.exists=n}return Ue(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function By(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var zy=Ue((function e(){Me(this,e)}));function Zy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tg(e.key,jy.none()):new Hy(e.key,e.data,jy.none());var n,r=e.data,i=Hm.empty(),a=new qm(ov.comparator),o=Be(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Qy(e.key,i,new Gm(a.toArray()),jy.none())}function qy(e,t,n){e instanceof Hy?function(e,t,n){var r=e.value.clone(),i=Yy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qy?function(e,t,n){if(By(e.precondition,t)){var r=Yy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($y(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ky(e,t,n,r){return e instanceof Hy?function(e,t,n,r){if(!By(e.precondition,t))return n;var i=e.value.clone(),a=Xy(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qy?function(e,t,n,r){if(!By(e.precondition,t))return n;var i=Xy(e.fieldTransforms,r,t),a=t.data;return a.setAll($y(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return By(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wy(e,t){var n,r=null,i=Be(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ay(a.transform,o||null);null!=u&&(null===r&&(r=Hm.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Gy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dy&&t instanceof Dy||e instanceof Ry&&t instanceof Ry?Jp(e.elements,t.elements,Jv):e instanceof Ly&&t instanceof Ly?Jv(e.gt,t.gt):e instanceof Ny&&t instanceof Ny}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Hy=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Me(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ue(n,[{key:"getFieldMask",value:function(){return null}}]),n}(zy),Qy=function(e){ze(n,e);var t=We(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Me(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ue(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(zy);function $y(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yy(e,t,n){var r=new Map;Fp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Cy(o,u,n[i]))}return r}function Xy(e,t,n){var r,i=new Map,a=Be(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ty(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Jy,eg,tg=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ue(n,[{key:"getFieldMask",value:function(){return null}}]),n}(zy),ng=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ue(n,[{key:"getFieldMask",value:function(){return null}}]),n}(zy),rg=Ue((function e(t){Me(this,e),this.count=t}));function ig(e){switch(e){default:return Mp();case Up.CANCELLED:case Up.UNKNOWN:case Up.DEADLINE_EXCEEDED:case Up.RESOURCE_EXHAUSTED:case Up.INTERNAL:case Up.UNAVAILABLE:case Up.UNAUTHENTICATED:return!1;case Up.INVALID_ARGUMENT:case Up.NOT_FOUND:case Up.ALREADY_EXISTS:case Up.PERMISSION_DENIED:case Up.FAILED_PRECONDITION:case Up.ABORTED:case Up.OUT_OF_RANGE:case Up.UNIMPLEMENTED:case Up.DATA_LOSS:return!0}}function ag(e){if(void 0===e)return Rp("GRPC error has no .code"),Up.UNKNOWN;switch(e){case Jy.OK:return Up.OK;case Jy.CANCELLED:return Up.CANCELLED;case Jy.UNKNOWN:return Up.UNKNOWN;case Jy.DEADLINE_EXCEEDED:return Up.DEADLINE_EXCEEDED;case Jy.RESOURCE_EXHAUSTED:return Up.RESOURCE_EXHAUSTED;case Jy.INTERNAL:return Up.INTERNAL;case Jy.UNAVAILABLE:return Up.UNAVAILABLE;case Jy.UNAUTHENTICATED:return Up.UNAUTHENTICATED;case Jy.INVALID_ARGUMENT:return Up.INVALID_ARGUMENT;case Jy.NOT_FOUND:return Up.NOT_FOUND;case Jy.ALREADY_EXISTS:return Up.ALREADY_EXISTS;case Jy.PERMISSION_DENIED:return Up.PERMISSION_DENIED;case Jy.FAILED_PRECONDITION:return Up.FAILED_PRECONDITION;case Jy.ABORTED:return Up.ABORTED;case Jy.OUT_OF_RANGE:return Up.OUT_OF_RANGE;case Jy.UNIMPLEMENTED:return Up.UNIMPLEMENTED;case Jy.DATA_LOSS:return Up.DATA_LOSS;default:return Mp()}}(eg=Jy||(Jy={}))[eg.OK=0]="OK",eg[eg.CANCELLED=1]="CANCELLED",eg[eg.UNKNOWN=2]="UNKNOWN",eg[eg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eg[eg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eg[eg.NOT_FOUND=5]="NOT_FOUND",eg[eg.ALREADY_EXISTS=6]="ALREADY_EXISTS",eg[eg.PERMISSION_DENIED=7]="PERMISSION_DENIED",eg[eg.UNAUTHENTICATED=16]="UNAUTHENTICATED",eg[eg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eg[eg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eg[eg.ABORTED=10]="ABORTED",eg[eg.OUT_OF_RANGE=11]="OUT_OF_RANGE",eg[eg.UNIMPLEMENTED=12]="UNIMPLEMENTED",eg[eg.INTERNAL=13]="INTERNAL",eg[eg.UNAVAILABLE=14]="UNAVAILABLE",eg[eg.DATA_LOSS=15]="DATA_LOSS";var og=function(){function e(t,n){Me(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ue(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Be(n);try{for(i.s();!(r=i.n()).done;){var a=(0,I.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Fv(this.inner,(function(t,n){var r,i=Be(n);try{for(i.s();!(r=i.n()).done;){var a=(0,I.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Vv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ug=new Bm(uv.comparator);function sg(){return ug}var cg=new Bm(uv.comparator);function lg(){for(var e=cg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function fg(e){var t=cg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function hg(){return pg()}function dg(){return pg()}function pg(){return new og((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var vg=new Bm(uv.comparator),mg=new qm(uv.comparator);function yg(){for(var e=mg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var gg=new qm(Xp);function kg(){return gg}var bg=function(){function e(t,n,r,i,a){Me(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ue(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,wg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(nv.min(),i,kg(),sg(),yg())}}]),e}(),wg=function(){function e(t,n,r,i,a){Me(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ue(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,yg(),yg(),yg())}}]),e}(),xg=Ue((function e(t,n,r,i){Me(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),_g=Ue((function e(t,n){Me(this,e),this.targetId=t,this.Et=n})),Ig=Ue((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Me(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Eg=function(){function e(){Me(this,e),this.At=0,this.Rt=Cg(),this.bt=zv.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return Ue(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=yg(),t=yg(),n=yg();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mp()}})),new wg(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Cg()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Sg=function(){function e(t){Me(this,e),this.$t=t,this.Bt=new Map,this.Lt=sg(),this.qt=Tg(),this.Ut=new qm(Xp)}return Ue(e,[{key:"Kt",value:function(e){var t,n=Be(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Be(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Mp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(ty(i))if(0===n){var a=new uv(i.path);this.Qt(t,a,$m.newNoDocument(a,nv.min()))}else Fp(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&ty(a.target)){var o=new uv(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,$m.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=yg();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new bg(e,n,this.Ut,this.Lt,r);return this.Lt=sg(),this.qt=Tg(),this.Ut=new qm(Xp),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Eg,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new qm(Xp),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Op("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Eg),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Tg(){return new Bm(uv.comparator)}function Cg(){return new Bm(uv.comparator)}var Ag={asc:"ASCENDING",desc:"DESCENDING"},Ng={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dg={and:"AND",or:"OR"},Og=Ue((function e(t,n){Me(this,e),this.databaseId=t,this.wt=n}));function Rg(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pg(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Lg(e,t){return Rg(e,t.toTimestamp())}function Mg(e){return Fp(!!e),nv.fromTimestamp(function(e){var t=qv(e);return new tv(t.seconds,t.nanos)}(e))}function Fg(e,t){return function(e){return new iv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vg(e){var t=iv.fromString(e);return Fp(uk(t)),t}function Ug(e,t){return Fg(e.databaseId,t.path)}function jg(e,t){var n=Vg(t);if(n.get(1)!==e.databaseId.projectId)throw new jp(Up.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new jp(Up.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new uv(qg(n))}function Bg(e,t){return Fg(e.databaseId,t)}function zg(e){var t=Vg(e);return 4===t.length?iv.emptyPath():qg(t)}function Zg(e){return new iv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qg(e){return Fp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kg(e,t,n){return{name:Ug(e,t),fields:n.value.mapValue.fields}}function Wg(e,t,n){var r=jg(e,t.name),i=Mg(t.updateTime),a=t.createTime?Mg(t.createTime):nv.min(),o=new Hm({mapValue:{fields:t.fields}}),u=$m.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Gg(e,t){return"found"in t?function(e,t){Fp(!!t.found),t.found.name,t.found.updateTime;var n=jg(e,t.found.name),r=Mg(t.found.updateTime),i=t.found.createTime?Mg(t.found.createTime):nv.min(),a=new Hm({mapValue:{fields:t.found.fields}});return $m.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Fp(!!t.missing),Fp(!!t.readTime);var n=jg(e,t.missing),r=Mg(t.readTime);return $m.newNoDocument(n,r)}(e,t):Mp()}function Hg(e,t){var n;if(t instanceof Hy)n={update:Kg(e,t.key,t.value)};else if(t instanceof tg)n={delete:Ug(e,t.key)};else if(t instanceof Qy)n={update:Kg(e,t.key,t.data),updateMask:ok(t.fieldMask)};else{if(!(t instanceof ng))return Mp();n={verify:Ug(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ny)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ry)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ly)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Mp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mp()}(e,t.precondition)),n}function Qg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?jy.updateTime(Mg(e.updateTime)):void 0!==e.exists?jy.exists(e.exists):jy.none()}(t.currentDocument):jy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Fp("REQUEST_TIME"===t.setToServerValue),n=new Ny;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Dy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ry(i)}else"increment"in t?n=new Ly(e,t.increment):Mp();var a=ov.fromServerFormat(t.fieldPath);return new Vy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=jg(e,t.update.name),a=new Hm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Gm(t.map((function(e){return ov.fromServerFormat(e)})))}(t.updateMask);return new Qy(i,a,o,n,r)}return new Hy(i,a,n,r)}if(t.delete){var u=jg(e,t.delete);return new tg(u,n)}if(t.verify){var s=jg(e,t.verify);return new ng(s,n)}return Mp()}function $g(e,t){return{documents:[Bg(e,t.path)]}}function Yg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ak(xm.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rk(e.field),direction:ek(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Uv(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Xg(e){var t=zg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Jg(e);return t instanceof xm&&Em(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Um(ik(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Uv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ym(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ym(n,t)}(n.endAt)),oy(t,i,u,o,s,"F",c,l)}function Jg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ik(e.unaryFilter.field);return wm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ik(e.unaryFilter.field);return wm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ik(e.unaryFilter.field);return wm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ik(e.unaryFilter.field);return wm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mp()}}(e):void 0!==e.fieldFilter?function(e){return wm.create(ik(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xm.create(e.compositeFilter.filters.map((function(e){return Jg(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mp()}}(e.compositeFilter.op))}(e):Mp()}function ek(e){return Ag[e]}function tk(e){return Ng[e]}function nk(e){return Dg[e]}function rk(e){return{fieldPath:e.canonicalString()}}function ik(e){return ov.fromServerFormat(e.fieldPath)}function ak(e){return e instanceof wm?function(e){if("=="===e.op){if(cm(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NAN"}};if(sm(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cm(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NOT_NAN"}};if(sm(e.value))return{unaryFilter:{field:rk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rk(e.field),op:tk(e.op),value:e.value}}}(e):e instanceof xm?function(e){var t=e.getFilters().map((function(e){return ak(e)}));return 1===t.length?t[0]:{compositeFilter:{op:nk(e.op),filters:t}}}(e):Mp()}function ok(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function uk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function sk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lk(t)),t=ck(e.get(n),t);return lk(t)}function ck(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lk(e){return e+"\x01\x01"}function fk(e){var t=e.length;if(Fp(t>=2),2===t)return Fp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),iv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Mp(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Mp()}a=o+2}return new iv(r)}var hk=["userId","batchId"];function dk(e,t){return[e,sk(t)]}function pk(e,t,n){return[e,sk(t),n]}var vk={},mk=["prefixPath","collectionGroup","readTime","documentId"],yk=["prefixPath","collectionGroup","documentId"],gk=["collectionGroup","readTime","prefixPath","documentId"],kk=["canonicalId","targetId"],bk=["targetId","path"],wk=["path","targetId"],xk=["collectionId","parent"],_k=["indexId","uid"],Ik=["uid","sequenceNumber"],Ek=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sk=["indexId","uid","orderedDocumentKey"],Tk=["userId","collectionPath","documentId"],Ck=["userId","collectionPath","largestBatchId"],Ak=["userId","collectionGroup","largestBatchId"],Nk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Dk=[].concat((0,C.Z)(Nk),["documentOverlays"]),Ok=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rk=Ok,Pk=[].concat(Rk,["indexConfiguration","indexState","indexEntries"]),Lk=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return Ue(n)}(gv);function Mk(e,t){var n=Vp(e);return _v.M(n.se,t)}var Fk=function(){function e(t,n,r,i){Me(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ue(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&qy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Be(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ky(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Be(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ky(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=dg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Zy(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(nv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),yg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jp(this.mutations,e.mutations,(function(e,t){return Gy(e,t)}))&&Jp(this.baseMutations,e.baseMutations,(function(e,t){return Gy(e,t)}))}}]),e}(),Vk=function(){function e(t,n,r,i){Me(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ue(e,null,[{key:"from",value:function(t,n,r){Fp(t.mutations.length===r.length);for(var i=vg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Uk=function(){function e(t,n){Me(this,e),this.largestBatchId=t,this.mutation=n}return Ue(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),jk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zv.EMPTY_BYTE_STRING;Me(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ue(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Bk=Ue((function e(t){Me(this,e),this.ie=t}));function zk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Zk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ug(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Rg(e,t.version.toTimestamp()),createTime:Rg(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:qk(t.version)};else{if(!t.isUnknownDocument())return Mp();r.unknownDocument={path:n.path.toArray(),version:qk(t.version)}}return r}function Zk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Kk(e){var t=new tv(e.seconds,e.nanoseconds);return nv.fromTimestamp(t)}function Wk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qg(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Qg(e.ie,t)})),u=tv.fromMillis(t.localWriteTimeMs);return new Fk(t.batchId,u,n,o)}function Gk(e){var t,n,r=Kk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Kk(e.lastLimboFreeSnapshotVersion):nv.min();return void 0!==e.query.documents?(Fp(1===(n=e.query).documents.length),t=dy(uy(zg(n.documents[0])))):t=function(e){return dy(Xg(e))}(e.query),new jk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,zv.fromBase64String(e.resumeToken))}function Hk(e,t){var n,r=qk(t.snapshotVersion),i=qk(t.lastLimboFreeSnapshotVersion);n=ty(t.target)?$g(e.ie,t.target):Yg(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Jm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Qk(e){var t=Xg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vy(t,t.limit,"L"):t}function $k(e,t){return new Uk(t.largestBatchId,Qg(e.ie,t.overlayMutation))}function Yk(e,t){var n=t.path.lastSegment();return[e,sk(t.path.popLast()),n]}function Xk(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:qk(r.readTime),documentKey:sk(r.documentKey.path),largestBatchId:r.largestBatchId}}var Jk=function(){function e(){Me(this,e)}return Ue(e,[{key:"getBundleMetadata",value:function(e,t){return eb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Kk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return eb(e).put({bundleId:(n=t).id,createTime:qk(Mg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return tb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Qk(t.bundledQuery),readTime:Kk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return tb(e).put(function(e){return{name:e.name,readTime:qk(Mg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function eb(e){return Mk(e,"bundles")}function tb(e){return Mk(e,"namedQueries")}var nb=function(){function e(t,n){Me(this,e),this.yt=t,this.userId=n}return Ue(e,[{key:"getOverlay",value:function(e,t){var n=this;return rb(e).get(Yk(this.userId,t)).next((function(e){return e?$k(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=hg();return wv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Uk(t,a);i.push(r.oe(e,o))})),wv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(sk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(rb(e).Y("collectionPathOverlayIndex",i))})),wv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=hg(),a=sk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rb(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Be(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$k(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=hg(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rb(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=$k(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return rb(e).put(function(e,t,n){var r=Yk(t,n.mutation.key),i=(0,I.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Hg(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function rb(e){return Mk(e,"documentOverlays")}var ib=function(){function e(){Me(this,e)}return Ue(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Kv(e.integerValue));else if("doubleValue"in e){var n=Kv(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),jv(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Wv(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?hm(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Mp()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Be(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),uv.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function ab(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ob(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ab(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ib.Ie=new ib;var ub=function(){function e(){Me(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ue(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Be(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Be(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=ob(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=ob(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),sb=function(){function e(t){Me(this,e),this.$e=t}return Ue(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),cb=function(){function e(t){Me(this,e),this.$e=t}return Ue(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),lb=function(){function e(){Me(this,e),this.$e=new ub,this.Be=new sb(this.$e),this.Le=new cb(this.$e)}return Ue(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),fb=function(){function e(t,n,r,i){Me(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ue(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function hb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=db(e.arrayValue,t.arrayValue))?n:0!==(n=db(e.directionalValue,t.directionalValue))?n:uv.comparator(e.documentKey,t.documentKey)}function db(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var pb=function(){function e(t){Me(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Be(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ue(e,[{key:"je",value:function(e){Fp(e.collectionGroup===this.collectionId);var t=cv(e);if(void 0!==t&&!this.We(t))return!1;for(var n=lv(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Be(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function vb(e){var t,n;if(Fp(e instanceof wm||e instanceof xm),e instanceof wm){if(e instanceof Mm){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return wm.create(e.field,"==",t)})))||[];return xm.create(r,"or")}return e}var i=e.filters.map((function(e){return vb(e)}));return xm.create(i,e.op)}function mb(e){if(0===e.getFilters().length)return[];var t=bb(vb(e));return Fp(kb(t)),yb(t)||gb(t)?[t]:t.getFilters()}function yb(e){return e instanceof wm}function gb(e){return e instanceof xm&&Em(e)}function kb(e){return yb(e)||gb(e)||function(e){if(e instanceof xm&&Im(e)){var t,n=Be(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!yb(r)&&!gb(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function bb(e){if(Fp(e instanceof wm||e instanceof xm),e instanceof wm)return e;if(1===e.filters.length)return bb(e.filters[0]);var t=e.filters.map((function(e){return bb(e)})),n=xm.create(t,e.op);return kb(n=_b(n))?n:(Fp(n instanceof xm),Fp(_m(n)),Fp(n.filters.length>1),n.filters.reduce((function(e,t){return wb(e,t)})))}function wb(e,t){var n;return Fp(e instanceof wm||e instanceof xm),Fp(t instanceof wm||t instanceof xm),n=e instanceof wm?t instanceof wm?function(e,t){return xm.create([e,t],"and")}(e,t):xb(e,t):t instanceof wm?xb(t,e):function(e,t){if(Fp(e.filters.length>0&&t.filters.length>0),_m(e)&&_m(t))return Am(e,t.getFilters());var n=Im(e)?e:t,r=Im(e)?t:e,i=n.filters.map((function(e){return wb(e,r)}));return xm.create(i,"or")}(e,t),_b(n)}function xb(e,t){if(_m(t))return Am(t,e.getFilters());var n=t.filters.map((function(t){return wb(e,t)}));return xm.create(n,"or")}function _b(e){if(Fp(e instanceof wm||e instanceof xm),e instanceof wm)return e;var t=e.getFilters();if(1===t.length)return _b(t[0]);if(Sm(e))return e;var n=t.map((function(e){return _b(e)})),r=[];return n.forEach((function(t){t instanceof wm?r.push(t):t instanceof xm&&(t.op===e.op?r.push.apply(r,(0,C.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:xm.create(r,e.op)}var Ib=function(){function e(){Me(this,e),this.Je=new Eb}return Ue(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),wv.resolve()}},{key:"getCollectionParents",value:function(e,t){return wv.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return wv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return wv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return wv.resolve(null)}},{key:"getIndexType",value:function(e,t){return wv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return wv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return wv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return wv.resolve(vv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return wv.resolve(vv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return wv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return wv.resolve()}}]),e}(),Eb=function(){function e(){Me(this,e),this.index={}}return Ue(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qm(iv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new qm(iv.comparator)).toArray()}}]),e}(),Sb=new Uint8Array(0),Tb=function(){function e(t,n){Me(this,e),this.user=t,this.databaseId=n,this.Ye=new Eb,this.Xe=new og((function(e){return Jm(e)}),(function(e,t){return ey(e,t)})),this.uid=t.uid||""}return Ue(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:sk(i)};return Cb(e).put(a)}return wv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ev(t),""],!1,!0);return Cb(e).W(r).next((function(e){var r,i=Be(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Nb(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Db(e);return a.next((function(e){o.put(Xk(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Nb(e),r=Db(e),i=Ab(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ab(e),i=!0,a=new Map;return wv.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=yg(),o=[];return wv.forEach(a,(function(i,a){var u;Op("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Jm(t)));var s=function(e,t){var n=cv(t);if(void 0===n)return null;var r,i=Be(ny(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Be(lv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Be(ny(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Be(lv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ry(e,o.fieldPath,e.startAt):iy(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ym(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Be(lv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?iy(e,o.fieldPath,e.endAt):ry(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ym(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return wv.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=uv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return wv.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:mb(xm.create(e.filters,"and")).map((function(t){return Xm(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):Sb,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),p=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,(0,C.Z)(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new fb(e,uv.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new fb(e,uv.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new pb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Be(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return wv.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new qm(ov.comparator),r=!1,i=Be(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Be(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Be(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new lb,i=Be(lv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);ib.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new lb;return ib.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new lb;return ib.Ie.ue(am(this.databaseId,t),n.qe(function(e){var t=lv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new lb);var i,a=0,o=Be(lv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Be(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&um(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);ib.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=(0,C.Z)(e),a=[],o=Be(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Be(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new lb;f.seed(l.Fe()),ib.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof wm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Nb(e),i=Db(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return wv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new hv(t.sequenceNumber,new vv(Kk(t.readTime),new uv(fk(t.documentKey)),t.largestBatchId)):hv.empty(),r=e.fields.map((function(e){var t=(0,I.Z)(e,2),n=t[0],r=t[1];return new fv(ov.fromServerFormat(n),r)}));return new sv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Xp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Nb(e),a=Db(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return wv.forEach(t,(function(t){return a.put(Xk(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return wv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?wv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),wv.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?wv.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return Ab(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return Ab(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=Ab(e),i=new qm(hb);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new fb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new qm(hb),r=this.cn(t,e);if(null==r)return n;var i=cv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(um(a)){var o,u=Be(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new fb(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new fb(t.indexId,e.key,Sb,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Op("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Wm(a),s=Wm(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Wm(o)):l?(i(u),u=Wm(a)):(u=Wm(a),s=Wm(o))}}(r,i,hb,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),wv.waitFor(o)}},{key:"dn",value:function(e){var t=1;return Db(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hb(e,t)})).filter((function(e,t,n){return!t||0!==hb(e,n[t-1])}));var r=[];r.push(e);var i,a=Be(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=hb(o,e),s=hb(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Sb,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Sb,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return hb(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ob)}},{key:"getMinOffset",value:function(e,t){var n=this;return wv.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Mp()}))})).next(Ob)}}]),e}();function Cb(e){return Mk(e,"collectionParents")}function Ab(e){return Mk(e,"indexEntries")}function Nb(e){return Mk(e,"indexConfiguration")}function Db(e){return Mk(e,"indexState")}function Ob(e){Fp(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;mv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new vv(t.readTime,t.documentKey,n)}var Rb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pb=function(){function e(t,n,r){Me(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ue(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Lb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Fp(1===u)})));var c,l=[],f=Be(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=pk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return wv.waitFor(a).next((function(){return l}))}function Mb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mp();t=e.noDocument}return JSON.stringify(t).length}Pb.DEFAULT_COLLECTION_PERCENTILE=10,Pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pb.DEFAULT=new Pb(41943040,Pb.DEFAULT_COLLECTION_PERCENTILE,Pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pb.DISABLED=new Pb(-1,0,0);var Fb=function(){function e(t,n,r,i){Me(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Ue(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ub(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=jb(e),o=Ub(e);return o.add({}).next((function(u){Fp("number"==typeof u);var s,c=new Fk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Hg(e.ie,t)})),i=n.mutations.map((function(t){return Hg(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new qm((function(e,t){return Xp(e.canonicalString(),t.canonicalString())})),d=Be(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=pk(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,vk))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),wv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ub(e).get(t).next((function(e){return e?(Fp(e.userId===n.userId),Wk(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?wv.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ub(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Fp(t.batchId>=r),a=Wk(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ub(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ub(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Wk(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=dk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return jb(e).Z({range:i},(function(r,i,o){var u=(0,I.Z)(r,3),s=u[0],c=u[1],l=u[2],f=fk(c);if(s===n.userId&&t.path.isEqual(f))return Ub(e).get(l).next((function(e){if(!e)throw Mp();Fp(e.userId===n.userId),a.push(Wk(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qm(Xp),i=[];return t.forEach((function(t){var a=dk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=jb(e).Z({range:o},(function(e,i,a){var o=(0,I.Z)(e,3),u=o[0],s=o[1],c=o[2],l=fk(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),wv.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=dk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new qm(Xp);return jb(e).Z({range:o},(function(e,t,a){var o=(0,I.Z)(e,3),s=o[0],c=o[1],l=o[2],f=fk(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ub(e).get(t).next((function(e){if(null===e)throw Mp();Fp(e.userId===n.userId),r.push(Wk(n.yt,e))})))})),wv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Lb(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),wv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return wv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return jb(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fk(e[1]);i.push(a)}else r.done()})).next((function(){Fp(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Vb(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Bb(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Fp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Vb(e,t,n){var r=dk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return jb(e).Z({range:a,X:!0},(function(e,n,r){var a=(0,I.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Ub(e){return Mk(e,"mutations")}function jb(e){return Mk(e,"documentMutations")}function Bb(e){return Mk(e,"mutationQueues")}var zb=function(){function e(t){Me(this,e),this.bn=t}return Ue(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Zb=function(){function e(t,n){Me(this,e),this.referenceDelegate=t,this.yt=n}return Ue(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new zb(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return nv.fromTimestamp(new tv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return qb(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Fp(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return qb(e).Z((function(o,u){var s=Gk(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return wv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return qb(e).Z((function(e,n){var r=Gk(n);t(r)}))}},{key:"Vn",value:function(e){return Kb(e).get("targetGlobalKey").next((function(e){return Fp(null!==e),e}))}},{key:"Sn",value:function(e,t){return Kb(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return qb(e).put(Hk(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Jm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qb(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Gk(n);ey(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Wb(e);return t.forEach((function(t){var o=sk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),wv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Wb(e);return wv.forEach(t,(function(t){var a=sk(t.path);return wv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Wb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wb(e),i=yg();return r.Z({range:n,X:!0},(function(e,t,n){var r=fk(e[1]),a=new uv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=sk(t.path),r=IDBKeyRange.bound([n],[ev(n)],!1,!0),i=0;return Wb(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,I.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return qb(e).get(t).next((function(e){return e?Gk(e):null}))}}]),e}();function qb(e){return Mk(e,"targets")}function Kb(e){return Mk(e,"targetGlobal")}function Wb(e){return Mk(e,"targetDocuments")}function Gb(e,t){var n=(0,I.Z)(e,2),r=n[0],i=n[1],a=(0,I.Z)(t,2),o=a[0],u=a[1],s=Xp(r,o);return 0===s?Xp(i,u):s}var Hb=function(){function e(t){Me(this,e),this.xn=t,this.buffer=new qm(Gb),this.Nn=0}return Ue(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Gb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Qb=function(){function e(t,n,r){Me(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Ue(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Op("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Sv(e.t0)){e.next=12;break}Op("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,kv(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),$b=function(){function e(t,n){Me(this,e),this.$n=t,this.params=n}return Ue(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return wv.resolve(Rv.at);var r=new Hb(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Op("LruGarbageCollector","Garbage collection skipped; disabled"),wv.resolve(Rb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Op("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Rb):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Op("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Dp()<=Dt.DEBUG&&Op("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),wv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Yb=function(){function e(t,n){Me(this,e),this.db=t,this.garbageCollector=function(e,t){return new $b(e,t)}(this,n)}return Ue(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Xb(e,n)}},{key:"removeReference",value:function(e,t,n){return Xb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Xb(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Bb(e).tt((function(r){return Vb(e,r,t).next((function(e){return e&&(n=!0),wv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,nv.min()),Wb(e).delete([0,sk(o.path)])}))}));i.push(s)}})).next((function(){return wv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Xb(e,t)}},{key:"Kn",value:function(e,t){var n,r=Wb(e),i=Rv.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,I.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Rv.at&&t(new uv(fk(n)),i),i=s,n=u):i=Rv.at})).next((function(){i!==Rv.at&&t(new uv(fk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Xb(e,t){return Wb(e).put(function(e,t){return{targetId:0,path:sk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Jb=function(){function e(){Me(this,e),this.changes=new og((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ue(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,$m.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?wv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ew=function(){function e(t){Me(this,e),this.yt=t}return Ue(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return iw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return iw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Zk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=$m.newInvalidDocument(t);return iw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aw(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:$m.newInvalidDocument(t)};return iw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aw(t))},(function(e,i){r={document:n.jn(t,i),size:Mb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=sg();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=sg(),i=new Bm(uv.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Mb(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return wv.resolve();var r=new qm(uw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(aw(r.first()),aw(r.last())),a=r.getIterator(),o=a.getNext();return iw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=uv.fromSegments([].concat((0,C.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&uw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(aw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Zk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return iw(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=sg(),o=Be(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.jn(uv.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(ky(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=sg(),o=ow(t,n),u=ow(t,vv.max());return iw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(uv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new nw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return rw(e).get("remoteDocumentGlobalKey").next((function(e){return Fp(!!e),e}))}},{key:"Qn",value:function(e,t){return rw(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Wg(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=uv.fromSegments(t.noDocument.path),i=Kk(t.noDocument.readTime);n=$m.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mp();var a=uv.fromSegments(t.unknownDocument.path),o=Kk(t.unknownDocument.version);n=$m.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new tv(e[0],e[1]);return nv.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(nv.min()))return n}return $m.newInvalidDocument(e)}}]),e}();function tw(e){return new ew(e)}var nw=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new og((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ue(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new qm((function(e,t){return Xp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=zk(t.Yn.yt,o);i=i.add(a.path.popLast());var c=Mb(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=zk(t.Yn.yt,o.convertToNoDocument(nv.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),wv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Jb);function rw(e){return Mk(e,"remoteDocumentGlobal")}function iw(e){return Mk(e,"remoteDocumentsV14")}function aw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ow(e,t){var n=t.documentKey.path.toArray();return[e,Zk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function uw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Xp(n[a],r[a]))return i;return(i=Xp(n.length,r.length))||((i=Xp(n[n.length-2],r[r.length-2]))||Xp(n[n.length-1],r[r.length-1]))}var sw=Ue((function e(t,n){Me(this,e),this.overlayedDocument=t,this.mutatedFields=n})),cw=function(){function e(t,n,r,i){Me(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ue(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ky(r.mutation,e,Gm.empty(),tv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,yg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yg(),i=hg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=lg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=hg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,yg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=sg(),a=pg(),o=pg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Qy)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ky(o.mutation,t,o.mutation.getFieldMask(),tv.now())):a.set(t.key,Gm.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new sw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=pg(),i=new Bm((function(e,t){return e-t})),a=yg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Be(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Gm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||yg()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=dg();c.forEach((function(e){if(!a.has(e)){var n=Zy(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return wv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return uv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):wv.resolve(hg()),u=-1,s=a;return o.next((function(t){return wv.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?wv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,yg())})).next((function(e){return{batchId:u,changes:fg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new uv(t)).next((function(e){var t=lg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=lg();return this.indexManager.getCollectionParents(e,i).next((function(o){return wv.forEach(o,(function(o){var u=function(e,t){return new ay(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,$m.newInvalidDocument(r)))}));var n=lg();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Ky(a.mutation,i,Gm.empty(),tv.now()),ky(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),lw=function(){function e(t){Me(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return Ue(e,[{key:"getBundleMetadata",value:function(e,t){return wv.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Mg(n.createTime)}),wv.resolve()}},{key:"getNamedQuery",value:function(e,t){return wv.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Qk(e.bundledQuery),readTime:Mg(e.readTime)}}(t)),wv.resolve()}}]),e}(),fw=function(){function e(){Me(this,e),this.overlays=new Bm(uv.comparator),this.es=new Map}return Ue(e,[{key:"getOverlay",value:function(e,t){return wv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=hg();return wv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),wv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),wv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=hg(),i=t.length+1,a=new uv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return wv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=hg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=hg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return wv.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Uk(t,n));var a=this.es.get(t);void 0===a&&(a=yg(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),hw=function(){function e(){Me(this,e),this.ns=new qm(dw.ss),this.rs=new qm(dw.os)}return Ue(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new dw(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new dw(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new uv(new iv([])),r=new dw(n,e),i=new dw(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new uv(new iv([])),n=new dw(t,e),r=new dw(t,e+1),i=yg();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new dw(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),dw=function(){function e(t,n){Me(this,e),this.key=t,this._s=n}return Ue(e,null,[{key:"ss",value:function(e,t){return uv.comparator(e.key,t.key)||Xp(e._s,t._s)}},{key:"os",value:function(e,t){return Xp(e._s,t._s)||uv.comparator(e.key,t.key)}}]),e}(),pw=function(){function e(t,n){Me(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new qm(dw.ss)}return Ue(e,[{key:"checkEmpty",value:function(e){return wv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Fk(i,t,n,r);this.mutationQueue.push(a);var o,u=Be(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new dw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return wv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return wv.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return wv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return wv.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return wv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new dw(t,0),i=new dw(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),wv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qm(Xp);return t.forEach((function(e){var t=new dw(e,0),i=new dw(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),wv.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;uv.isDocumentKey(i)||(i=i.child(""));var a=new dw(new uv(i),0),o=new qm(Xp);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),wv.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Fp(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return wv.forEach(t.mutations,(function(i){var a=new dw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new dw(t,0),r=this.gs.firstAfterOrEqual(n);return wv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,wv.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),vw=function(){function e(t){Me(this,e),this.Es=t,this.docs=new Bm(uv.comparator),this.size=0}return Ue(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return wv.resolve(n?n.document.mutableCopy():$m.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=sg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():$m.newInvalidDocument(e))})),wv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=sg(),a=t.path,o=new uv(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||mv(pv(l),n)<=0||(r.has(l.key)||ky(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return wv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Mp()}},{key:"As",value:function(e,t){return wv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new mw(this)}},{key:"getSize",value:function(e){return wv.resolve(this.size)}}]),e}(),mw=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this)).Yn=e,r}return Ue(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),wv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Jb),yw=function(){function e(t){Me(this,e),this.persistence=t,this.Rs=new og((function(e){return Jm(e)}),ey),this.lastRemoteSnapshotVersion=nv.min(),this.highestTargetId=0,this.bs=0,this.Ps=new hw,this.targetCount=0,this.vs=zb.Pn()}return Ue(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),wv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return wv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return wv.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),wv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),wv.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new zb(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,wv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),wv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,wv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),wv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return wv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return wv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),wv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),wv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),wv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return wv.resolve(n)}},{key:"containsKey",value:function(e,t){return wv.resolve(this.Ps.containsKey(t))}}]),e}(),gw=function(){function e(t,n){var r=this;Me(this,e),this.Vs={},this.overlays={},this.Ss=new Rv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new yw(this),this.indexManager=new Ib,this.remoteDocumentCache=new vw((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Bk(n),this.Ns=new lw(this.yt)}return Ue(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new pw(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Op("MemoryPersistence","Starting transaction:",e);var i=new kw(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return wv.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),kw=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ue(n)}(gv),bw=function(){function e(t){Me(this,e),this.persistence=t,this.Fs=new hw,this.$s=null}return Ue(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Mp()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),wv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),wv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),wv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wv.forEach(this.Ls,(function(r){var i=uv.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,nv.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return wv.or([function(){return wv.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),ww=function(){function e(t){Me(this,e),this.yt=t}return Ue(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new xv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hk,{unique:!0}),e.createObjectStore("documentMutations")}(e),xw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=wv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),xw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return wv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Tk});t.createIndex("collectionPathOverlayIndex",Ck,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ak,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:mk});t.createIndex("documentKeyIndex",yk),t.createIndex("collectionGroupIndex",gk)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:_k}).createIndex("sequenceNumberIndex",Ik,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ek}).createIndex("documentKeyIndex",Sk,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Mb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return wv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return wv.forEach(r,(function(r){Fp(r.userId===n.userId);var i=Wk(t.yt,r);return Lb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new iv(n),o=function(e){return[0,sk(e)]}(a);r.push(t.get(o).next((function(n){return n?wv.resolve():function(n){return t.put({targetId:0,path:sk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return wv.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:xk});var n=t.store("collectionParents"),r=new Eb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:sk(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new iv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,I.Z)(e,3),r=(n[0],n[1]),a=(n[2],fk(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Gk(r),a=Hk(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new uv(iv.fromString(i.document.name).popFirst(5)):i.noDocument?uv.fromSegments(i.noDocument.path):i.unknownDocument?uv.fromSegments(i.unknownDocument.path):Mp()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return wv.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=tw(this.yt),a=new gw(bw.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:yg();Wk(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),wv.forEach(r,(function(e,r){var o=new Cp(r),u=nb.re(n.yt,o),s=a.getIndexManager(o),c=Fb.re(o,n.yt,s,a.referenceDelegate);return new cw(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Lk(t,Rv.at),e).next()}))}))}}]),e}();function xw(e){e.createObjectStore("targetDocuments",{keyPath:bk}).createIndex("documentTargetsIndex",wk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kk,{unique:!0}),e.createObjectStore("targetGlobal")}var _w="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iw=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Me(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new jp(Up.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yb(this,i),this.ii=n+"main",this.yt=new Bk(s),this.ri=new _v(this.ii,this.Xs,new ww(this.yt)),this.Cs=new Zb(this.referenceDelegate,this.yt),this.remoteDocumentCache=tw(this.yt),this.Ns=new Jk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Rp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ue(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new jp(Up.FAILED_PRECONDITION,_w);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Rv(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=St(It().mark((function n(r){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=St(It().mark((function t(n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Sw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Sv(t))return Op("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Op("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Ew(e).get("owner").next((function(e){return wv.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Sw(e).delete(this.clientId)}},{key:"yi",value:function(){var e=St(It().mark((function e(){var t,n,r,i,a=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Mk(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return wv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Be(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?wv.resolve(!0):Ew(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new jp(Up.FAILED_PRECONDITION,_w);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sw(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Op("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=St(It().mark((function e(){var t=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lk(e,Rv.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Sw(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Fb.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Tb(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return nb.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Op("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Pk:14===i?Rk:13===i?Ok:12===i?Dk:11===i?Nk:void Mp();return this.ri.runTransaction(e,o,u,(function(i){return a=new Lk(i,r.Ss?r.Ss.next():Rv.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Rp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new jp(Up.FAILED_PRECONDITION,yv);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Ew(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new jp(Up.FAILED_PRECONDITION,_w)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ew(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Ew(e);return n.get("owner").next((function(e){return t.mi(e)?(Op("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):wv.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Rp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!at()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Op("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Rp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Ml){Rp("Failed to set zombie client id.",Ml)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Ml){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return _v.C()}}]),e}();function Ew(e){return Mk(e,"owner")}function Sw(e){return Mk(e,"clientMetadata")}function Tw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Cw=function(){function e(t,n,r,i){Me(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Ue(e,null,[{key:"Ci",value:function(t,n){var r,i=yg(),a=yg(),o=Be(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Aw=function(){function e(){Me(this,e),this.xi=!1}return Ue(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(sy(t))return wv.resolve(null);var r=dy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=vy(t,null,"F"),r=dy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=yg.apply(void 0,(0,C.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,vy(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return sy(t)||r.isEqual(nv.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Dp()<=Dt.DEBUG&&Op("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gy(t)),i.Bi(e,o,t,dv(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new qm(wy(e));return t.forEach((function(t,r){ky(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Dp()<=Dt.DEBUG&&Op("QueryEngine","Using full collection scan to execute query:",gy(t)),this.Ni.getDocumentsMatchingQuery(e,t,vv.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Nw=function(){function e(t,n,r,i){Me(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Bm(Xp),this.Ui=new og((function(e){return Jm(e)}),ey),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Ue(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cw(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function Dw(e,t,n,r){return new Nw(e,t,n,r)}function Ow(e,t){return Rw.apply(this,arguments)}function Rw(){return Rw=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=yg(),s=Be(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Be(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Be(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Be(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Pw(e,t){var n=Vp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=wv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Fp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=yg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Lw(e){var t=Vp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Mw(e,t){var n=Vp(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(zv.EMPTY_BYTE_STRING,nv.min()).withLastLimboFreeSnapshotVersion(nv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=sg(),s=yg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Fw(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(nv.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return wv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function Fw(e,t,n){var r=yg(),i=yg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=sg();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(nv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Op("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Vw(e,t){var n=Vp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Uw(e,t){var n=Vp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,wv.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new jk(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function jw(e,t,n){return Bw.apply(this,arguments)}function Bw(){return Bw=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vp(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Sv(e.t1)){e.next=12;break}throw e.t1;case 12:Op("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Bw.apply(this,arguments)}function zw(e,t,n){var r=Vp(e),i=nv.min(),a=yg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Vp(e),i=r.Ui.get(n);return void 0!==i?wv.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,dy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:nv.min(),n?a:yg())})).next((function(e){return Kw(r,by(t),e),{documents:e,Hi:a}}))}))}function Zw(e,t){var n=Vp(e),r=Vp(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function qw(e,t){var n=Vp(e),r=n.Ki.get(t)||nv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,dv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Kw(n,t,e),e}))}function Kw(e,t,n){var r=e.Ki.get(t)||nv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Ww(e,t,n,r){return Gw.apply(this,arguments)}function Gw(){return Gw=St(It().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Vp(t),o=yg(),u=sg(),s=Be(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Uw(a,function(e){return dy(uy(iv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Fw(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Gw.apply(this,arguments)}function Hw(e,t){return Qw.apply(this,arguments)}function Qw(){return Qw=St(It().mark((function e(t,n){var r,i,a,o=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:yg(),e.next=3,Uw(t,dy(Qk(n.bundledQuery)));case 3:return i=e.sent,a=Vp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Mg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(zv.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function $w(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Yw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Xw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Jw=function(){function e(t,n,r,i){Me(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ue(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new jp(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Rp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ex=function(){function e(t,n,r){Me(this,e),this.targetId=t,this.state=n,this.error=r}return Ue(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new jp(i.error.code,i.error.message))),a?new e(t,i.state,r):(Rp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),tx=function(){function e(t,n){Me(this,e),this.clientId=t,this.activeTargetIds=n}return Ue(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=kg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Bv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Rp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),nx=function(){function e(t,n){Me(this,e),this.clientId=t,this.onlineState=n}return Ue(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Rp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),rx=function(){function e(){Me(this,e),this.activeTargetIds=kg()}return Ue(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ix=function(){function e(t,n,r,i,a){Me(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Bm(Xp),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=$w(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new rx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Ue(e,[{key:"start",value:function(){var e=St(It().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Be(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem($w(this.persistenceKey,i)))&&(o=tx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Be(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Xw(this.persistenceKey,e));if(n){var r=ex.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Xw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Op("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Op("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Op("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Op("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Rp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(St(It().mark((function e(){var r,i,a,o,u,s,c;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Rv.at;if(null!=e)try{var n=JSON.parse(e);Fp("number"==typeof n),t=n}catch(e){Rp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Rv.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Jw(this.currentUser,e,t,n),i=Yw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Yw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Xw(this.persistenceKey,e),i=new ex(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return tx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Jw.Zi(new Cp(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return ex.Zi(r,t)}},{key:"yr",value:function(e){return nx.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Op("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=kg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ax=function(){function e(){Me(this,e),this.Lr=new rx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ue(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new rx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ox=function(){function e(){Me(this,e)}return Ue(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ux=function(){function e(){var t=this;Me(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Ue(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Op("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Be(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Op("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Be(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},cx=function(){function e(t){Me(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Ue(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),lx=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ue(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Sp;o.setWithCredentials(!0),o.listenOnce(wp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case bp.NO_ERROR:var t=o.getResponseJson();Op("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bp.TIMEOUT:Op("Connection",'RPC "'+e+'" timed out'),a(new jp(Up.DEADLINE_EXCEEDED,"Request time out"));break;case bp.HTTP_ERROR:var n=o.getStatus();if(Op("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Up).indexOf(t)>=0?t:Up.UNKNOWN}(u.status);a(new jp(s,u.message))}else a(new jp(Up.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new jp(Up.UNAVAILABLE,"Connection failed."));break;default:Mp()}}finally{Op("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=gp(),a=kp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ip({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Op("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new cx({Hr:function(e){l?Op("Connection","Not sending because WebChannel is closed:",e):(c||(Op("Connection","Opening WebChannel transport."),s.open(),c=!0),Op("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ep.EventType.OPEN,(function(){l||Op("Connection","WebChannel transport opened.")})),h(s,Ep.EventType.CLOSE,(function(){l||(l=!0,Op("Connection","WebChannel transport closed"),f.io())})),h(s,Ep.EventType.ERROR,(function(e){l||(l=!0,Pp("Connection","WebChannel transport errored:",e),f.io(new jp(Up.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ep.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Fp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Op("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Jy[e];if(void 0!==t)return ag(t)}(a),u=i.message;void 0===o&&(o=Up.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new jp(o,u)),s.close()}else Op("Connection","WebChannel received:",n),f.ro(n)}})),h(a,xp.STAT_EVENT,(function(e){e.stat===_p.PROXY?Op("Connection","Detected buffering proxy"):e.stat===_p.NOPROXY&&Op("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Me(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ue(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Op("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Op("RestConnection","Received: ",e),e}),(function(t){throw Pp("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ap,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=sx[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function fx(){return"undefined"!=typeof window?window:null}function hx(){return"undefined"!=typeof document?document:null}function dx(e){return new Og(e,!0)}var px=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Me(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Ue(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Op("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),vx=function(){function e(t,n,r,i,a,o,u,s){Me(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new px(t,n)}return Ue(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Up.RESOURCE_EXHAUSTED?(Rp(n.toString()),Rp("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Up.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,I.Z)(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new jp(Up.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Op("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Op("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),mx=function(e){ze(n,e);var t=We(n);function n(e,r,i,a,o,u){var s;return Me(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return Ue(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Fp(void 0===t||"string"==typeof t),zv.fromBase64String(t||"")):(Fp(void 0===t||t instanceof Uint8Array),zv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Up.UNKNOWN:ag(e.code);return new jp(t,e.message||"")}(o);n=new Ig(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=jg(e,s.document.name),l=Mg(s.document.updateTime),f=s.document.createTime?Mg(s.document.createTime):nv.min(),h=new Hm({mapValue:{fields:s.document.fields}}),d=$m.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new xg(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=jg(e,m.document),g=m.readTime?Mg(m.readTime):nv.min(),k=$m.newNoDocument(y,g),b=m.removedTargetIds||[];n=new xg([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=jg(e,w.document),_=w.removedTargetIds||[];n=new xg([],_,x,null)}else{if(!("filter"in t))return Mp();t.filter;var I=t.filter;I.targetId;var E=I.count||0,S=new rg(E),T=I.targetId;n=new _g(T,S)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return nv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?nv.min():t.readTime?Mg(t.readTime):nv.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Zg(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=ty(r)?{documents:$g(e,r)}:{query:Yg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pg(e,t.resumeToken):t.snapshotVersion.compareTo(nv.min())>0&&(n.readTime=Rg(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Zg(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(vx),yx=function(e){ze(n,e);var t=We(n);function n(e,r,i,a,o,u){var s;return Me(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return Ue(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,cr(Ze(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Fp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Fp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mg(e.updateTime):Mg(t);return n.isEqual(nv.min())&&(n=Mg(t)),new Uy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mg(e.commitTime);return this.listener.Zo(n,t)}return Fp(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Zg(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Hg(t.yt,e)}))};this.Bo(n)}}]),n}(vx),gx=function(e){ze(n,e);var t=We(n);function n(e,r,i,a){var o;return Me(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return Ue(n,[{key:"su",value:function(){if(this.nu)throw new jp(Up.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,I.Z)(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Up.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new jp(Up.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,I.Z)(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Up.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new jp(Up.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Ue((function e(){Me(this,e)}))}());var kx=function(){function e(t,n){Me(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Ue(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Rp(t),this.ou=!1):Op("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),bx=Ue((function e(t,n,r,i,a){var o=this;Me(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Dx(o),!e.t0){e.next=5;break}return Op("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vp(t))._u.add(4),e.next=4,_x(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,wx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new kx(r,i)}));function wx(e){return xx.apply(this,arguments)}function xx(){return xx=St(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dx(t)){e.next=18;break}n=Be(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),xx.apply(this,arguments)}function _x(e){return Ix.apply(this,arguments)}function Ix(){return Ix=St(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Be(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ix.apply(this,arguments)}function Ex(e,t){var n=Vp(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Nx(n)?Ax(n):o_(n).ko()&&Tx(n,t))}function Sx(e,t){var n=Vp(e),r=o_(n);n.du.delete(t),r.ko()&&Cx(n,t),0===n.du.size&&(r.ko()?r.Fo():Dx(n)&&n.gu.set("Unknown"))}function Tx(e,t){e.yu.Ot(t.targetId),o_(e).zo(t)}function Cx(e,t){e.yu.Ot(t),o_(e).Ho(t)}function Ax(e){e.yu=new Sg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),o_(e).start(),e.gu.uu()}function Nx(e){return Dx(e)&&!o_(e).No()&&e.du.size>0}function Dx(e){return 0===Vp(e)._u.size}function Ox(e){e.yu=void 0}function Rx(e){return Px.apply(this,arguments)}function Px(){return Px=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Tx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ox(t),Nx(t)?(t.gu.hu(n),Ax(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Fx(e,t,n){return Vx.apply(this,arguments)}function Vx(){return Vx=St(It().mark((function e(t,n,r){var i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Ig&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Be(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Op("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ux(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof xg?t.yu.Kt(n):n instanceof _g?t.yu.Jt(n):t.yu.jt(n),r.isEqual(nv.min())){e.next=29;break}return e.prev=14,e.next=17,Lw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(zv.EMPTY_BYTE_STRING,n.snapshotVersion)),Cx(e,t);var r=new jk(n.target,t,1,n.sequenceNumber);Tx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Op("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ux(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Vx.apply(this,arguments)}function Ux(e,t,n){return jx.apply(this,arguments)}function jx(){return jx=St(It().mark((function e(t,n,r){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sv(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,_x(t);case 5:t.gu.set("Offline"),r||(r=function(){return Lw(t.localStore)}),t.asyncQueue.enqueueRetryable(St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Op("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,wx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Bx(e,t){return t().catch((function(n){return Ux(e,n,t)}))}function zx(e){return Zx.apply(this,arguments)}function Zx(){return Zx=St(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vp(t),r=u_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!qx(n)){e.next=19;break}return e.prev=3,e.next=6,Vw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Kx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ux(n,e.t0);case 17:e.next=2;break;case 19:Wx(n)&&Gx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Zx.apply(this,arguments)}function qx(e){return Dx(e)&&e.fu.length<10}function Kx(e,t){e.fu.push(t);var n=u_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Wx(e){return Dx(e)&&!u_(e).No()&&e.fu.length>0}function Gx(e){u_(e).start()}function Hx(e){return Qx.apply(this,arguments)}function Qx(){return Qx=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u_(t).eu();case 1:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e){return Yx.apply(this,arguments)}function Yx(){return Yx=St(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u_(t),r=Be(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Xx(e,t,n){return Jx.apply(this,arguments)}function Jx(){return Jx=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Vk.from(i,n,r),e.next=3,Bx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zx(t);case 5:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function e_(e,t){return t_.apply(this,arguments)}function t_(){return t_=St(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&u_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ig(i=n.code)||i===Up.ABORTED){e.next=7;break}return r=t.fu.shift(),u_(t).Mo(),e.next=5,Bx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Wx(t)&&Gx(t);case 5:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Vp(t)).asyncQueue.verifyOperationInProgress(),Op("RemoteStore","RemoteStore received new credentials"),i=Dx(r),r._u.add(3),e.next=6,_x(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,wx(r);case 12:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vp(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,wx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,_x(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e){return e.pu||(e.pu=function(e,t,n){var r=Vp(e);return r.su(),new mx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Rx.bind(null,e),Zr:Lx.bind(null,e),Wo:Fx.bind(null,e)}),e.wu.push(function(){var t=St(It().mark((function t(n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Nx(e)?Ax(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Ox(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function u_(e){return e.Iu||(e.Iu=function(e,t,n){var r=Vp(e);return r.su(),new yx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Hx.bind(null,e),Zr:e_.bind(null,e),tu:$x.bind(null,e),Zo:Xx.bind(null,e)}),e.wu.push(function(){var t=St(It().mark((function t(n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,zx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Op("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var s_=function(){function e(t,n,r,i,a){Me(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ue(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jp(Up.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function c_(e,t){if(Rp("AsyncQueue","".concat(t,": ").concat(e)),Sv(e))return new jp(Up.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var l_=function(){function e(t){Me(this,e),this.comparator=t?function(e,n){return t(e,n)||uv.comparator(e.key,n.key)}:function(e,t){return uv.comparator(e.key,t.key)},this.keyedMap=lg(),this.sortedSet=new Bm(this.comparator)}return Ue(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),f_=function(){function e(){Me(this,e),this.Tu=new Bm(uv.comparator)}return Ue(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Mp():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),h_=function(){function e(t,n,r,i,a,o,u,s,c){Me(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Ue(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,l_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),d_=Ue((function e(){Me(this,e),this.Au=void 0,this.listeners=[]})),p_=Ue((function e(){Me(this,e),this.queries=new og((function(e){return yy(e)}),my),this.onlineState="Unknown",this.Ru=new Set}));function v_(e,t){return m_.apply(this,arguments)}function m_(){return m_=St(It().mark((function e(t,n){var r,i,a,o,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new d_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=c_(e.t0,"Initialization of query '".concat(gy(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&w_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),m_.apply(this,arguments)}function y_(e,t){return g_.apply(this,arguments)}function g_(){return g_=St(It().mark((function e(t,n){var r,i,a,o,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t){var n,r=Vp(e),i=!1,a=Be(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Be(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&w_(r)}function b_(e,t,n){var r=Vp(e),i=r.queries.get(t);if(i){var a,o=Be(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function w_(e){e.Ru.forEach((function(e){e.next()}))}var x_=function(){function e(t,n,r){Me(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Ue(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Be(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new h_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=h_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),__=function(){function e(t,n){Me(this,e),this.ku=t,this.byteLength=n}return Ue(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),I_=function(){function e(t){Me(this,e),this.yt=t}return Ue(e,[{key:"Ji",value:function(e){return jg(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Wg(this.yt,e.document,!1):$m.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Mg(e)}}]),e}(),E_=function(){function e(t,n,r){Me(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=S_(t)}return Ue(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=iv.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new I_(this.yt),i=Be(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Be(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||yg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=St(It().mark((function e(){var t,n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ww(this.localStore,new I_(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Be(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Hw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function S_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var T_=Ue((function e(t){Me(this,e),this.key=t})),C_=Ue((function e(t){Me(this,e),this.key=t})),A_=function(){function e(t,n){Me(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=yg(),this.mutatedKeys=yg(),this.Gu=wy(t),this.Qu=new l_(this.Gu)}return Ue(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new f_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ky(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mp()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new h_(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new f_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=yg(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new C_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new T_(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=yg();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return h_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),N_=Ue((function e(t,n,r){Me(this,e),this.query=t,this.targetId=n,this.view=r})),D_=Ue((function e(t){Me(this,e),this.key=t,this.nc=!1})),O_=function(){function e(t,n,r,i,a,o){Me(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new og((function(e){return yy(e)}),my),this.rc=new Map,this.oc=new Set,this.uc=new Bm(uv.comparator),this.cc=new Map,this.ac=new hw,this.hc={},this.lc=new Map,this.fc=zb.vn(),this.onlineState="Unknown",this.dc=void 0}return Ue(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function R_(e,t){return P_.apply(this,arguments)}function P_(){return P_=St(It().mark((function e(t,n){var r,i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=SI(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Uw(r.localStore,dy(n));case 8:return u=e.sent,r.isPrimaryClient&&Ex(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,L_(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function L_(e,t,n,r,i){return M_.apply(this,arguments)}function M_(){return M_=St(It().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=St(It().mark((function e(t,n,r,i){var a,o,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,zw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nI(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,zw(t.localStore,n,!0);case 3:return o=e.sent,u=new A_(n,o.Hi),s=u.Wu(o.documents),c=wg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),nI(t,r,l.Xu),f=new N_(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function F_(e,t){return V_.apply(this,arguments)}function V_(){return V_=St(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vp(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!my(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,jw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Sx(r.remoteStore,i.targetId),eI(r,i.targetId)})).catch(kv);case 9:e.next=14;break;case 11:return eI(r,i.targetId),e.next=14,jw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function U_(e,t,n){return j_.apply(this,arguments)}function j_(){return j_=St(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Vp(e),a=tv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),yg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=sg(),s=yg();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Be(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Wy(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Qy(c.key,l,Qm(l.value.mapValue),jy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:fg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Bm(Xp)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,aI(i,a.changes);case 9:return e.next=11,zx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=c_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),j_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return z_=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),e.prev=1,e.next=4,Mw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Fp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Fp(n.nc):e.removedDocuments.size>0&&(Fp(n.nc),n.nc=!1))})),e.next=8,aI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,kv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),z_.apply(this,arguments)}function Z_(e,t,n){var r=Vp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Vp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Be(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&w_(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function q_(e,t,n){return K_.apply(this,arguments)}function K_(){return K_=St(It().mark((function e(t,n,r){var i,a,o,u,s,c;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Vp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Bm(uv.comparator)).insert(o,$m.newNoDocument(o,nv.min())),s=yg().add(o),c=new bg(nv.min(),new Map,new qm(Xp),u,s),e.next=9,B_(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),iI(i),e.next=16;break;case 14:return e.next=16,jw(i.localStore,n,!1).then((function(){return eI(i,n,r)})).catch(kv);case 16:case"end":return e.stop()}}),e)}))),K_.apply(this,arguments)}function W_(e,t){return G_.apply(this,arguments)}function G_(){return G_=St(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),i=n.batch.batchId,e.prev=1,e.next=4,Pw(r.localStore,n);case 4:return a=e.sent,J_(r,i,null),X_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,kv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),G_.apply(this,arguments)}function H_(e,t,n){return Q_.apply(this,arguments)}function Q_(){return Q_=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vp(t),e.prev=1,e.next=4,function(e,t){var n=Vp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Fp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,J_(i,n,r),X_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,kv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Q_.apply(this,arguments)}function $_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=St(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dx((r=Vp(t)).remoteStore)||Op("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Vp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=c_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Y_.apply(this,arguments)}function X_(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function J_(e,t,n){var r=Vp(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function eI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Be(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||tI(e,t)}))}function tI(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Sx(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),iI(e))}function nI(e,t,n){var r,i=Be(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof T_?(e.ac.addReference(a.key,t),rI(e,a)):a instanceof C_?(Op("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||tI(e,a.key)):Mp()}}catch(o){i.e(o)}finally{i.f()}}function rI(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Op("SyncEngine","New document in limbo: "+n),e.oc.add(r),iI(e))}function iI(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new uv(iv.fromString(t)),r=e.fc.next();e.cc.set(r,new D_(n)),e.uc=e.uc.insert(n,r),Ex(e.remoteStore,new jk(dy(uy(n.path)),r,2,Rv.at))}}function aI(e,t,n){return oI.apply(this,arguments)}function oI(){return oI=St(It().mark((function e(t,n,r){var i,a,o,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vp(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Cw.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=St(It().mark((function e(t,n){var r,i,a,o,u,s,c,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return wv.forEach(n,(function(t){return wv.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return wv.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Sv(e.t0)){e.next=10;break}throw e.t0;case 10:Op("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Be(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function uI(e,t){return sI.apply(this,arguments)}function sI(){return sI=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Vp(t)).currentUser.isEqual(n)){e.next=11;break}return Op("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ow(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new jp(Up.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,aI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e,t){var n=Vp(e),r=n.cc.get(t);if(r&&r.nc)return yg().add(r.key);var i=yg(),a=n.rc.get(t);if(!a)return i;var o,u=Be(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=St(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),e.next=3,zw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&nI(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=St(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),e.abrupt("return",qw(r.localStore,n).then((function(e){return aI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t,n,r){return vI.apply(this,arguments)}function vI(){return vI=St(It().mark((function e(t,n,r,i){var a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vp(t),e.next=3,function(e,t){var n=Vp(e),r=Vp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):wv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(J_(a,n,i||null),X_(a,n),function(e,t){Vp(Vp(e).mutationQueue).An(t)}(a.localStore,n)):Mp();case 11:return e.next=13,aI(a,o);case 13:e.next=16;break;case 15:Op("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=St(It().mark((function e(t,n){var r,i,a,o,u,s,c,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(SI(r=Vp(t)),TI(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gI(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,i_(r.remoteStore,!0);case 9:o=Be(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Ex(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return eI(r,t),jw(r.localStore,t,!0)})),Sx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gI(r,c);case 21:return function(e){var t=Vp(e);t.cc.forEach((function(e,n){Sx(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Bm(uv.comparator)}(r),r.dc=!1,e.next=25,i_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t,n){return kI.apply(this,arguments)}function kI(){return kI=St(It().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Vp(t),a=[],o=[],u=Be(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Uw(i.localStore,dy(f[0]));case 11:l=e.sent,h=Be(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,lI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Zw(i.localStore,c);case 36:return y=e.sent,e.next=39,Uw(i.localStore,y);case 39:return l=e.sent,e.next=42,L_(i,bI(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kI.apply(this,arguments)}function bI(e){return oy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wI(e){var t=Vp(e);return Vp(Vp(t.localStore).persistence).vi()}function xI(e,t,n,r){return _I.apply(this,arguments)}function _I(){return _I=St(It().mark((function e(t,n,r,i){var a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Vp(t)).dc){e.next=3;break}return e.abrupt("return",void Op("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,qw(a.localStore,by(o[0]));case 10:return u=e.sent,s=bg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,zv.EMPTY_BYTE_STRING),e.next=14,aI(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,jw(a.localStore,n,!0);case 17:return eI(a,n,i),e.abrupt("break",20);case 19:Mp();case 20:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function II(e,t,n){return EI.apply(this,arguments)}function EI(){return EI=St(It().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=SI(t)).dc){e.next=45;break}a=Be(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Op("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Zw(i.localStore,u);case 12:return s=e.sent,e.next=15,Uw(i.localStore,s);case 15:return c=e.sent,e.next=18,L_(i,bI(s),c.targetId,!1,c.resumeToken);case 18:Ex(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Be(r),e.prev=30,h=It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,jw(i.localStore,t,!1).then((function(){Sx(i.remoteStore,t),eI(i,t)})).catch(kv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),EI.apply(this,arguments)}function SI(e){var t=Vp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=B_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=q_.bind(null,t),t.sc.Wo=k_.bind(null,t.eventManager),t.sc.wc=b_.bind(null,t.eventManager),t}function TI(e){var t=Vp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=W_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=H_.bind(null,t),t}function CI(e,t,n){var r=Vp(e);(function(){var e=St(It().mark((function e(t,n,r){var i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Vp(e),r=Mg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(S_(i)),a=new E_(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,aI(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Vp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Pp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var AI=function(){function e(){Me(this,e),this.synchronizeTabs=!1}return Ue(e,[{key:"initialize",value:function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=dx(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Dw(this.persistence,new Aw,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new gw(bw.Bs,this.yt)}},{key:"gc",value:function(e){return new ax}},{key:"terminate",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),NI=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ue(n,[{key:"initialize",value:function(){var e=St(It().mark((function e(t){var r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr(Ze(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,TI(this.Ac.syncEngine);case 6:return e.next=8,zx(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Dw(this.persistence,new Aw,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Qb(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Ov(t,this.persistence);return new Dv(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Tw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pb.withCacheSize(this.cacheSizeBytes):Pb.DEFAULT;return new Iw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fx(),hx(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new ax}}]),n}(AI),DI=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ue(n,[{key:"initialize",value:function(){var e=St(It().mark((function e(t){var r,i=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr(Ze(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof ix,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:pI.bind(null,r),$r:xI.bind(null,r),Br:II.bind(null,r),vi:wI.bind(null,r),Mr:hI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mI(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=fx();if(!ix.C(t))throw new jp(Up.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Tw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ix(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(NI),OI=function(){function e(){Me(this,e)}return Ue(e,[{key:"initialize",value:function(){var e=St(It().mark((function e(t,n){var r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Z_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,this.syncEngine),e.next=12,i_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new p_}},{key:"createDatastore",value:function(e){var t,n=dx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new lx(t));return function(e,t,n,r){return new gx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Z_(o.syncEngine,e,0)},a=ux.C()?new ux:new ox,new bx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new O_(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vp(t),Op("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,_x(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function RI(e,t,n){if(!n)throw new jp(Up.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function PI(e,t,n,r){if(!0===t&&!0===r)throw new jp(Up.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function LI(e){if(!uv.isDocumentKey(e))throw new jp(Up.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function MI(e){if(uv.isDocumentKey(e))throw new jp(Up.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function FI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mp()}function VI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new jp(Up.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=FI(e);throw new jp(Up.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function UI(e,t){if(t<=0)throw new jp(Up.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jI=new Map,BI=function(){function e(t){var n;if(Me(this,e),void 0===t.host){if(void 0!==t.ssl)throw new jp(Up.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jp(Up.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,PI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ue(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),zI=function(){function e(t,n,r,i){Me(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BI({}),this._settingsFrozen=!1}return Ue(e,[{key:"app",get:function(){if(!this._app)throw new jp(Up.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new jp(Up.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zp;switch(e.type){case"gapi":var t=e.client;return new Gp(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new jp(Up.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jI.get(e);t&&(Op("ComponentProvider","Removing Datastore"),jI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ZI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=VI(e,zI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Pp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Cp.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new jp(Up.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Cp(s)}e._authCredentials=new qp(new zp(o,u))}}var qI=function(){function e(t,n,r){Me(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ue(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new WI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),KI=function(){function e(t,n,r){Me(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ue(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),WI=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this,e,r,uy(i)))._path=i,a.type="collection",a}return Ue(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new qI(this.firestore,null,new uv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(KI);function GI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_t(e),RI("collection","path",t),e instanceof zI){var a=iv.fromString.apply(iv,[t].concat(r));return MI(a),new WI(e,null,a)}if(!(e instanceof qI||e instanceof WI))throw new jp(Up.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(iv.fromString.apply(iv,[t].concat(r)));return MI(o),new WI(e.firestore,null,o)}function HI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_t(e),1===arguments.length&&(t=Yp.R()),RI("doc","path",t),e instanceof zI){var a=iv.fromString.apply(iv,[t].concat(r));return LI(a),new qI(e,null,new uv(a))}if(!(e instanceof qI||e instanceof WI))throw new jp(Up.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(iv.fromString.apply(iv,[t].concat(r)));return LI(o),new qI(e.firestore,e instanceof WI?e.converter:null,new uv(o))}function QI(e,t){return e=_t(e),t=_t(t),(e instanceof qI||e instanceof WI)&&(t instanceof qI||t instanceof WI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $I(e,t){return e=_t(e),t=_t(t),e instanceof KI&&t instanceof KI&&e.firestore===t.firestore&&my(e._query,t._query)&&e.converter===t.converter}function YI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return St(It().mark((function r(){var i;return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var XI=function(){function e(t){Me(this,e),this.observer=t,this.muted=!1}return Ue(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Rp("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),JI=function(){function e(t,n){var r=this;Me(this,e),this.Pc=t,this.yt=n,this.metadata=new Bp,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Ue(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=St(It().mark((function e(){var t,n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new __(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=St(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=St(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eE=function(){function e(t){Me(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ue(e,[{key:"lookup",value:function(){var e=St(It().mark((function e(t){var n,r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new jp(Up.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=St(It().mark((function e(t,n){var r,i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),i=Zg(r.yt)+"/documents",a={documents:n.map((function(e){return Ug(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Gg(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Fp(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new tg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=St(It().mark((function e(){var t,n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=uv.fromPath(t);n.mutations.push(new ng(r,n.precondition(r)))})),e.next=7,function(){var e=St(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vp(t),i=Zg(r.yt)+"/documents",a={writes:n.map((function(e){return Hg(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mp();t=nv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new jp(Up.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(nv.min())?jy.exists(!1):jy.updateTime(t):jy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nv.min()))throw new jp(Up.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jy.updateTime(t)}return jy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),tE=function(){function e(t,n,r,i,a){Me(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new px(this.asyncQueue,"transaction_retry")}return Ue(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(St(It().mark((function t(){var n,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new eE(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Uv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ig(t)}return!1}}]),e}(),nE=function(){function e(t,n,r,i){var a=this;Me(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cp.UNAUTHENTICATED,this.clientId=Yp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Op("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Op("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ue(e,[{key:"getConfiguration",value:function(){var e=St(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new jp(Up.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(St(It().mark((function n(){var r;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=c_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Op("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ow(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return oE=St(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,uE(t);case 3:return r=e.sent,Op("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return n_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return n_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(e){return sE.apply(this,arguments)}function sE(){return sE=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Op("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,rE(t,new AI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e){return lE.apply(this,arguments)}function lE(){return lE=St(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Op("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,aE(t,new OI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e){return uE(e).then((function(e){return e.persistence}))}function hE(e){return uE(e).then((function(e){return e.localStore}))}function dE(e){return cE(e).then((function(e){return e.remoteStore}))}function pE(e){return cE(e).then((function(e){return e.syncEngine}))}function vE(e){return cE(e).then((function(e){return e.datastore}))}function mE(e){return yE.apply(this,arguments)}function yE(){return yE=St(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=R_.bind(null,n.syncEngine),r.onUnlisten=F_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bp;return e.asyncQueue.enqueueAndForget(St(It().mark((function i(){return It().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XI({next:function(a){t.enqueueAndForget((function(){return y_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new jp(Up.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new jp(Up.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new x_(uy(n.path),a,{includeMetadataChanges:!0,Nu:!0});return v_(e,o)},i.next=3,mE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bp;return e.asyncQueue.enqueueAndForget(St(It().mark((function i(){return It().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XI({next:function(n){t.enqueueAndForget((function(){return y_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new jp(Up.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new x_(n,a,{includeMetadataChanges:!0,Nu:!0});return v_(e,o)},i.next=3,mE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var bE=function(){function e(){var t=this;Me(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new px(this,"async_queue_retry"),this.Wc=function(){var e=hx();e&&Op("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=hx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Ue(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=hx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Bp;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=St(It().mark((function e(){var t=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Sv(e.t0)){e.next=12;break}throw e.t0;case 12:Op("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Rp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=s_.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Mp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=St(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Be(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Be(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function wE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Be(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var xE=function(){function e(){Me(this,e),this._progressObserver={},this._taskCompletionResolver=new Bp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ue(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),_E=function(e){ze(n,e);var t=We(n);function n(e,r,i,a){var o;return Me(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new bE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Ue(n,[{key:"_terminate",value:function(){return this._firestoreClient||EE(this),this._firestoreClient.terminate()}}]),n}(zI);function IE(e){return e._firestoreClient||EE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function EE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Pv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function SE(e,t,n){var r=new Bp;return e.asyncQueue.enqueue(St(It().mark((function i(){var a;return It().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,rE(e,n);case 3:return i.next=5,aE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Up.FAILED_PRECONDITION||e.code===Up.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Pp("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function TE(e){return function(e){return e.asyncQueue.enqueue(St(It().mark((function t(){var n,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fE(e);case 2:return n=t.sent,t.next=5,dE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Vp(e);return t._u.delete(0),wx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(IE(e=VI(e,_E)))}function CE(e){return function(e){return e.asyncQueue.enqueue(St(It().mark((function t(){var n,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fE(e);case 2:return n=t.sent,t.next=5,dE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vp(t))._u.add(0),e.next=4,_x(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(IE(e=VI(e,_E)))}function AE(e,t){var n=IE(e=VI(e,_E)),r=new xE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new JI(e,t)}(function(e,t){if(e instanceof Uint8Array)return YI(e,t);if(e instanceof ArrayBuffer)return YI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,dx(t));e.asyncQueue.enqueueAndForget(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CI,t.next=3,pE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function NE(e,t){return function(e,t){return e.asyncQueue.enqueue(St(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Vp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,hE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(IE(e=VI(e,_E)),t).then((function(t){return t?new KI(e,null,t.query):null}))}function DE(e){if(e._initialized||e._terminated)throw new jp(Up.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var OE=function(){function e(t){Me(this,e),this._byteString=t}return Ue(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(zv.fromBase64String(t))}catch(t){throw new jp(Up.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(zv.fromUint8Array(t))}}]),e}(),RE=function(){function e(){Me(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new jp(Up.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ov(n)}return Ue(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var PE=Ue((function e(t){Me(this,e),this._methodName=t})),LE=function(){function e(t,n){if(Me(this,e),!isFinite(t)||t<-90||t>90)throw new jp(Up.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new jp(Up.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ue(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Xp(this._lat,e._lat)||Xp(this._long,e._long)}}]),e}(),ME=/^__.*__$/,FE=function(){function e(t,n,r){Me(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ue(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Qy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hy(e,this.data,t,this.fieldTransforms)}}]),e}(),VE=function(){function e(t,n,r){Me(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ue(e,[{key:"toMutation",value:function(e,t){return new Qy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function UE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mp()}}var jE=function(){function e(t,n,r,i,a,o){Me(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ue(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return oS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(UE(this.sa)&&ME.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),BE=function(){function e(t,n,r){Me(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||dx(t)}return Ue(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jE({sa:e,methodName:t,fa:n,path:ov.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function zE(e){var t=e._freezeSettings(),n=dx(e._databaseId);return new BE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ZE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);nS("Data must be an object, but it was:",o,r);var u,s,c=eS(r,o);if(a.merge)u=new Gm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Be(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=rS(t,l.value,n);if(!o.contains(d))throw new jp(Up.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));uS(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Gm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new FE(new Hm(c),u,s)}var qE=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(PE);function KE(e,t,n){return new jE({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var WE=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"_toFieldTransform",value:function(e){return new Vy(e.path,new Ny)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(PE),GE=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e))._a=r,i}return Ue(n,[{key:"_toFieldTransform",value:function(e){var t=KE(this,e,!0),n=this._a.map((function(e){return JE(e,t)})),r=new Dy(n);return new Vy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PE),HE=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e))._a=r,i}return Ue(n,[{key:"_toFieldTransform",value:function(e){var t=KE(this,e,!0),n=this._a.map((function(e){return JE(e,t)})),r=new Ry(n);return new Vy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PE),QE=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e)).wa=r,i}return Ue(n,[{key:"_toFieldTransform",value:function(e){var t=new Ly(e.yt,Ey(e.yt,this.wa));return new Vy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PE);function $E(e,t,n,r){var i=e.da(1,t,n);nS("Data must be an object, but it was:",i,r);var a=[],o=Hm.empty();Fv(r,(function(e,r){var u=aS(t,e,n);r=_t(r);var s=i.ca(u);if(r instanceof qE)a.push(u);else{var c=JE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Gm(a);return new VE(o,u,i.fieldTransforms)}function YE(e,t,n,r,i,a){var o=e.da(1,t,n),u=[rS(t,r,n)],s=[i];if(a.length%2!=0)throw new jp(Up.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(rS(t,a[c])),s.push(a[c+1]);for(var l=[],f=Hm.empty(),h=u.length-1;h>=0;--h)if(!uS(l,u[h])){var d=u[h],p=s[h];p=_t(p);var v=o.ca(d);if(p instanceof qE)l.push(d);else{var m=JE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Gm(l);return new VE(f,y,o.fieldTransforms)}function XE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return JE(n,e.da(r?4:3,t))}function JE(e,t){if(tS(e=_t(e)))return nS("Unsupported field value:",t,e),eS(e,t);if(e instanceof PE)return function(e,t){if(!UE(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Be(e);try{for(a.s();!(n=a.n()).done;){var o=JE(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=_t(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ey(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=tv.fromDate(e);return{timestampValue:Rg(t.yt,n)}}if(e instanceof tv){var r=new tv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rg(t.yt,r)}}if(e instanceof LE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof OE)return{bytesValue:Pg(t.yt,e._byteString)};if(e instanceof qI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Fg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(FI(e)))}(e,t)}function eS(e,t){var n={};return Vv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fv(e,(function(e,r){var i=JE(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function tS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tv||e instanceof LE||e instanceof OE||e instanceof qI||e instanceof PE)}function nS(e,t,n){if(!tS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=FI(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function rS(e,t,n){if((t=_t(t))instanceof RE)return t._internalPath;if("string"==typeof t)return aS(e,t);throw oS("Field path arguments must be of type string or ",e,!1,void 0,n)}var iS=new RegExp("[~\\*/\\[\\]]");function aS(e,t,n){if(t.search(iS)>=0)throw oS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ge(RE,(0,C.Z)(t.split(".")))._internalPath}catch(r){throw oS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function oS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new jp(Up.INVALID_ARGUMENT,u+e+s)}function uS(e,t){return e.some((function(e){return e.isEqual(t)}))}var sS=function(){function e(t,n,r,i,a){Me(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ue(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new qI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new cS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),cS=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"data",value:function(){return cr(Ze(n.prototype),"data",this).call(this)}}]),n}(sS);function lS(e,t){return"string"==typeof t?aS(e,t):t instanceof RE?t._internalPath:t._delegate._internalPath}function fS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new jp(Up.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hS=Ue((function e(){Me(this,e)})),dS=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n)}(hS);function pS(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof hS&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof mS})).length,n=e.filter((function(e){return e instanceof vS})).length;if(t>1||t>0&&n>0)throw new jp(Up.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Be(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var vS=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Ue(n,[{key:"_apply",value:function(e){var t=this._parse(e);return CS(e._query,t),new KI(e.firestore,e.converter,py(e._query,t))}},{key:"_parse",value:function(e){var t=zE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new jp(Up.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){TS(o,a);var s,c=[],l=Be(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(SS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=SS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||TS(o,a),u=XE(n,"where",o,"in"===a||"not-in"===a);return wm.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dS);var mS=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Ue(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:xm.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Be(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;CS(r,a),r=py(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new KI(e.firestore,e.converter,py(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hS);var yS=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Ue(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new jp(Up.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new jp(Up.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Um(t,n);return function(e,t){if(null===cy(e)){var n=ly(e);null!==n&&AS(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new KI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ay(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(dS);var gS=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Ue(n,[{key:"_apply",value:function(e){return new KI(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dS);var kS=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ue(n,[{key:"_apply",value:function(e){var t=ES(e,this.type,this._docOrFields,this._inclusive);return new KI(e.firestore,e.converter,function(e,t){return new ay(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dS);function bS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kS._create("startAt",t,!0)}function wS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kS._create("startAfter",t,!1)}var xS=function(e){ze(n,e);var t=We(n);function n(e,r,i){var a;return Me(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ue(n,[{key:"_apply",value:function(e){var t=ES(e,this.type,this._docOrFields,this._inclusive);return new KI(e.firestore,e.converter,function(e,t){return new ay(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dS);function _S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xS._create("endBefore",t,!1)}function IS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xS._create("endAt",t,!0)}function ES(e,t,n,r){if(n[0]=_t(n[0]),n[0]instanceof sS)return function(e,t,n,r,i){if(!r)throw new jp(Up.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Be(hy(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(am(t,r.key));else{var c=r.data.field(s.field);if(Gv(c))throw new jp(Up.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new jp(Up.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ym(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=zE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new jp(Up.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new jp(Up.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!fy(e)&&-1!==c.indexOf("/"))throw new jp(Up.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(iv.fromString(c));if(!uv.isDocumentKey(l))throw new jp(Up.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new uv(l);u.push(am(t,f))}else{var h=XE(n,r,c);u.push(h)}}return new ym(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function SS(e,t,n){if("string"==typeof(n=_t(n))){if(""===n)throw new jp(Up.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fy(t)&&-1!==n.indexOf("/"))throw new jp(Up.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(iv.fromString(n));if(!uv.isDocumentKey(r))throw new jp(Up.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return am(e,new uv(r))}if(n instanceof qI)return am(e,n._key);throw new jp(Up.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(FI(n),"."))}function TS(e,t){if(!Array.isArray(e)||0===e.length)throw new jp(Up.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new jp(Up.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function CS(e,t){if(t.isInequality()){var n=ly(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new jp(Up.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=cy(e);null!==i&&AS(e,r,i)}var a=function(e,t){var n,r=Be(e);try{for(r.s();!(n=r.n()).done;){var i,a=Be(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new jp(Up.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new jp(Up.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function AS(e,t,n){if(!n.isEqual(t))throw new jp(Up.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var NS=function(){function e(){Me(this,e)}return Ue(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Fv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new LE(Kv(e.latitude),Kv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Hv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=qv(e);return new tv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=iv.fromString(e);Fp(uk(n));var r=new Lv(n.get(1),n.get(3)),i=new uv(n.popFirst(5));return r.isEqual(t)||Rp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function DS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var OS=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this)).firestore=e,r}return Ue(n,[{key:"convertBytes",value:function(e){return new OE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qI(this.firestore,null,t)}}]),n}(NS),RS=function(){function e(t,n){Me(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ue(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),PS=function(e){ze(n,e);var t=We(n);function n(e,r,i,a,o,u){var s;return Me(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ue(n,[{key:"exists",value:function(){return cr(Ze(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new LS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(sS),LS=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return cr(Ze(n.prototype),"data",this).call(this,e)}}]),n}(PS),MS=function(){function e(t,n,r,i){Me(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new RS(i.hasPendingWrites,i.fromCache),this.query=r}return Ue(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new LS(n._firestore,n._userDataWriter,r.key,r,new RS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new jp(Up.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new LS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new LS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new RS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:FS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function FS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mp()}}function VS(e,t){return e instanceof PS&&t instanceof PS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof MS&&t instanceof MS&&e._firestore===t._firestore&&$I(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var US=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this)).firestore=e,r}return Ue(n,[{key:"convertBytes",value:function(e){return new OE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qI(this.firestore,null,t)}}]),n}(NS);function jS(e){e=VI(e,qI);var t=VI(e.firestore,_E),n=IE(t),r=new US(t);return function(e,t){var n=new Bp;return e.asyncQueue.enqueueAndForget(St(It().mark((function r(){return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=St(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Vp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new jp(Up.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=c_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new PS(t,r,e._key,n,new RS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function BS(e){e=VI(e,KI);var t=VI(e.firestore,_E),n=IE(t),r=new US(t);return function(e,t){var n=new Bp;return e.asyncQueue.enqueueAndForget(St(It().mark((function r(){return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=St(It().mark((function e(t,n,r){var i,a,o,u,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zw(t,n,!0);case 3:i=e.sent,a=new A_(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=c_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new MS(t,r,e,n)}))}function zS(e,t,n){e=VI(e,qI);var r=VI(e.firestore,_E),i=DS(e.converter,t,n);return WS(r,[ZE(zE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jy.none())])}function ZS(e,t,n){e=VI(e,qI);for(var r=VI(e.firestore,_E),i=zE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return WS(r,[("string"==typeof(t=_t(t))||t instanceof RE?YE(i,"updateDoc",e._key,t,n,o):$E(i,"updateDoc",e._key,t)).toMutation(e._key,jy.exists(!0))])}function qS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=_t(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||wE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(wE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof qI)l=VI(e.firestore,_E),f=uy(e._key.path),c={next:function(t){n[s]&&n[s](GS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=VI(e,KI);l=VI(p.firestore,_E),f=p._query;var v=new US(l);c={next:function(e){n[s]&&n[s](new MS(l,v,p,e))},error:n[s+1],complete:n[s+2]},fS(e._query)}return function(e,t,n,r){var i=new XI(r),a=new x_(t,i,n);return e.asyncQueue.enqueueAndForget(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=v_,t.next=3,mE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=y_,t.next=3,mE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IE(l),f,h,c)}function KS(e,t){return function(e,t){var n=new XI(t);return e.asyncQueue.enqueueAndForget(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Vp(e).Ru.add(t),t.next()},t.next=3,mE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(St(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Vp(e).Ru.delete(t)},t.next=3,mE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IE(e=VI(e,_E)),wE(t)?t:{next:t})}function WS(e,t){return function(e,t){var n=new Bp;return e.asyncQueue.enqueueAndForget(St(It().mark((function r(){return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=U_,r.next=3,pE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(IE(e),t)}function GS(e,t,n){var r=n.docs.get(t._key),i=new US(e);return new PS(e,i,t._key,r,new RS(n.hasPendingWrites,n.fromCache),t.converter)}var HS={maxAttempts:5},QS=function(){function e(t,n){Me(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zE(t)}return Ue(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=$S(e,this._firestore),i=DS(r.converter,t,n),a=ZE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,jy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=$S(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=_t(t))||t instanceof RE?YE(this._dataReader,"WriteBatch.update",i._key,t,n,o):$E(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,jy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=$S(e,this._firestore);return this._mutations=this._mutations.concat(new tg(t._key,jy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new jp(Up.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function $S(e,t){if((e=_t(e)).firestore!==t)throw new jp(Up.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var YS=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ue(n,[{key:"get",value:function(e){var t=this,r=$S(e,this._firestore),i=new US(this._firestore);return cr(Ze(n.prototype),"get",this).call(this,e).then((function(e){return new PS(t._firestore,i,r._key,e._document,new RS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Me(this,e),this._firestore=t,this._transaction=n,this._dataReader=zE(t)}return Ue(e,[{key:"get",value:function(e){var t=this,n=$S(e,this._firestore),r=new OS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Mp();var i=e[0];if(i.isFoundDocument())return new sS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new sS(t._firestore,r,n._key,null,n.converter);throw Mp()}))}},{key:"set",value:function(e,t,n){var r=$S(e,this._firestore),i=DS(r.converter,t,n),a=ZE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=$S(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=_t(t))||t instanceof RE?YE(this._dataReader,"Transaction.update",i._key,t,n,o):$E(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=$S(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function XS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GE("arrayUnion",t)}function JS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ap=e}(In),yn(new Tt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new _E(new Kp(e.getProvider("auth-internal")),new Qp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jp(Up.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Nn(Tp,"3.8.3",e),Nn(Tp,"3.8.3","esm2017")}();var eT="@firebase/firestore-compat",tT="0.3.3";function nT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new jp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function rT(){if("undefined"===typeof Uint8Array)throw new jp("unimplemented","Uint8Arrays are not available in this environment.")}function iT(){if("undefined"==typeof atob)throw new jp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var aT=function(){function e(t){Me(this,e),this._delegate=t}return Ue(e,[{key:"toBase64",value:function(){return iT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return rT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return iT(),new e(OE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return rT(),new e(OE.fromUint8Array(t))}}]),e}();function oT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Be(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uT=function(){function e(){Me(this,e)}return Ue(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){DE(e=VI(e,_E));var n=IE(e),r=e._freezeSettings(),i=new OI;return SE(n,i,new NI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){DE(e=VI(e,_E));var t=IE(e),n=e._freezeSettings(),r=new OI;return SE(t,r,new DI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new jp(Up.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Bp;return e._queue.enqueueAndForgetEvenWhileRestricted(St(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=St(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_v.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,_v.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Tw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),sT=function(){function e(t,n,r){var i=this;Me(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Lv||(this._appCompat=t)}return Ue(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Pp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return TE(this._delegate)}},{key:"disableNetwork",value:function(){return CE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&PI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Bp;return e.asyncQueue.enqueueAndForget(St(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=$_,n.next=3,pE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(IE(e=VI(e,_E)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return KS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new jp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new xT(this,GI(this._delegate,e))}catch(t){throw pT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new dT(this,HI(this._delegate,e))}catch(t){throw pT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new kT(this,function(e,t){if(e=VI(e,zI),RI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new jp(Up.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new KI(e,null,function(e){return new ay(iv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw pT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=VI(e,_E);var r=Object.assign(Object.assign({},HS),n);return function(e){if(e.maxAttempts<1)throw new jp(Up.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Bp;return e.asyncQueue.enqueueAndForget(St(It().mark((function i(){var a;return It().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vE(e);case 2:a=i.sent,new tE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(IE(e),(function(n){return t(new YS(e,n))}),r)}(this._delegate,(function(n){return e(new lT(t,n))}))}},{key:"batch",value:function(){var e=this;return IE(this._delegate),new fT(new QS(this._delegate,(function(t){return WS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return AE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return NE(this._delegate,e).then((function(e){return e?new kT(t,e):null}))}}]),e}(),cT=function(e){ze(n,e);var t=We(n);function n(e){var r;return Me(this,n),(r=t.call(this)).firestore=e,r}return Ue(n,[{key:"convertBytes",value:function(e){return new aT(new OE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return dT.forKey(t,this.firestore,null)}}]),n}(NS);var lT=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new cT(t)}return Ue(e,[{key:"get",value:function(e){var t=this,n=_T(e);return this._delegate.get(n).then((function(e){return new yT(t._firestore,new PS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=_T(e);return n?(nT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=_T(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=_T(e);return this._delegate.delete(t),this}}]),e}(),fT=function(){function e(t){Me(this,e),this._delegate=t}return Ue(e,[{key:"set",value:function(e,t,n){var r=_T(e);return n?(nT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=_T(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=_T(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),hT=function(){function e(t,n,r){Me(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ue(e,[{key:"fromFirestore",value:function(e,t){var n=new LS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new cT(t),n),i.set(n,a)),a}}]),e}();hT.INSTANCES=new WeakMap;var dT=function(){function e(t,n){Me(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new cT(t)}return Ue(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new xT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new xT(this.firestore,GI(this._delegate,e))}catch(t){throw pT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=_t(e))instanceof qI&&QI(this._delegate,e)}},{key:"set",value:function(e,t){t=nT("DocumentReference.set",t);try{return t?zS(this._delegate,e,t):zS(this._delegate,e)}catch(n){throw pT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ZS(this._delegate,e):ZS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw pT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return WS(VI(e.firestore,_E),[new tg(e._key,jy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vT(n),a=mT(n,(function(t){return new yT(e.firestore,new PS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return qS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?jS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=VI(e,qI);var t=VI(e.firestore,_E);return gE(IE(t),e._key,{source:"server"}).then((function(n){return GS(t,e,n)}))}(this._delegate):function(e){e=VI(e,qI);var t=VI(e.firestore,_E);return gE(IE(t),e._key).then((function(n){return GS(t,e,n)}))}(this._delegate),t.then((function(e){return new yT(n.firestore,new PS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new jp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new qI(n._delegate,r,new uv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new qI(n._delegate,r,t))}}]),e}();function pT(e,t,n){return e.message=e.message.replace(t,n),e}function vT(e){var t,n=Be(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!oT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function mT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=oT(e[0])?e[0]:oT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yT=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n}return Ue(e,[{key:"ref",get:function(){return new dT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return VS(this._delegate,e._delegate)}}]),e}(),gT=function(e){ze(n,e);var t=We(n);function n(){return Me(this,n),t.apply(this,arguments)}return Ue(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Mp()}(void 0!==t),t}}]),n}(yT),kT=function(){function e(t,n){Me(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new cT(t)}return Ue(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pS(this._delegate,function(e,t,n){var r=t,i=lS("where",e);return vS._create(i,r,n)}(t,n,r)))}catch(i){throw pT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=lS("orderBy",e);return yS._create(n,t)}(t,n)))}catch(r){throw pT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pS(this._delegate,function(e){return UI("limit",e),gS._create("limit",e,"F")}(t)))}catch(n){throw pT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pS(this._delegate,function(e){return UI("limitToLast",e),gS._create("limitToLast",e,"L")}(t)))}catch(n){throw pT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,pS(this._delegate,bS.apply(void 0,arguments)))}catch(t){throw pT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pS(this._delegate,wS.apply(void 0,arguments)))}catch(t){throw pT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pS(this._delegate,_S.apply(void 0,arguments)))}catch(t){throw pT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pS(this._delegate,IS.apply(void 0,arguments)))}catch(t){throw pT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return $I(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?BS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=VI(e,KI);var t=VI(e.firestore,_E),n=IE(t),r=new US(t);return kE(n,e._query,{source:"server"}).then((function(n){return new MS(t,r,e,n)}))}(this._delegate):function(e){e=VI(e,KI);var t=VI(e.firestore,_E),n=IE(t),r=new US(t);return fS(e._query),kE(n,e._query).then((function(n){return new MS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new wT(n.firestore,new MS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vT(n),a=mT(n,(function(t){return new wT(e.firestore,new MS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return qS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),bT=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n}return Ue(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new gT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),wT=function(){function e(t,n){Me(this,e),this._firestore=t,this._delegate=n}return Ue(e,[{key:"query",get:function(){return new kT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new gT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new bT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new gT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return VS(this._delegate,e._delegate)}}]),e}(),xT=function(e){ze(n,e);var t=We(n);function n(e,r){var i;return Me(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ue(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new dT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new dT(this.firestore,void 0===e?HI(this._delegate):HI(this._delegate,e))}catch(t){throw pT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=VI(e.firestore,_E),r=HI(e),i=DS(e.converter,t);return WS(n,[ZE(zE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new dT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return QI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(hT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(kT);function _T(e){return VI(e,qI)}var IT=function(){function e(){Me(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ge(RE,n)}return Ue(e,[{key:"isEqual",value:function(e){return(e=_t(e))instanceof RE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ov.keyField().canonicalString())}}]),e}(),ET=function(){function e(t){Me(this,e),this._delegate=t}return Ue(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new WE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=XS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=JS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new QE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ST={Firestore:sT,GeoPoint:LE,Timestamp:tv,Blob:aT,Transaction:lT,WriteBatch:fT,DocumentReference:dT,DocumentSnapshot:yT,Query:kT,QueryDocumentSnapshot:gT,QuerySnapshot:wT,CollectionReference:xT,FieldPath:IT,FieldValue:ET,setLogLevel:function(e){!function(e){Np.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Tt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ST)))}(e,(function(e,t){return new sT(e,t,new uT)})),e.registerVersion(eT,tT)}(ar);var TT=ar.initializeApp({apiKey:"AIzaSyB1L-3eu0le-XfT9eAYEebbqBTq0DBon9c",authDomain:"twitter-clone-a953f.firebaseapp.com",databaseURL:"https://twitter-clone-a953f.firebaseio.com",projectId:"twitter-clone-a953f",storageBucket:"twitter-clone-a953f.appspot.com",messagingSenderId:"435254899860",appId:"1:435254899860:web:2bd01b6b622a35af64f081",measurementId:"G-49748Y4YJ6"}).firestore();function CT(){var e=(0,t.useState)(""),n=(0,I.Z)(e,2),r=n[0],i=n[1],o=(0,t.useState)(""),u=(0,I.Z)(o,2),s=u[0],c=u[1];return(0,a.jsx)("div",{className:"tweetBox",children:(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"tweetBox__input",children:[(0,a.jsx)(Le,{src:"https://kajabi-storefronts-production.global.ssl.fastly.net/kajabi-storefronts-production/themes/284832/settings_images/rLlCifhXRJiT0RoN2FjK_Logo_roundbackground_black.png"}),(0,a.jsx)("input",{onChange:function(e){return i(e.target.value)},value:r,placeholder:"Vad som h\xe4nder nu",type:"text"})]}),(0,a.jsx)("input",{value:s,onChange:function(e){return c(e.target.value)},className:"tweetBox__imageInput",placeholder:"Altenativ: L\xe4gg till bild",type:"text"}),(0,a.jsx)(Se,{onClick:function(e){e.preventDefault(),TT.collection("posts").add({displayName:"IsaacSkog",username:"IsaacSkog",variefied:!0,text:r,image:s,avatar:"https://kajabi-storefronts-production.global.ssl.fastly.net/kajabi-storefronts-production/themes/284832/settings_images/rLlCifhXRJiT0RoN2FjK_Logo_roundbackground_black.png"}),i(""),c("")},type:"submit",className:"tweetBox__tweetButton",children:"Tweet"})]})})}var AT=n(9930),NT=n(3164),DT=n(9627),OT=n(7488),RT=n(8401),PT=(0,t.forwardRef)((function(e,t){var n=e.displayName,r=e.username,i=e.verified,o=e.text,u=e.image,s=e.avatar;return(0,a.jsxs)("div",{className:"post",ref:t,children:[(0,a.jsx)("div",{className:"post__avatar",children:(0,a.jsx)(Le,{src:s})}),(0,a.jsxs)("div",{className:"post__body",children:[(0,a.jsxs)("div",{className:"post__header",children:[(0,a.jsx)("div",{className:"post__headerText",children:(0,a.jsxs)("h3",{children:[n," ",(0,a.jsxs)("span",{className:"post__headerSpecial",children:[i&&(0,a.jsx)(AT.Z,{className:"post__badge"}),"@",r]})]})}),(0,a.jsx)("div",{className:"post__headerDescription",children:(0,a.jsx)("p",{children:o})})]}),(0,a.jsx)("img",{src:u,alt:""}),(0,a.jsxs)("div",{className:"post__footer",children:[(0,a.jsx)(NT.Z,{fontSize:"small"}),(0,a.jsx)(DT.Z,{fontSize:"small"}),(0,a.jsx)(OT.Z,{fontSize:"small"}),(0,a.jsx)(RT.Z,{fontSize:"small"})]})]})]})}));function LT(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}LT("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),LT("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var MT=LT("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),FT=LT("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),VT={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},UT={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},jT=VT,BT="elevator",zT="none",ZT=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},qT=function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},KT=function(e){return(KT=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var WT=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),GT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HT=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},QT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$T=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},YT=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function XT(e){var n,r;return r=n=function(n){function r(){return HT(this,r),YT(this,n.apply(this,arguments))}return $T(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,jT),enterAnimation:this.convertAnimationProp(e.enterAnimation,VT),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,UT),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=QT({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":GT(e)){case"boolean":return t[e?BT:zT];case"string":return-1===Object.keys(t).indexOf(e)?t[BT]:t[e];default:return e}},r.prototype.render=function(){return t.createElement(e,this.convertProps(this.props))},r}(t.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:BT,leaveAnimation:BT,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function JT(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(WT(e),n[e])}))}var eC=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,a=(0,e.getPosition)(t),o=a.top-i.top,u=a.left-i.left;return[r.left-u,r.top-o]},tC=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,a=t.staggerDelayBy,o=t.easing;n+=e*a,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+o+" "+n+"ms"})).join(", ")},nC=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=ZT((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),rC=!nC;function iC(e){return e.key||""}function aC(e){return t.Children.toArray(e)}var oC=function(e){function n(){var t,i;HT(this,n);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return t=i=YT(this,e.call.apply(e,[this].concat(o))),i.state={children:aC(i.props?i.props.children:[]).map((function(e){return QT({},e,{element:e,appearing:!0})}))},i.childrenData={},i.parentData={domNode:null,boundingBox:null},i.heightPlaceholderData={domNode:null},i.remainingAnimations=0,i.childrenToAnimate=[],i.findDOMContainer=function(){var e=r.findDOMNode(i),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",MT()),i.parentData.domNode=t)},i.runAnimation=function(){var e=i.state.children.filter(i.doesChildNeedToBeAnimated),t=e.map((function(e){return i.computeInitialStyles(e)}));e.forEach((function(e,n){i.remainingAnimations+=1,i.childrenToAnimate.push(iC(e)),i.animateChild(e,n,t[n])})),"function"===typeof i.props.onStartAll&&i.callChildrenHook(i.props.onStartAll)},i.doesChildNeedToBeAnimated=function(e){if(!iC(e))return!1;var t=i.getChildData(iC(e)),n=t.domNode,r=t.boundingBox,a=i.parentData.boundingBox;if(!n)return!1;var o=i.props,u=o.appearAnimation,s=o.enterAnimation,c=o.leaveAnimation,l=o.getPosition,f=e.appearing&&u,h=e.entering&&s,d=e.leaving&&c;if(f||h||d)return!0;var p=eC({childDomNode:n,childBoundingBox:r,parentBoundingBox:a,getPosition:l}),v=p[0],m=p[1];return 0!==v||0!==m},YT(i,t)}return $T(n,e),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=!function(e,t){if(e===t)return!0;var n=!KT(e)||!KT(t),r=e.length!==t.length;return!n&&!r&&qT((function(e,n){return e===t[n]}),e)}(aC(this.props.children).map((function(e){return e.key})),aC(e.children).map((function(e){return e.key})))&&!this.isAnimationDisabled(this.props);t&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return QT({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,a){if(!ZT((function(e){return e.key===iC(i)}),e)&&t.props.leaveAnimation){var o=QT({},i,{leaving:!0}),u=a+r;n.splice(u,0,o),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(iC(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&FT(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),a=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return QT({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});JT({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-a["margin-top"]+"px",left:r.left-a["margin-left"]+"px",right:r.right-a["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,a=n.boundingBox;if(i&&a){JT({domNode:t,styles:{height:"0"}});var o=a.height-r(i).height;JT({domNode:t,styles:{height:o>0?o+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i}));this.state.children.forEach((function(t){var n=e.getChildData(iC(t)).domNode;n&&(t.entering||t.leaving||JT({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=aC(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return QT({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(iC(e)).domNode;i&&(JT({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:tC(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=QT({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=QT({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=QT({},n,r.props.leaveAnimation.to)),JT({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(iC(e)).domNode;if(n){n.addEventListener(nC,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(nC,r),e.leaving&&t.removeChildData(iC(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return QT({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=iC(r);if(i)if(e.hasChildData(i)){var a=e.getChildData(i);a.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),a=r(t),o=a.top,u=a.left,s=a.right,c=a.bottom,l=a.width,f=a.height;return{top:o-i.top,left:u-i.left,right:i.right-s,bottom:i.bottom-c,width:l,height:f}}({childDomNode:a.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=iC(t),a=n[r];i&&e.setChildData(i,{boundingBox:a})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?QT({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(iC(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var a=eC({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+a[0]+"px, "+a[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return rC||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return ZT((function(t){return iC(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=QT({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return QT({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var e=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,t.createElement)(r,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map((function(n){return(0,t.cloneElement)(n.element,{ref:function(t){if(t){var i=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,r.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(t);e.setChildData(iC(n),{domNode:i})}}})}))},n.prototype.render=function(){var e=this,n=this.props,r=n.typeName,i=n.delegated,a=n.leaveAnimation,o=n.maintainContainerHeight,u=this.childrenWithRefs();if(a&&o&&u.push(this.createHeightPlaceholder()),!r)return u;var s=QT({},i,{children:u,ref:function(t){e.parentData.domNode=t}});return(0,t.createElement)(r,s)},n}(t.Component),uC=XT(oC);function sC(){var e=(0,t.useState)([]),n=(0,I.Z)(e,2),r=n[0],i=n[1];return(0,t.useEffect)((function(){TT.collection("posts").onSnapshot((function(e){return i(e.docs.map((function(e){return e.data()})))}))}),[]),(0,a.jsxs)("div",{className:"feed",children:[(0,a.jsx)("div",{className:"feed__header",children:(0,a.jsx)("h2",{children:"Home"})}),(0,a.jsx)(CT,{}),(0,a.jsx)(uC,{children:r.map((function(e){return(0,a.jsx)(PT,{displayName:e.displayName,username:e.username,varified:e.verified,text:e.text,avatar:e.avatar,image:e.image},e.text)}))})]})}var cC="https://platform.twitter.com/widgets.js",lC="createTimeline",fC=function(e){var r=t.useRef(null),i=t.useState(!0),a=i[0],o=i[1];return t.useEffect((function(){var t=!0;return n(8675)(cC,"twitter-embed",(function(){if(window.twttr){if(t){if(!window.twttr.widgets[lC])return void console.error("Method "+lC+" is not present anymore in twttr.widget api");var n=function(){var t,n,i=Object.assign({},e.options);return null!==e&&void 0!==e&&e.autoHeight&&(i.height=null===(t=r.current)||void 0===t||null===(n=t.parentNode)||void 0===n?void 0:n.offsetHeight),i=Object.assign({},i,{theme:null===e||void 0===e?void 0:e.theme,linkColor:null===e||void 0===e?void 0:e.linkColor,borderColor:null===e||void 0===e?void 0:e.borderColor,lang:null===e||void 0===e?void 0:e.lang,tweetLimit:null===e||void 0===e?void 0:e.tweetLimit,ariaPolite:null===e||void 0===e?void 0:e.ariaPolite})}();n=function(t){return t.chrome="",e.noHeader&&(t.chrome=t.chrome+" noheader"),e.noFooter&&(t.chrome=t.chrome+" nofooter"),e.noBorders&&(t.chrome=t.chrome+" noborders"),e.noScrollbar&&(t.chrome=t.chrome+" noscrollbar"),e.transparent&&(t.chrome=t.chrome+" transparent"),t}(n),window.twttr.widgets[lC]({sourceType:e.sourceType,screenName:e.screenName,userId:e.userId,ownerScreenName:e.ownerScreenName,slug:e.slug,id:e.id||e.widgetId,url:e.url},null===r||void 0===r?void 0:r.current,n).then((function(t){o(!1),e.onLoad&&e.onLoad(t)}))}}else console.error("Failure to load window.twttr, aborting load")})),function(){t=!1}}),[]),t.createElement(t.Fragment,null,a&&t.createElement(t.Fragment,null,e.placeholder),t.createElement("div",{ref:r}))},hC="createShareButton",dC=function(e){var r=t.useRef(null),i=t.useState(!0),a=i[0],o=i[1];return t.useEffect((function(){var t=!0;return n(8675)(cC,"twitter-embed",(function(){if(window.twttr){if(t){if(!window.twttr.widgets[hC])return void console.error("Method "+hC+" is not present anymore in twttr.widget api");window.twttr.widgets[hC](e.url,null===r||void 0===r?void 0:r.current,e.options).then((function(t){o(!1),e.onLoad&&e.onLoad(t)}))}}else console.error("Failure to load window.twttr, aborting load")})),function(){t=!1}}),[]),t.createElement(t.Fragment,null,a&&t.createElement(t.Fragment,null,e.placeholder),t.createElement("div",{ref:r}))},pC="createTweet",vC=function(e){var r=t.useRef(null),i=t.useState(!0),a=i[0],o=i[1];return t.useEffect((function(){var t=!0;return n(8675)(cC,"twitter-embed",(function(){if(window.twttr){if(t){if(!window.twttr.widgets[pC])return void console.error("Method "+pC+" is not present anymore in twttr.widget api");window.twttr.widgets[pC](e.tweetId,null===r||void 0===r?void 0:r.current,e.options).then((function(t){o(!1),e.onLoad&&e.onLoad(t)}))}}else console.error("Failure to load window.twttr, aborting load")})),function(){t=!1}}),[]),t.createElement(t.Fragment,null,a&&t.createElement(t.Fragment,null,e.placeholder),t.createElement("div",{ref:r}))};function mC(){return(0,a.jsxs)("div",{className:"widgets",children:[(0,a.jsxs)("div",{className:"widgets__input",children:[(0,a.jsx)(s.Z,{className:"widgets__searchIcon"}),(0,a.jsx)("input",{placeholder:"Search Twitter",type:"text"})]}),(0,a.jsxs)("div",{className:"widgets__widgetContainer",children:[(0,a.jsx)("h2",{children:"Vad som p\xe5g\xe5r i v\xe4rlden!"}),(0,a.jsx)(vC,{tweetId:"1622971221938958337"}),(0,a.jsx)(fC,{sourceType:"profile",screenName:"SpaceX",options:{height:400}}),(0,a.jsx)(dC,{url:"https://twitter.com/snafu_ftw/status/1623631969962676225",options:{text:"#StandWithUkraine!",via:"snafu_ftw"}})]})]})}var yC=function(){return(0,a.jsxs)("div",{className:"app",children:[(0,a.jsx)(Te,{}),(0,a.jsx)(sC,{}),(0,a.jsx)(mC,{})]})},gC=n(4647);r.render((0,a.jsx)(t.StrictMode,{children:(0,a.jsx)(yC,{})}),document.getElementById("root")),gC.unregister()}()}();
//# sourceMappingURL=main.0259e8a9.js.map